{
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _controllers = require(\"./controllers\");\n\nvar _expressCallback = _interopRequireDefault(require(\"./express-callback\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst apiRoot = process && process.env && process.env.DM_API_ROOT || undefined || \"\";\nconst app = (0, _express.default)();\napp.use(_bodyParser.default.json()); // TODO: figure out DNT compliance.\n\napp.use((_, res, next) => {\n  res.set({\n    Tk: '!'\n  });\n  next();\n});\napp.post(`${apiRoot}/comments`, (0, _expressCallback.default)(_controllers.postComment));\napp.delete(`${apiRoot}/comments/:id`, (0, _expressCallback.default)(_controllers.deleteComment));\napp.delete(`${apiRoot}/comments`, (0, _expressCallback.default)(_controllers.deleteComment));\napp.patch(`${apiRoot}/comments/:id`, (0, _expressCallback.default)(_controllers.patchComment));\napp.patch(`${apiRoot}/comments`, (0, _expressCallback.default)(_controllers.patchComment));\napp.get(`${apiRoot}/comments`, (0, _expressCallback.default)(_controllers.getComments));\napp.get(`${apiRoot}/main-comments`, (0, _expressCallback.default)(_controllers.getMainComments));\napp.use((0, _expressCallback.default)(_controllers.notFound)); // listen for requests\n\napp.listen(3000, () => {\n  console.log('Server is listening on port http://localhost:3000');\n});\nvar _default = app;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsImFwaVJvb3QiLCJhcHAiLCJ1c2UiLCJib2R5UGFyc2VyIiwianNvbiIsIl8iLCJyZXMiLCJuZXh0Iiwic2V0IiwiVGsiLCJwb3N0IiwicG9zdENvbW1lbnQiLCJkZWxldGUiLCJkZWxldGVDb21tZW50IiwicGF0Y2giLCJwYXRjaENvbW1lbnQiLCJnZXQiLCJnZXRDb21tZW50cyIsImdldE1haW5Db21tZW50cyIsIm5vdEZvdW5kIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQVFBOzs7O0FBRUFBLGdCQUFPQyxNQUFQOztBQUVBLE1BQU1DLE9BQU8sR0FBRyxrRUFBMkIsRUFBM0M7QUFFQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVFDLG9CQUFXQyxJQUFYLEVBQVIsRSxDQUNBOztBQUNBSCxHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDRyxDQUFELEVBQUlDLEdBQUosRUFBU0MsSUFBVCxLQUFrQjtBQUN4QkQsRUFBQUEsR0FBRyxDQUFDRSxHQUFKLENBQVE7QUFBRUMsSUFBQUEsRUFBRSxFQUFFO0FBQU4sR0FBUjtBQUNBRixFQUFBQSxJQUFJO0FBQ0wsQ0FIRDtBQUlBTixHQUFHLENBQUNTLElBQUosQ0FBVSxHQUFFVixPQUFRLFdBQXBCLEVBQWdDLDhCQUFhVyx3QkFBYixDQUFoQztBQUNBVixHQUFHLENBQUNXLE1BQUosQ0FBWSxHQUFFWixPQUFRLGVBQXRCLEVBQXNDLDhCQUFhYSwwQkFBYixDQUF0QztBQUNBWixHQUFHLENBQUNXLE1BQUosQ0FBWSxHQUFFWixPQUFRLFdBQXRCLEVBQWtDLDhCQUFhYSwwQkFBYixDQUFsQztBQUNBWixHQUFHLENBQUNhLEtBQUosQ0FBVyxHQUFFZCxPQUFRLGVBQXJCLEVBQXFDLDhCQUFhZSx5QkFBYixDQUFyQztBQUNBZCxHQUFHLENBQUNhLEtBQUosQ0FBVyxHQUFFZCxPQUFRLFdBQXJCLEVBQWlDLDhCQUFhZSx5QkFBYixDQUFqQztBQUNBZCxHQUFHLENBQUNlLEdBQUosQ0FBUyxHQUFFaEIsT0FBUSxXQUFuQixFQUErQiw4QkFBYWlCLHdCQUFiLENBQS9CO0FBRUFoQixHQUFHLENBQUNlLEdBQUosQ0FBUyxHQUFFaEIsT0FBUSxnQkFBbkIsRUFBbUMsOEJBQWFrQiw0QkFBYixDQUFuQztBQUVBakIsR0FBRyxDQUFDQyxHQUFKLENBQVEsOEJBQWFpQixxQkFBYixDQUFSLEUsQ0FFRTs7QUFDQWxCLEdBQUcsQ0FBQ21CLE1BQUosQ0FBVyxJQUFYLEVBQWlCLE1BQU07QUFDckJDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG1EQUFaO0FBQ0QsQ0FGRDtlQUthckIsRyIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnXHJcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJ1xyXG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudidcclxuaW1wb3J0IHtcclxuICBkZWxldGVDb21tZW50LFxyXG4gIGdldENvbW1lbnRzLFxyXG4gIG5vdEZvdW5kLFxyXG4gIHBvc3RDb21tZW50LFxyXG4gIHBhdGNoQ29tbWVudCxcclxuICBnZXRNYWluQ29tbWVudHNcclxufSBmcm9tICcuL2NvbnRyb2xsZXJzJ1xyXG5pbXBvcnQgbWFrZUNhbGxiYWNrIGZyb20gJy4vZXhwcmVzcy1jYWxsYmFjaydcclxuXHJcbmRvdGVudi5jb25maWcoKVxyXG5cclxuY29uc3QgYXBpUm9vdCA9IHByb2Nlc3MuZW52LkRNX0FQSV9ST09UIHx8IFwiXCJcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKVxyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKVxyXG4vLyBUT0RPOiBmaWd1cmUgb3V0IEROVCBjb21wbGlhbmNlLlxyXG5hcHAudXNlKChfLCByZXMsIG5leHQpID0+IHtcclxuICByZXMuc2V0KHsgVGs6ICchJyB9KVxyXG4gIG5leHQoKVxyXG59KVxyXG5hcHAucG9zdChgJHthcGlSb290fS9jb21tZW50c2AsIG1ha2VDYWxsYmFjayhwb3N0Q29tbWVudCkpXHJcbmFwcC5kZWxldGUoYCR7YXBpUm9vdH0vY29tbWVudHMvOmlkYCwgbWFrZUNhbGxiYWNrKGRlbGV0ZUNvbW1lbnQpKVxyXG5hcHAuZGVsZXRlKGAke2FwaVJvb3R9L2NvbW1lbnRzYCwgbWFrZUNhbGxiYWNrKGRlbGV0ZUNvbW1lbnQpKVxyXG5hcHAucGF0Y2goYCR7YXBpUm9vdH0vY29tbWVudHMvOmlkYCwgbWFrZUNhbGxiYWNrKHBhdGNoQ29tbWVudCkpXHJcbmFwcC5wYXRjaChgJHthcGlSb290fS9jb21tZW50c2AsIG1ha2VDYWxsYmFjayhwYXRjaENvbW1lbnQpKVxyXG5hcHAuZ2V0KGAke2FwaVJvb3R9L2NvbW1lbnRzYCwgbWFrZUNhbGxiYWNrKGdldENvbW1lbnRzKSlcclxuXHJcbmFwcC5nZXQoYCR7YXBpUm9vdH0vbWFpbi1jb21tZW50c2AsbWFrZUNhbGxiYWNrKGdldE1haW5Db21tZW50cykpXHJcblxyXG5hcHAudXNlKG1ha2VDYWxsYmFjayhub3RGb3VuZCkpXHJcblxyXG4gIC8vIGxpc3RlbiBmb3IgcmVxdWVzdHNcclxuICBhcHAubGlzdGVuKDMwMDAsICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXIgaXMgbGlzdGVuaW5nIG9uIHBvcnQgaHR0cDovL2xvY2FsaG9zdDozMDAwJylcclxuICB9KVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFwcFxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "dotenv",
        "config",
        "apiRoot",
        "app",
        "use",
        "bodyParser",
        "json",
        "_",
        "res",
        "next",
        "set",
        "Tk",
        "post",
        "postComment",
        "delete",
        "deleteComment",
        "patch",
        "patchComment",
        "get",
        "getComments",
        "getMainComments",
        "notFound",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AAQA;;;;AAEAA,gBAAOC,MAAP;;AAEA,MAAMC,OAAO,GAAG,kEAA2B,EAA3C;AAEA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR,E,CACA;;AACAH,GAAG,CAACC,GAAJ,CAAQ,CAACG,CAAD,EAAIC,GAAJ,EAASC,IAAT,KAAkB;AACxBD,EAAAA,GAAG,CAACE,GAAJ,CAAQ;AAAEC,IAAAA,EAAE,EAAE;AAAN,GAAR;AACAF,EAAAA,IAAI;AACL,CAHD;AAIAN,GAAG,CAACS,IAAJ,CAAU,GAAEV,OAAQ,WAApB,EAAgC,8BAAaW,wBAAb,CAAhC;AACAV,GAAG,CAACW,MAAJ,CAAY,GAAEZ,OAAQ,eAAtB,EAAsC,8BAAaa,0BAAb,CAAtC;AACAZ,GAAG,CAACW,MAAJ,CAAY,GAAEZ,OAAQ,WAAtB,EAAkC,8BAAaa,0BAAb,CAAlC;AACAZ,GAAG,CAACa,KAAJ,CAAW,GAAEd,OAAQ,eAArB,EAAqC,8BAAae,yBAAb,CAArC;AACAd,GAAG,CAACa,KAAJ,CAAW,GAAEd,OAAQ,WAArB,EAAiC,8BAAae,yBAAb,CAAjC;AACAd,GAAG,CAACe,GAAJ,CAAS,GAAEhB,OAAQ,WAAnB,EAA+B,8BAAaiB,wBAAb,CAA/B;AAEAhB,GAAG,CAACe,GAAJ,CAAS,GAAEhB,OAAQ,gBAAnB,EAAmC,8BAAakB,4BAAb,CAAnC;AAEAjB,GAAG,CAACC,GAAJ,CAAQ,8BAAaiB,qBAAb,CAAR,E,CAEE;;AACAlB,GAAG,CAACmB,MAAJ,CAAW,IAAX,EAAiB,MAAM;AACrBC,EAAAA,OAAO,CAACC,GAAR,CAAY,mDAAZ;AACD,CAFD;eAKarB,G",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src",
      "sourcesContent": [
        "import express from 'express'\r\nimport bodyParser from 'body-parser'\r\nimport dotenv from 'dotenv'\r\nimport {\r\n  deleteComment,\r\n  getComments,\r\n  notFound,\r\n  postComment,\r\n  patchComment,\r\n  getMainComments\r\n} from './controllers'\r\nimport makeCallback from './express-callback'\r\n\r\ndotenv.config()\r\n\r\nconst apiRoot = process.env.DM_API_ROOT || \"\"\r\n\r\nconst app = express()\r\napp.use(bodyParser.json())\r\n// TODO: figure out DNT compliance.\r\napp.use((_, res, next) => {\r\n  res.set({ Tk: '!' })\r\n  next()\r\n})\r\napp.post(`${apiRoot}/comments`, makeCallback(postComment))\r\napp.delete(`${apiRoot}/comments/:id`, makeCallback(deleteComment))\r\napp.delete(`${apiRoot}/comments`, makeCallback(deleteComment))\r\napp.patch(`${apiRoot}/comments/:id`, makeCallback(patchComment))\r\napp.patch(`${apiRoot}/comments`, makeCallback(patchComment))\r\napp.get(`${apiRoot}/comments`, makeCallback(getComments))\r\n\r\napp.get(`${apiRoot}/main-comments`,makeCallback(getMainComments))\r\n\r\napp.use(makeCallback(notFound))\r\n\r\n  // listen for requests\r\n  app.listen(3000, () => {\r\n    console.log('Server is listening on port http://localhost:3000')\r\n  })\r\n\r\n\r\nexport default app\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625491332233
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"notFound\", {\n  enumerable: true,\n  get: function () {\n    return _notFound.default;\n  }\n});\nexports.getMainComments = exports.patchComment = exports.postComment = exports.getComments = exports.deleteComment = exports.default = void 0;\n\nvar _useCases = require(\"../use-cases\");\n\nvar _deleteComment = _interopRequireDefault(require(\"./delete-comment\"));\n\nvar _getComments = _interopRequireDefault(require(\"./get-comments\"));\n\nvar _postComment = _interopRequireDefault(require(\"./post-comment\"));\n\nvar _patchComment = _interopRequireDefault(require(\"./patch-comment\"));\n\nvar _notFound = _interopRequireDefault(require(\"./not-found\"));\n\nvar _getMainComments = _interopRequireDefault(require(\"./get-main-comments\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst deleteComment = (0, _deleteComment.default)({\n  removeComment: _useCases.removeComment\n});\nexports.deleteComment = deleteComment;\nconst getComments = (0, _getComments.default)({\n  listComments: _useCases.listComments\n});\nexports.getComments = getComments;\nconst postComment = (0, _postComment.default)({\n  addComment: _useCases.addComment\n});\nexports.postComment = postComment;\nconst patchComment = (0, _patchComment.default)({\n  editComment: _useCases.editComment\n});\nexports.patchComment = patchComment;\nconst getMainComments = (0, _getMainComments.default)({\n  listMainComments: _useCases.listMainComments\n});\nexports.getMainComments = getMainComments;\nconst commentController = Object.freeze({\n  deleteComment,\n  getComments,\n  notFound: _notFound.default,\n  postComment,\n  patchComment,\n  getMainComments\n});\nvar _default = commentController;\n/*@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http postComment\r\nservice -> controller: add-comment\r\ncontroller -> comment: create-comment\r\ncomment  -> controller: comment\r\ncontroller -> dataAcces: save-comment\r\ndataAcces-> mongoDB: save\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml\r\n\r\n\r\n\r\n@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http getMainComments\r\nservice -> controller: get-main-comments\r\ncontroller -> dataAcces: getMainComments\r\ndataAcces-> mongoDB: getComments\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml*/\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRlbGV0ZUNvbW1lbnQiLCJyZW1vdmVDb21tZW50IiwiZ2V0Q29tbWVudHMiLCJsaXN0Q29tbWVudHMiLCJwb3N0Q29tbWVudCIsImFkZENvbW1lbnQiLCJwYXRjaENvbW1lbnQiLCJlZGl0Q29tbWVudCIsImdldE1haW5Db21tZW50cyIsImxpc3RNYWluQ29tbWVudHMiLCJjb21tZW50Q29udHJvbGxlciIsIk9iamVjdCIsImZyZWV6ZSIsIm5vdEZvdW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7O0FBT0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxhQUFhLEdBQUcsNEJBQWtCO0FBQUVDLEVBQUFBLGFBQWEsRUFBYkE7QUFBRixDQUFsQixDQUF0Qjs7QUFDQSxNQUFNQyxXQUFXLEdBQUcsMEJBQWdCO0FBQ2xDQyxFQUFBQSxZQUFZLEVBQVpBO0FBRGtDLENBQWhCLENBQXBCOztBQUdBLE1BQU1DLFdBQVcsR0FBRywwQkFBZ0I7QUFBRUMsRUFBQUEsVUFBVSxFQUFWQTtBQUFGLENBQWhCLENBQXBCOztBQUNBLE1BQU1DLFlBQVksR0FBRywyQkFBaUI7QUFBRUMsRUFBQUEsV0FBVyxFQUFYQTtBQUFGLENBQWpCLENBQXJCOztBQUVBLE1BQU1DLGVBQWUsR0FBRyw4QkFBb0I7QUFBQ0MsRUFBQUEsZ0JBQWdCLEVBQWhCQTtBQUFELENBQXBCLENBQXhCOztBQUVBLE1BQU1DLGlCQUFpQixHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUN0Q1osRUFBQUEsYUFEc0M7QUFFdENFLEVBQUFBLFdBRnNDO0FBR3RDVyxFQUFBQSxRQUFRLEVBQVJBLGlCQUhzQztBQUl0Q1QsRUFBQUEsV0FKc0M7QUFLdENFLEVBQUFBLFlBTHNDO0FBTXRDRSxFQUFBQTtBQU5zQyxDQUFkLENBQTFCO2VBU2VFLGlCO0FBR2YiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGNvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBhZGRDb21tZW50LFxyXG4gIGVkaXRDb21tZW50LFxyXG4gIGxpc3RDb21tZW50cyxcclxuICByZW1vdmVDb21tZW50LFxyXG4gIGxpc3RNYWluQ29tbWVudHNcclxufSBmcm9tICcuLi91c2UtY2FzZXMnXHJcbmltcG9ydCBtYWtlRGVsZXRlQ29tbWVudCBmcm9tICcuL2RlbGV0ZS1jb21tZW50J1xyXG5pbXBvcnQgbWFrZUdldENvbW1lbnRzIGZyb20gJy4vZ2V0LWNvbW1lbnRzJ1xyXG5pbXBvcnQgbWFrZVBvc3RDb21tZW50IGZyb20gJy4vcG9zdC1jb21tZW50J1xyXG5pbXBvcnQgbWFrZVBhdGNoQ29tbWVudCBmcm9tICcuL3BhdGNoLWNvbW1lbnQnXHJcbmltcG9ydCBub3RGb3VuZCBmcm9tICcuL25vdC1mb3VuZCdcclxuaW1wb3J0IG1ha2VHZXRNYWluQ29tbWVudHMgZnJvbSAnLi9nZXQtbWFpbi1jb21tZW50cydcclxuXHJcbmNvbnN0IGRlbGV0ZUNvbW1lbnQgPSBtYWtlRGVsZXRlQ29tbWVudCh7IHJlbW92ZUNvbW1lbnQgfSlcclxuY29uc3QgZ2V0Q29tbWVudHMgPSBtYWtlR2V0Q29tbWVudHMoe1xyXG4gIGxpc3RDb21tZW50c1xyXG59KVxyXG5jb25zdCBwb3N0Q29tbWVudCA9IG1ha2VQb3N0Q29tbWVudCh7IGFkZENvbW1lbnQgfSlcclxuY29uc3QgcGF0Y2hDb21tZW50ID0gbWFrZVBhdGNoQ29tbWVudCh7IGVkaXRDb21tZW50IH0pXHJcblxyXG5jb25zdCBnZXRNYWluQ29tbWVudHMgPSBtYWtlR2V0TWFpbkNvbW1lbnRzKHtsaXN0TWFpbkNvbW1lbnRzIH0pXHJcblxyXG5jb25zdCBjb21tZW50Q29udHJvbGxlciA9IE9iamVjdC5mcmVlemUoe1xyXG4gIGRlbGV0ZUNvbW1lbnQsXHJcbiAgZ2V0Q29tbWVudHMsXHJcbiAgbm90Rm91bmQsXHJcbiAgcG9zdENvbW1lbnQsXHJcbiAgcGF0Y2hDb21tZW50LFxyXG4gIGdldE1haW5Db21tZW50c1xyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29tbWVudENvbnRyb2xsZXJcclxuZXhwb3J0IHsgZGVsZXRlQ29tbWVudCwgZ2V0Q29tbWVudHMsIG5vdEZvdW5kLCBwb3N0Q29tbWVudCwgcGF0Y2hDb21tZW50LCBnZXRNYWluQ29tbWVudHMgfVxyXG5cclxuLypAc3RhcnR1bWxcclxuYWN0b3IgdXNlclxyXG5ib3VuZGFyeSBzZXJ2aWNlXHJcbmNvbnRyb2wgY29udHJvbGxlclxyXG5lbnRpdHkgY29tbWVudFxyXG5ib3VuZGFyeSBkYXRhQWNjZXNcclxuZGF0YWJhc2UgbW9uZ29EQlxyXG5cclxudXNlciAtPiAgc2VydmljZSA6IEh0dHAgcG9zdENvbW1lbnRcclxuc2VydmljZSAtPiBjb250cm9sbGVyOiBhZGQtY29tbWVudFxyXG5jb250cm9sbGVyIC0+IGNvbW1lbnQ6IGNyZWF0ZS1jb21tZW50XHJcbmNvbW1lbnQgIC0+IGNvbnRyb2xsZXI6IGNvbW1lbnRcclxuY29udHJvbGxlciAtPiBkYXRhQWNjZXM6IHNhdmUtY29tbWVudFxyXG5kYXRhQWNjZXMtPiBtb25nb0RCOiBzYXZlXHJcbm1vbmdvREIgLT4gZGF0YUFjY2VzIDogcmV0dXJuLXJlc3VsdFxyXG5kYXRhQWNjZXMgLT4gY29udHJvbGxlcjogcmV0dXJuLXJlc3VsdFxyXG5jb250cm9sbGVyLT5zZXJ2aWNlOiByZXR1cm4tcmVzdWx0XHJcbnNlcnZpY2UgLT4gdXNlciA6IHJldHVybiByZXN1bHRcclxuQGVuZHVtbFxyXG5cclxuXHJcblxyXG5Ac3RhcnR1bWxcclxuYWN0b3IgdXNlclxyXG5ib3VuZGFyeSBzZXJ2aWNlXHJcbmNvbnRyb2wgY29udHJvbGxlclxyXG5lbnRpdHkgY29tbWVudFxyXG5ib3VuZGFyeSBkYXRhQWNjZXNcclxuZGF0YWJhc2UgbW9uZ29EQlxyXG5cclxudXNlciAtPiAgc2VydmljZSA6IEh0dHAgZ2V0TWFpbkNvbW1lbnRzXHJcbnNlcnZpY2UgLT4gY29udHJvbGxlcjogZ2V0LW1haW4tY29tbWVudHNcclxuY29udHJvbGxlciAtPiBkYXRhQWNjZXM6IGdldE1haW5Db21tZW50c1xyXG5kYXRhQWNjZXMtPiBtb25nb0RCOiBnZXRDb21tZW50c1xyXG5tb25nb0RCIC0+IGRhdGFBY2NlcyA6IHJldHVybi1yZXN1bHRcclxuZGF0YUFjY2VzIC0+IGNvbnRyb2xsZXI6IHJldHVybi1yZXN1bHRcclxuY29udHJvbGxlci0+c2VydmljZTogcmV0dXJuLXJlc3VsdFxyXG5zZXJ2aWNlIC0+IHVzZXIgOiByZXR1cm4gcmVzdWx0XHJcbkBlbmR1bWwqLyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "deleteComment",
        "removeComment",
        "getComments",
        "listComments",
        "postComment",
        "addComment",
        "patchComment",
        "editComment",
        "getMainComments",
        "listMainComments",
        "commentController",
        "Object",
        "freeze",
        "notFound"
      ],
      "mappings": ";;;;;;;;;;;;;AAAA;;AAOA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,4BAAkB;AAAEC,EAAAA,aAAa,EAAbA;AAAF,CAAlB,CAAtB;;AACA,MAAMC,WAAW,GAAG,0BAAgB;AAClCC,EAAAA,YAAY,EAAZA;AADkC,CAAhB,CAApB;;AAGA,MAAMC,WAAW,GAAG,0BAAgB;AAAEC,EAAAA,UAAU,EAAVA;AAAF,CAAhB,CAApB;;AACA,MAAMC,YAAY,GAAG,2BAAiB;AAAEC,EAAAA,WAAW,EAAXA;AAAF,CAAjB,CAArB;;AAEA,MAAMC,eAAe,GAAG,8BAAoB;AAACC,EAAAA,gBAAgB,EAAhBA;AAAD,CAApB,CAAxB;;AAEA,MAAMC,iBAAiB,GAAGC,MAAM,CAACC,MAAP,CAAc;AACtCZ,EAAAA,aADsC;AAEtCE,EAAAA,WAFsC;AAGtCW,EAAAA,QAAQ,EAARA,iBAHsC;AAItCT,EAAAA,WAJsC;AAKtCE,EAAAA,YALsC;AAMtCE,EAAAA;AANsC,CAAd,CAA1B;eASeE,iB;AAGf",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "import {\r\n  addComment,\r\n  editComment,\r\n  listComments,\r\n  removeComment,\r\n  listMainComments\r\n} from '../use-cases'\r\nimport makeDeleteComment from './delete-comment'\r\nimport makeGetComments from './get-comments'\r\nimport makePostComment from './post-comment'\r\nimport makePatchComment from './patch-comment'\r\nimport notFound from './not-found'\r\nimport makeGetMainComments from './get-main-comments'\r\n\r\nconst deleteComment = makeDeleteComment({ removeComment })\r\nconst getComments = makeGetComments({\r\n  listComments\r\n})\r\nconst postComment = makePostComment({ addComment })\r\nconst patchComment = makePatchComment({ editComment })\r\n\r\nconst getMainComments = makeGetMainComments({listMainComments })\r\n\r\nconst commentController = Object.freeze({\r\n  deleteComment,\r\n  getComments,\r\n  notFound,\r\n  postComment,\r\n  patchComment,\r\n  getMainComments\r\n})\r\n\r\nexport default commentController\r\nexport { deleteComment, getComments, notFound, postComment, patchComment, getMainComments }\r\n\r\n/*@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http postComment\r\nservice -> controller: add-comment\r\ncontroller -> comment: create-comment\r\ncomment  -> controller: comment\r\ncontroller -> dataAcces: save-comment\r\ndataAcces-> mongoDB: save\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml\r\n\r\n\r\n\r\n@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http getMainComments\r\nservice -> controller: get-main-comments\r\ncontroller -> dataAcces: getMainComments\r\ndataAcces-> mongoDB: getComments\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml*/"
      ]
    },
    "sourceType": "script",
    "mtime": 1625246546618
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.listMainComments = exports.removeComment = exports.listComments = exports.editComment = exports.addComment = exports.default = void 0;\n\nvar _addComment = _interopRequireDefault(require(\"./add-comment\"));\n\nvar _editComment = _interopRequireDefault(require(\"./edit-comment\"));\n\nvar _removeComment = _interopRequireDefault(require(\"./remove-comment\"));\n\nvar _listComments = _interopRequireDefault(require(\"./list-comments\"));\n\nvar _handleModeration = _interopRequireDefault(require(\"./handle-moderation\"));\n\nvar _listMainComments = _interopRequireDefault(require(\"./list-main-comments\"));\n\nvar _dataAccess = _interopRequireDefault(require(\"../data-access\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst handleModeration = (0, _handleModeration.default)({\n  initiateReview: async () => {} // TODO: Make real initiate review function.\n\n});\nconst addComment = (0, _addComment.default)({\n  commentsDb: _dataAccess.default,\n  handleModeration\n});\nexports.addComment = addComment;\nconst editComment = (0, _editComment.default)({\n  commentsDb: _dataAccess.default,\n  handleModeration\n});\nexports.editComment = editComment;\nconst listComments = (0, _listComments.default)({\n  commentsDb: _dataAccess.default\n});\nexports.listComments = listComments;\nconst removeComment = (0, _removeComment.default)({\n  commentsDb: _dataAccess.default\n});\nexports.removeComment = removeComment;\nconst listMainComments = (0, _listMainComments.default)({\n  commentsDb: _dataAccess.default\n});\nexports.listMainComments = listMainComments;\nconst commentService = Object.freeze({\n  addComment,\n  editComment,\n  handleModeration,\n  listComments,\n  removeComment,\n  listMainComments\n});\nvar _default = commentService;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImhhbmRsZU1vZGVyYXRpb24iLCJpbml0aWF0ZVJldmlldyIsImFkZENvbW1lbnQiLCJjb21tZW50c0RiIiwiZWRpdENvbW1lbnQiLCJsaXN0Q29tbWVudHMiLCJyZW1vdmVDb21tZW50IiwibGlzdE1haW5Db21tZW50cyIsImNvbW1lbnRTZXJ2aWNlIiwiT2JqZWN0IiwiZnJlZXplIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxnQkFBZ0IsR0FBRywrQkFBcUI7QUFDNUNDLEVBQUFBLGNBQWMsRUFBRSxZQUFZLENBQUUsQ0FEYyxDQUNiOztBQURhLENBQXJCLENBQXpCO0FBR0EsTUFBTUMsVUFBVSxHQUFHLHlCQUFlO0FBQUVDLEVBQUFBLFVBQVUsRUFBVkEsbUJBQUY7QUFBY0gsRUFBQUE7QUFBZCxDQUFmLENBQW5COztBQUNBLE1BQU1JLFdBQVcsR0FBRywwQkFBZ0I7QUFBRUQsRUFBQUEsVUFBVSxFQUFWQSxtQkFBRjtBQUFjSCxFQUFBQTtBQUFkLENBQWhCLENBQXBCOztBQUNBLE1BQU1LLFlBQVksR0FBRywyQkFBaUI7QUFBRUYsRUFBQUEsVUFBVSxFQUFWQTtBQUFGLENBQWpCLENBQXJCOztBQUNBLE1BQU1HLGFBQWEsR0FBRyw0QkFBa0I7QUFBRUgsRUFBQUEsVUFBVSxFQUFWQTtBQUFGLENBQWxCLENBQXRCOztBQUNBLE1BQU1JLGdCQUFnQixHQUFHLCtCQUFxQjtBQUFFSixFQUFBQSxVQUFVLEVBQVZBO0FBQUYsQ0FBckIsQ0FBekI7O0FBRUEsTUFBTUssY0FBYyxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUNuQ1IsRUFBQUEsVUFEbUM7QUFFbkNFLEVBQUFBLFdBRm1DO0FBR25DSixFQUFBQSxnQkFIbUM7QUFJbkNLLEVBQUFBLFlBSm1DO0FBS25DQyxFQUFBQSxhQUxtQztBQU1uQ0MsRUFBQUE7QUFObUMsQ0FBZCxDQUF2QjtlQVNlQyxjIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFx1c2UtY2FzZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFrZUFkZENvbW1lbnQgZnJvbSAnLi9hZGQtY29tbWVudCdcclxuaW1wb3J0IG1ha2VFZGl0Q29tbWVudCBmcm9tICcuL2VkaXQtY29tbWVudCdcclxuaW1wb3J0IG1ha2VSZW1vdmVDb21tZW50IGZyb20gJy4vcmVtb3ZlLWNvbW1lbnQnXHJcbmltcG9ydCBtYWtlTGlzdENvbW1lbnRzIGZyb20gJy4vbGlzdC1jb21tZW50cydcclxuaW1wb3J0IG1ha2VIYW5kbGVNb2RlcmF0aW9uIGZyb20gJy4vaGFuZGxlLW1vZGVyYXRpb24nXHJcbmltcG9ydCBtYWtlTGlzdE1haW5Db21tZW50cyBmcm9tICcuL2xpc3QtbWFpbi1jb21tZW50cydcclxuaW1wb3J0IGNvbW1lbnRzRGIgZnJvbSAnLi4vZGF0YS1hY2Nlc3MnXHJcblxyXG5jb25zdCBoYW5kbGVNb2RlcmF0aW9uID0gbWFrZUhhbmRsZU1vZGVyYXRpb24oe1xyXG4gIGluaXRpYXRlUmV2aWV3OiBhc3luYyAoKSA9PiB7fSAvLyBUT0RPOiBNYWtlIHJlYWwgaW5pdGlhdGUgcmV2aWV3IGZ1bmN0aW9uLlxyXG59KVxyXG5jb25zdCBhZGRDb21tZW50ID0gbWFrZUFkZENvbW1lbnQoeyBjb21tZW50c0RiLCBoYW5kbGVNb2RlcmF0aW9uIH0pXHJcbmNvbnN0IGVkaXRDb21tZW50ID0gbWFrZUVkaXRDb21tZW50KHsgY29tbWVudHNEYiwgaGFuZGxlTW9kZXJhdGlvbiB9KVxyXG5jb25zdCBsaXN0Q29tbWVudHMgPSBtYWtlTGlzdENvbW1lbnRzKHsgY29tbWVudHNEYiB9KVxyXG5jb25zdCByZW1vdmVDb21tZW50ID0gbWFrZVJlbW92ZUNvbW1lbnQoeyBjb21tZW50c0RiIH0pXHJcbmNvbnN0IGxpc3RNYWluQ29tbWVudHMgPSBtYWtlTGlzdE1haW5Db21tZW50cyh7IGNvbW1lbnRzRGIgfSlcclxuXHJcbmNvbnN0IGNvbW1lbnRTZXJ2aWNlID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgYWRkQ29tbWVudCxcclxuICBlZGl0Q29tbWVudCxcclxuICBoYW5kbGVNb2RlcmF0aW9uLFxyXG4gIGxpc3RDb21tZW50cyxcclxuICByZW1vdmVDb21tZW50LFxyXG4gIGxpc3RNYWluQ29tbWVudHNcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbW1lbnRTZXJ2aWNlXHJcbmV4cG9ydCB7IGFkZENvbW1lbnQsIGVkaXRDb21tZW50LCBsaXN0Q29tbWVudHMsIHJlbW92ZUNvbW1lbnQsIGxpc3RNYWluQ29tbWVudHMgfVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "handleModeration",
        "initiateReview",
        "addComment",
        "commentsDb",
        "editComment",
        "listComments",
        "removeComment",
        "listMainComments",
        "commentService",
        "Object",
        "freeze"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,gBAAgB,GAAG,+BAAqB;AAC5CC,EAAAA,cAAc,EAAE,YAAY,CAAE,CADc,CACb;;AADa,CAArB,CAAzB;AAGA,MAAMC,UAAU,GAAG,yBAAe;AAAEC,EAAAA,UAAU,EAAVA,mBAAF;AAAcH,EAAAA;AAAd,CAAf,CAAnB;;AACA,MAAMI,WAAW,GAAG,0BAAgB;AAAED,EAAAA,UAAU,EAAVA,mBAAF;AAAcH,EAAAA;AAAd,CAAhB,CAApB;;AACA,MAAMK,YAAY,GAAG,2BAAiB;AAAEF,EAAAA,UAAU,EAAVA;AAAF,CAAjB,CAArB;;AACA,MAAMG,aAAa,GAAG,4BAAkB;AAAEH,EAAAA,UAAU,EAAVA;AAAF,CAAlB,CAAtB;;AACA,MAAMI,gBAAgB,GAAG,+BAAqB;AAAEJ,EAAAA,UAAU,EAAVA;AAAF,CAArB,CAAzB;;AAEA,MAAMK,cAAc,GAAGC,MAAM,CAACC,MAAP,CAAc;AACnCR,EAAAA,UADmC;AAEnCE,EAAAA,WAFmC;AAGnCJ,EAAAA,gBAHmC;AAInCK,EAAAA,YAJmC;AAKnCC,EAAAA,aALmC;AAMnCC,EAAAA;AANmC,CAAd,CAAvB;eASeC,c",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "import makeAddComment from './add-comment'\r\nimport makeEditComment from './edit-comment'\r\nimport makeRemoveComment from './remove-comment'\r\nimport makeListComments from './list-comments'\r\nimport makeHandleModeration from './handle-moderation'\r\nimport makeListMainComments from './list-main-comments'\r\nimport commentsDb from '../data-access'\r\n\r\nconst handleModeration = makeHandleModeration({\r\n  initiateReview: async () => {} // TODO: Make real initiate review function.\r\n})\r\nconst addComment = makeAddComment({ commentsDb, handleModeration })\r\nconst editComment = makeEditComment({ commentsDb, handleModeration })\r\nconst listComments = makeListComments({ commentsDb })\r\nconst removeComment = makeRemoveComment({ commentsDb })\r\nconst listMainComments = makeListMainComments({ commentsDb })\r\n\r\nconst commentService = Object.freeze({\r\n  addComment,\r\n  editComment,\r\n  handleModeration,\r\n  listComments,\r\n  removeComment,\r\n  listMainComments\r\n})\r\n\r\nexport default commentService\r\nexport { addComment, editComment, listComments, removeComment, listMainComments }\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625160149614
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\add-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\add-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\add-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\add-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "add-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeAddComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeAddComment({\n  commentsDb,\n  handleModeration\n}) {\n  return async function addComment(commentInfo) {\n    const comment = (0, _comment.default)(commentInfo);\n    const exists = await commentsDb.findByHash({\n      hash: comment.getHash()\n    });\n\n    if (exists) {\n      return exists;\n    }\n\n    const moderated = await handleModeration({\n      comment\n    });\n    const commentSource = moderated.getSource();\n    return commentsDb.insert({\n      author: moderated.getAuthor(),\n      createdOn: moderated.getCreatedOn(),\n      hash: moderated.getHash(),\n      id: moderated.getId(),\n      modifiedOn: moderated.getModifiedOn(),\n      postId: moderated.getPostId(),\n      published: moderated.isPublished(),\n      replyToId: moderated.getReplyToId(),\n      source: {\n        ip: commentSource.getIp(),\n        browser: commentSource.getBrowser(),\n        referrer: commentSource.getReferrer()\n      },\n      text: moderated.getText()\n    });\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1jb21tZW50LmpzIl0sIm5hbWVzIjpbIm1ha2VBZGRDb21tZW50IiwiY29tbWVudHNEYiIsImhhbmRsZU1vZGVyYXRpb24iLCJhZGRDb21tZW50IiwiY29tbWVudEluZm8iLCJjb21tZW50IiwiZXhpc3RzIiwiZmluZEJ5SGFzaCIsImhhc2giLCJnZXRIYXNoIiwibW9kZXJhdGVkIiwiY29tbWVudFNvdXJjZSIsImdldFNvdXJjZSIsImluc2VydCIsImF1dGhvciIsImdldEF1dGhvciIsImNyZWF0ZWRPbiIsImdldENyZWF0ZWRPbiIsImlkIiwiZ2V0SWQiLCJtb2RpZmllZE9uIiwiZ2V0TW9kaWZpZWRPbiIsInBvc3RJZCIsImdldFBvc3RJZCIsInB1Ymxpc2hlZCIsImlzUHVibGlzaGVkIiwicmVwbHlUb0lkIiwiZ2V0UmVwbHlUb0lkIiwic291cmNlIiwiaXAiLCJnZXRJcCIsImJyb3dzZXIiLCJnZXRCcm93c2VyIiwicmVmZXJyZXIiLCJnZXRSZWZlcnJlciIsInRleHQiLCJnZXRUZXh0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFDZSxTQUFTQSxjQUFULENBQXlCO0FBQUVDLEVBQUFBLFVBQUY7QUFBY0MsRUFBQUE7QUFBZCxDQUF6QixFQUEyRDtBQUN4RSxTQUFPLGVBQWVDLFVBQWYsQ0FBMkJDLFdBQTNCLEVBQXdDO0FBQzdDLFVBQU1DLE9BQU8sR0FBRyxzQkFBWUQsV0FBWixDQUFoQjtBQUNBLFVBQU1FLE1BQU0sR0FBRyxNQUFNTCxVQUFVLENBQUNNLFVBQVgsQ0FBc0I7QUFBRUMsTUFBQUEsSUFBSSxFQUFFSCxPQUFPLENBQUNJLE9BQVI7QUFBUixLQUF0QixDQUFyQjs7QUFDQSxRQUFJSCxNQUFKLEVBQVk7QUFDVixhQUFPQSxNQUFQO0FBQ0Q7O0FBRUQsVUFBTUksU0FBUyxHQUFHLE1BQU1SLGdCQUFnQixDQUFDO0FBQUVHLE1BQUFBO0FBQUYsS0FBRCxDQUF4QztBQUNBLFVBQU1NLGFBQWEsR0FBR0QsU0FBUyxDQUFDRSxTQUFWLEVBQXRCO0FBQ0EsV0FBT1gsVUFBVSxDQUFDWSxNQUFYLENBQWtCO0FBQ3ZCQyxNQUFBQSxNQUFNLEVBQUVKLFNBQVMsQ0FBQ0ssU0FBVixFQURlO0FBRXZCQyxNQUFBQSxTQUFTLEVBQUVOLFNBQVMsQ0FBQ08sWUFBVixFQUZZO0FBR3ZCVCxNQUFBQSxJQUFJLEVBQUVFLFNBQVMsQ0FBQ0QsT0FBVixFQUhpQjtBQUl2QlMsTUFBQUEsRUFBRSxFQUFFUixTQUFTLENBQUNTLEtBQVYsRUFKbUI7QUFLdkJDLE1BQUFBLFVBQVUsRUFBRVYsU0FBUyxDQUFDVyxhQUFWLEVBTFc7QUFNdkJDLE1BQUFBLE1BQU0sRUFBRVosU0FBUyxDQUFDYSxTQUFWLEVBTmU7QUFPdkJDLE1BQUFBLFNBQVMsRUFBRWQsU0FBUyxDQUFDZSxXQUFWLEVBUFk7QUFRdkJDLE1BQUFBLFNBQVMsRUFBRWhCLFNBQVMsQ0FBQ2lCLFlBQVYsRUFSWTtBQVN2QkMsTUFBQUEsTUFBTSxFQUFFO0FBQ05DLFFBQUFBLEVBQUUsRUFBRWxCLGFBQWEsQ0FBQ21CLEtBQWQsRUFERTtBQUVOQyxRQUFBQSxPQUFPLEVBQUVwQixhQUFhLENBQUNxQixVQUFkLEVBRkg7QUFHTkMsUUFBQUEsUUFBUSxFQUFFdEIsYUFBYSxDQUFDdUIsV0FBZDtBQUhKLE9BVGU7QUFjdkJDLE1BQUFBLElBQUksRUFBRXpCLFNBQVMsQ0FBQzBCLE9BQVY7QUFkaUIsS0FBbEIsQ0FBUDtBQWdCRCxHQXpCRDtBQTBCRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcdXNlLWNhc2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1ha2VDb21tZW50IGZyb20gJy4uL2NvbW1lbnQnXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VBZGRDb21tZW50ICh7IGNvbW1lbnRzRGIsIGhhbmRsZU1vZGVyYXRpb24gfSkge1xyXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBhZGRDb21tZW50IChjb21tZW50SW5mbykge1xyXG4gICAgY29uc3QgY29tbWVudCA9IG1ha2VDb21tZW50KGNvbW1lbnRJbmZvKVxyXG4gICAgY29uc3QgZXhpc3RzID0gYXdhaXQgY29tbWVudHNEYi5maW5kQnlIYXNoKHsgaGFzaDogY29tbWVudC5nZXRIYXNoKCkgfSlcclxuICAgIGlmIChleGlzdHMpIHtcclxuICAgICAgcmV0dXJuIGV4aXN0c1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1vZGVyYXRlZCA9IGF3YWl0IGhhbmRsZU1vZGVyYXRpb24oeyBjb21tZW50IH0pXHJcbiAgICBjb25zdCBjb21tZW50U291cmNlID0gbW9kZXJhdGVkLmdldFNvdXJjZSgpXHJcbiAgICByZXR1cm4gY29tbWVudHNEYi5pbnNlcnQoe1xyXG4gICAgICBhdXRob3I6IG1vZGVyYXRlZC5nZXRBdXRob3IoKSxcclxuICAgICAgY3JlYXRlZE9uOiBtb2RlcmF0ZWQuZ2V0Q3JlYXRlZE9uKCksXHJcbiAgICAgIGhhc2g6IG1vZGVyYXRlZC5nZXRIYXNoKCksXHJcbiAgICAgIGlkOiBtb2RlcmF0ZWQuZ2V0SWQoKSxcclxuICAgICAgbW9kaWZpZWRPbjogbW9kZXJhdGVkLmdldE1vZGlmaWVkT24oKSxcclxuICAgICAgcG9zdElkOiBtb2RlcmF0ZWQuZ2V0UG9zdElkKCksXHJcbiAgICAgIHB1Ymxpc2hlZDogbW9kZXJhdGVkLmlzUHVibGlzaGVkKCksXHJcbiAgICAgIHJlcGx5VG9JZDogbW9kZXJhdGVkLmdldFJlcGx5VG9JZCgpLFxyXG4gICAgICBzb3VyY2U6IHtcclxuICAgICAgICBpcDogY29tbWVudFNvdXJjZS5nZXRJcCgpLFxyXG4gICAgICAgIGJyb3dzZXI6IGNvbW1lbnRTb3VyY2UuZ2V0QnJvd3NlcigpLFxyXG4gICAgICAgIHJlZmVycmVyOiBjb21tZW50U291cmNlLmdldFJlZmVycmVyKClcclxuICAgICAgfSxcclxuICAgICAgdGV4dDogbW9kZXJhdGVkLmdldFRleHQoKVxyXG4gICAgfSlcclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "add-comment.js"
      ],
      "names": [
        "makeAddComment",
        "commentsDb",
        "handleModeration",
        "addComment",
        "commentInfo",
        "comment",
        "exists",
        "findByHash",
        "hash",
        "getHash",
        "moderated",
        "commentSource",
        "getSource",
        "insert",
        "author",
        "getAuthor",
        "createdOn",
        "getCreatedOn",
        "id",
        "getId",
        "modifiedOn",
        "getModifiedOn",
        "postId",
        "getPostId",
        "published",
        "isPublished",
        "replyToId",
        "getReplyToId",
        "source",
        "ip",
        "getIp",
        "browser",
        "getBrowser",
        "referrer",
        "getReferrer",
        "text",
        "getText"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACe,SAASA,cAAT,CAAyB;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAAzB,EAA2D;AACxE,SAAO,eAAeC,UAAf,CAA2BC,WAA3B,EAAwC;AAC7C,UAAMC,OAAO,GAAG,sBAAYD,WAAZ,CAAhB;AACA,UAAME,MAAM,GAAG,MAAML,UAAU,CAACM,UAAX,CAAsB;AAAEC,MAAAA,IAAI,EAAEH,OAAO,CAACI,OAAR;AAAR,KAAtB,CAArB;;AACA,QAAIH,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;;AAED,UAAMI,SAAS,GAAG,MAAMR,gBAAgB,CAAC;AAAEG,MAAAA;AAAF,KAAD,CAAxC;AACA,UAAMM,aAAa,GAAGD,SAAS,CAACE,SAAV,EAAtB;AACA,WAAOX,UAAU,CAACY,MAAX,CAAkB;AACvBC,MAAAA,MAAM,EAAEJ,SAAS,CAACK,SAAV,EADe;AAEvBC,MAAAA,SAAS,EAAEN,SAAS,CAACO,YAAV,EAFY;AAGvBT,MAAAA,IAAI,EAAEE,SAAS,CAACD,OAAV,EAHiB;AAIvBS,MAAAA,EAAE,EAAER,SAAS,CAACS,KAAV,EAJmB;AAKvBC,MAAAA,UAAU,EAAEV,SAAS,CAACW,aAAV,EALW;AAMvBC,MAAAA,MAAM,EAAEZ,SAAS,CAACa,SAAV,EANe;AAOvBC,MAAAA,SAAS,EAAEd,SAAS,CAACe,WAAV,EAPY;AAQvBC,MAAAA,SAAS,EAAEhB,SAAS,CAACiB,YAAV,EARY;AASvBC,MAAAA,MAAM,EAAE;AACNC,QAAAA,EAAE,EAAElB,aAAa,CAACmB,KAAd,EADE;AAENC,QAAAA,OAAO,EAAEpB,aAAa,CAACqB,UAAd,EAFH;AAGNC,QAAAA,QAAQ,EAAEtB,aAAa,CAACuB,WAAd;AAHJ,OATe;AAcvBC,MAAAA,IAAI,EAAEzB,SAAS,CAAC0B,OAAV;AAdiB,KAAlB,CAAP;AAgBD,GAzBD;AA0BD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\nexport default function makeAddComment ({ commentsDb, handleModeration }) {\r\n  return async function addComment (commentInfo) {\r\n    const comment = makeComment(commentInfo)\r\n    const exists = await commentsDb.findByHash({ hash: comment.getHash() })\r\n    if (exists) {\r\n      return exists\r\n    }\r\n\r\n    const moderated = await handleModeration({ comment })\r\n    const commentSource = moderated.getSource()\r\n    return commentsDb.insert({\r\n      author: moderated.getAuthor(),\r\n      createdOn: moderated.getCreatedOn(),\r\n      hash: moderated.getHash(),\r\n      id: moderated.getId(),\r\n      modifiedOn: moderated.getModifiedOn(),\r\n      postId: moderated.getPostId(),\r\n      published: moderated.isPublished(),\r\n      replyToId: moderated.getReplyToId(),\r\n      source: {\r\n        ip: commentSource.getIp(),\r\n        browser: commentSource.getBrowser(),\r\n        referrer: commentSource.getReferrer()\r\n      },\r\n      text: moderated.getText()\r\n    })\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671601
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nvar _Id = _interopRequireDefault(require(\"../Id\"));\n\nvar _ipRegex = _interopRequireDefault(require(\"ip-regex\"));\n\nvar _sanitizeHtml = _interopRequireDefault(require(\"sanitize-html\"));\n\nvar _comment = _interopRequireDefault(require(\"./comment\"));\n\nvar _source = _interopRequireDefault(require(\"./source\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst makeSource = (0, _source.default)({\n  isValidIp\n});\nconst makeComment = (0, _comment.default)({\n  Id: _Id.default,\n  md5,\n  sanitize,\n  makeSource\n});\nvar _default = makeComment;\nexports.default = _default;\n\nfunction isValidIp(ip) {\n  return (0, _ipRegex.default)({\n    exact: true\n  }).test(ip);\n}\n\nfunction md5(text) {\n  return _crypto.default.createHash('md5').update(text, 'utf-8').digest('hex');\n}\n\nfunction sanitize(text) {\n  // TODO: allow more coding embeds\n  return (0, _sanitizeHtml.default)(text, {\n    allowedIframeHostnames: ['codesandbox.io', 'repl.it']\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1ha2VTb3VyY2UiLCJpc1ZhbGlkSXAiLCJtYWtlQ29tbWVudCIsIklkIiwibWQ1Iiwic2FuaXRpemUiLCJpcCIsImV4YWN0IiwidGVzdCIsInRleHQiLCJjcnlwdG8iLCJjcmVhdGVIYXNoIiwidXBkYXRlIiwiZGlnZXN0IiwiYWxsb3dlZElmcmFtZUhvc3RuYW1lcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLHFCQUFnQjtBQUFFQyxFQUFBQTtBQUFGLENBQWhCLENBQW5CO0FBQ0EsTUFBTUMsV0FBVyxHQUFHLHNCQUFpQjtBQUFFQyxFQUFBQSxFQUFFLEVBQUZBLFdBQUY7QUFBTUMsRUFBQUEsR0FBTjtBQUFXQyxFQUFBQSxRQUFYO0FBQXFCTCxFQUFBQTtBQUFyQixDQUFqQixDQUFwQjtlQUVlRSxXOzs7QUFFZixTQUFTRCxTQUFULENBQW9CSyxFQUFwQixFQUF3QjtBQUN0QixTQUFPLHNCQUFRO0FBQUVDLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQVIsRUFBeUJDLElBQXpCLENBQThCRixFQUE5QixDQUFQO0FBQ0Q7O0FBRUQsU0FBU0YsR0FBVCxDQUFjSyxJQUFkLEVBQW9CO0FBQ2xCLFNBQU9DLGdCQUNKQyxVQURJLENBQ08sS0FEUCxFQUVKQyxNQUZJLENBRUdILElBRkgsRUFFUyxPQUZULEVBR0pJLE1BSEksQ0FHRyxLQUhILENBQVA7QUFJRDs7QUFFRCxTQUFTUixRQUFULENBQW1CSSxJQUFuQixFQUF5QjtBQUN2QjtBQUNBLFNBQU8sMkJBQWFBLElBQWIsRUFBbUI7QUFDeEJLLElBQUFBLHNCQUFzQixFQUFFLENBQUMsZ0JBQUQsRUFBbUIsU0FBbkI7QUFEQSxHQUFuQixDQUFQO0FBR0QiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGNvbW1lbnQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0bydcclxuaW1wb3J0IElkIGZyb20gJy4uL0lkJ1xyXG5pbXBvcnQgaXBSZWdleCBmcm9tICdpcC1yZWdleCdcclxuaW1wb3J0IHNhbml0aXplSHRtbCBmcm9tICdzYW5pdGl6ZS1odG1sJ1xyXG5pbXBvcnQgYnVpbGRNYWtlQ29tbWVudCBmcm9tICcuL2NvbW1lbnQnXHJcbmltcG9ydCBidWlsZE1ha2VTb3VyY2UgZnJvbSAnLi9zb3VyY2UnXHJcblxyXG5jb25zdCBtYWtlU291cmNlID0gYnVpbGRNYWtlU291cmNlKHsgaXNWYWxpZElwIH0pXHJcbmNvbnN0IG1ha2VDb21tZW50ID0gYnVpbGRNYWtlQ29tbWVudCh7IElkLCBtZDUsIHNhbml0aXplLCBtYWtlU291cmNlIH0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBtYWtlQ29tbWVudFxyXG5cclxuZnVuY3Rpb24gaXNWYWxpZElwIChpcCkge1xyXG4gIHJldHVybiBpcFJlZ2V4KHsgZXhhY3Q6IHRydWUgfSkudGVzdChpcClcclxufVxyXG5cclxuZnVuY3Rpb24gbWQ1ICh0ZXh0KSB7XHJcbiAgcmV0dXJuIGNyeXB0b1xyXG4gICAgLmNyZWF0ZUhhc2goJ21kNScpXHJcbiAgICAudXBkYXRlKHRleHQsICd1dGYtOCcpXHJcbiAgICAuZGlnZXN0KCdoZXgnKVxyXG59XHJcblxyXG5mdW5jdGlvbiBzYW5pdGl6ZSAodGV4dCkge1xyXG4gIC8vIFRPRE86IGFsbG93IG1vcmUgY29kaW5nIGVtYmVkc1xyXG4gIHJldHVybiBzYW5pdGl6ZUh0bWwodGV4dCwge1xyXG4gICAgYWxsb3dlZElmcmFtZUhvc3RuYW1lczogWydjb2Rlc2FuZGJveC5pbycsICdyZXBsLml0J11cclxuICB9KVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "makeSource",
        "isValidIp",
        "makeComment",
        "Id",
        "md5",
        "sanitize",
        "ip",
        "exact",
        "test",
        "text",
        "crypto",
        "createHash",
        "update",
        "digest",
        "allowedIframeHostnames"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,qBAAgB;AAAEC,EAAAA;AAAF,CAAhB,CAAnB;AACA,MAAMC,WAAW,GAAG,sBAAiB;AAAEC,EAAAA,EAAE,EAAFA,WAAF;AAAMC,EAAAA,GAAN;AAAWC,EAAAA,QAAX;AAAqBL,EAAAA;AAArB,CAAjB,CAApB;eAEeE,W;;;AAEf,SAASD,SAAT,CAAoBK,EAApB,EAAwB;AACtB,SAAO,sBAAQ;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAR,EAAyBC,IAAzB,CAA8BF,EAA9B,CAAP;AACD;;AAED,SAASF,GAAT,CAAcK,IAAd,EAAoB;AAClB,SAAOC,gBACJC,UADI,CACO,KADP,EAEJC,MAFI,CAEGH,IAFH,EAES,OAFT,EAGJI,MAHI,CAGG,KAHH,CAAP;AAID;;AAED,SAASR,QAAT,CAAmBI,IAAnB,EAAyB;AACvB;AACA,SAAO,2BAAaA,IAAb,EAAmB;AACxBK,IAAAA,sBAAsB,EAAE,CAAC,gBAAD,EAAmB,SAAnB;AADA,GAAnB,CAAP;AAGD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "sourcesContent": [
        "import crypto from 'crypto'\r\nimport Id from '../Id'\r\nimport ipRegex from 'ip-regex'\r\nimport sanitizeHtml from 'sanitize-html'\r\nimport buildMakeComment from './comment'\r\nimport buildMakeSource from './source'\r\n\r\nconst makeSource = buildMakeSource({ isValidIp })\r\nconst makeComment = buildMakeComment({ Id, md5, sanitize, makeSource })\r\n\r\nexport default makeComment\r\n\r\nfunction isValidIp (ip) {\r\n  return ipRegex({ exact: true }).test(ip)\r\n}\r\n\r\nfunction md5 (text) {\r\n  return crypto\r\n    .createHash('md5')\r\n    .update(text, 'utf-8')\r\n    .digest('hex')\r\n}\r\n\r\nfunction sanitize (text) {\r\n  // TODO: allow more coding embeds\r\n  return sanitizeHtml(text, {\r\n    allowedIframeHostnames: ['codesandbox.io', 'repl.it']\r\n  })\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671594
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\Id\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\Id\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\Id",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\Id\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\Id\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\Id\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\Id",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _cuid = _interopRequireDefault(require(\"cuid\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Id = Object.freeze({\n  makeId: _cuid.default,\n  isValidId: _cuid.default.isCuid\n});\nvar _default = Id;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIklkIiwiT2JqZWN0IiwiZnJlZXplIiwibWFrZUlkIiwiY3VpZCIsImlzVmFsaWRJZCIsImlzQ3VpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsRUFBRSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUN2QkMsRUFBQUEsTUFBTSxFQUFFQyxhQURlO0FBRXZCQyxFQUFBQSxTQUFTLEVBQUVELGNBQUtFO0FBRk8sQ0FBZCxDQUFYO2VBS2VOLEUiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXElkIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGN1aWQgZnJvbSAnY3VpZCdcclxuXHJcbmNvbnN0IElkID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgbWFrZUlkOiBjdWlkLFxyXG4gIGlzVmFsaWRJZDogY3VpZC5pc0N1aWRcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IElkXHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "Id",
        "Object",
        "freeze",
        "makeId",
        "cuid",
        "isValidId",
        "isCuid"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,EAAE,GAAGC,MAAM,CAACC,MAAP,CAAc;AACvBC,EAAAA,MAAM,EAAEC,aADe;AAEvBC,EAAAA,SAAS,EAAED,cAAKE;AAFO,CAAd,CAAX;eAKeN,E",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\Id",
      "sourcesContent": [
        "import cuid from 'cuid'\r\n\r\nconst Id = Object.freeze({\r\n  makeId: cuid,\r\n  isValidId: cuid.isCuid\r\n})\r\n\r\nexport default Id\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671592
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\\\\comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
        "sourceFileName": "comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildMakeComment;\n\nfunction buildMakeComment({\n  Id,\n  md5,\n  sanitize,\n  makeSource\n}) {\n  return function makeComment({\n    author,\n    createdOn = Date.now(),\n    id = Id.makeId(),\n    source,\n    modifiedOn = Date.now(),\n    postId,\n    published = false,\n    replyToId,\n    text\n  } = {}) {\n    if (!Id.isValidId(id)) {\n      throw new Error('El comentario deben tener un id valido.');\n    }\n\n    if (!author) {\n      throw new Error('El comentario deben tener un autor.');\n    }\n\n    if (author.length < 2) {\n      throw new Error(\"El nombre del autor debe  tener minomo 2 caracteres.\");\n    }\n\n    if (!postId) {\n      throw new Error('El comentario debe tener un postId.');\n    }\n\n    if (!text || text.length < 1) {\n      throw new Error('El comentario debe incluir al menos un carcter de texto.');\n    }\n\n    if (!source) {\n      throw new Error('El comentario debe tener un origen.');\n    }\n\n    if (replyToId && !Id.isValidId(replyToId)) {\n      throw new Error('Si se suministra. El comentario debe contener un replyToId vlido.');\n    }\n\n    let sanitizedText = sanitize(text).trim();\n\n    if (sanitizedText.length < 1) {\n      throw new Error('El comentario no contiene texto utilizable.');\n    }\n\n    const validSource = makeSource(source);\n    const deletedText = '.xX Este comentario ha sido eliminado Xx.';\n    let hash;\n    return Object.freeze({\n      getAuthor: () => author,\n      getCreatedOn: () => createdOn,\n      getHash: () => hash || (hash = makeHash()),\n      getId: () => id,\n      getModifiedOn: () => modifiedOn,\n      getPostId: () => postId,\n      getReplyToId: () => replyToId,\n      getSource: () => validSource,\n      getText: () => sanitizedText,\n      isDeleted: () => sanitizedText === deletedText,\n      isPublished: () => published,\n      markDeleted: () => {\n        sanitizedText = deletedText;\n        author = 'borrado';\n      },\n      publish: () => {\n        published = true;\n      },\n      unPublish: () => {\n        published = false;\n      }\n    });\n\n    function makeHash() {\n      return md5(sanitizedText + published + (author || '') + (postId || '') + (replyToId || ''));\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnQuanMiXSwibmFtZXMiOlsiYnVpbGRNYWtlQ29tbWVudCIsIklkIiwibWQ1Iiwic2FuaXRpemUiLCJtYWtlU291cmNlIiwibWFrZUNvbW1lbnQiLCJhdXRob3IiLCJjcmVhdGVkT24iLCJEYXRlIiwibm93IiwiaWQiLCJtYWtlSWQiLCJzb3VyY2UiLCJtb2RpZmllZE9uIiwicG9zdElkIiwicHVibGlzaGVkIiwicmVwbHlUb0lkIiwidGV4dCIsImlzVmFsaWRJZCIsIkVycm9yIiwibGVuZ3RoIiwic2FuaXRpemVkVGV4dCIsInRyaW0iLCJ2YWxpZFNvdXJjZSIsImRlbGV0ZWRUZXh0IiwiaGFzaCIsIk9iamVjdCIsImZyZWV6ZSIsImdldEF1dGhvciIsImdldENyZWF0ZWRPbiIsImdldEhhc2giLCJtYWtlSGFzaCIsImdldElkIiwiZ2V0TW9kaWZpZWRPbiIsImdldFBvc3RJZCIsImdldFJlcGx5VG9JZCIsImdldFNvdXJjZSIsImdldFRleHQiLCJpc0RlbGV0ZWQiLCJpc1B1Ymxpc2hlZCIsIm1hcmtEZWxldGVkIiwicHVibGlzaCIsInVuUHVibGlzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGdCQUFULENBQTJCO0FBQUVDLEVBQUFBLEVBQUY7QUFBTUMsRUFBQUEsR0FBTjtBQUFXQyxFQUFBQSxRQUFYO0FBQXFCQyxFQUFBQTtBQUFyQixDQUEzQixFQUE4RDtBQUMzRSxTQUFPLFNBQVNDLFdBQVQsQ0FBc0I7QUFDM0JDLElBQUFBLE1BRDJCO0FBRTNCQyxJQUFBQSxTQUFTLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxFQUZlO0FBRzNCQyxJQUFBQSxFQUFFLEdBQUdULEVBQUUsQ0FBQ1UsTUFBSCxFQUhzQjtBQUkzQkMsSUFBQUEsTUFKMkI7QUFLM0JDLElBQUFBLFVBQVUsR0FBR0wsSUFBSSxDQUFDQyxHQUFMLEVBTGM7QUFNM0JLLElBQUFBLE1BTjJCO0FBTzNCQyxJQUFBQSxTQUFTLEdBQUcsS0FQZTtBQVEzQkMsSUFBQUEs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b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGNvbW1lbnQiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZE1ha2VDb21tZW50ICh7IElkLCBtZDUsIHNhbml0aXplLCBtYWtlU291cmNlIH0pIHtcclxuICByZXR1cm4gZnVuY3Rpb24gbWFrZUNvbW1lbnQgKHtcclxuICAgIGF1dGhvcixcclxuICAgIGNyZWF0ZWRPbiA9IERhdGUubm93KCksXHJcbiAgICBpZCA9IElkLm1ha2VJZCgpLFxyXG4gICAgc291cmNlLFxyXG4gICAgbW9kaWZpZWRPbiA9IERhdGUubm93KCksXHJcbiAgICBwb3N0SWQsXHJcbiAgICBwdWJsaXNoZWQgPSBmYWxzZSxcclxuICAgIHJlcGx5VG9JZCxcclxuICAgIHRleHRcclxuICB9ID0ge30pIHtcclxuICAgIGlmICghSWQuaXNWYWxpZElkKGlkKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIGNvbWVudGFyaW8gZGViZW4gdGVuZXIgdW4gaWQgdmFsaWRvLicpXHJcbiAgICB9XHJcbiAgICBpZiAoIWF1dGhvcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIGNvbWVudGFyaW8gZGViZW4gdGVuZXIgdW4gYXV0b3IuJylcclxuICAgIH1cclxuICAgIGlmIChhdXRob3IubGVuZ3RoIDwgMikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbCBub21icmUgZGVsIGF1dG9yIGRlYmUgIHRlbmVyIG1pbm9tbyAyIGNhcmFjdGVyZXMuXCIpXHJcbiAgICB9XHJcbiAgICBpZiAoIXBvc3RJZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIGNvbWVudGFyaW8gZGViZSB0ZW5lciB1biBwb3N0SWQuJylcclxuICAgIH1cclxuICAgIGlmICghdGV4dCB8fCB0ZXh0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbCBjb21lbnRhcmlvIGRlYmUgaW5jbHVpciBhbCBtZW5vcyB1biBjYXLDoWN0ZXIgZGUgdGV4dG8uJylcclxuICAgIH1cclxuICAgIGlmICghc291cmNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgY29tZW50YXJpbyBkZWJlIHRlbmVyIHVuIG9yaWdlbi4nKVxyXG4gICAgfVxyXG4gICAgaWYgKHJlcGx5VG9JZCAmJiAhSWQuaXNWYWxpZElkKHJlcGx5VG9JZCkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaSBzZSBzdW1pbmlzdHJhLiBFbCBjb21lbnRhcmlvIGRlYmUgY29udGVuZXIgdW4gcmVwbHlUb0lkIHbDoWxpZG8uJylcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc2FuaXRpemVkVGV4dCA9IHNhbml0aXplKHRleHQpLnRyaW0oKVxyXG4gICAgaWYgKHNhbml0aXplZFRleHQubGVuZ3RoIDwgMSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIGNvbWVudGFyaW8gbm8gY29udGllbmUgdGV4dG8gdXRpbGl6YWJsZS4nKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZhbGlkU291cmNlID0gbWFrZVNvdXJjZShzb3VyY2UpXHJcbiAgICBjb25zdCBkZWxldGVkVGV4dCA9ICcueFggRXN0ZSBjb21lbnRhcmlvIGhhIHNpZG8gZWxpbWluYWRvIFh4LidcclxuICAgIGxldCBoYXNoXHJcblxyXG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xyXG4gICAgICBnZXRBdXRob3I6ICgpID0+IGF1dGhvcixcclxuICAgICAgZ2V0Q3JlYXRlZE9uOiAoKSA9PiBjcmVhdGVkT24sXHJcbiAgICAgIGdldEhhc2g6ICgpID0+IGhhc2ggfHwgKGhhc2ggPSBtYWtlSGFzaCgpKSxcclxuICAgICAgZ2V0SWQ6ICgpID0+IGlkLFxyXG4gICAgICBnZXRNb2RpZmllZE9uOiAoKSA9PiBtb2RpZmllZE9uLFxyXG4gICAgICBnZXRQb3N0SWQ6ICgpID0+IHBvc3RJZCxcclxuICAgICAgZ2V0UmVwbHlUb0lkOiAoKSA9PiByZXBseVRvSWQsXHJcbiAgICAgIGdldFNvdXJjZTogKCkgPT4gdmFsaWRTb3VyY2UsXHJcbiAgICAgIGdldFRleHQ6ICgpID0+IHNhbml0aXplZFRleHQsXHJcbiAgICAgIGlzRGVsZXRlZDogKCkgPT4gc2FuaXRpemVkVGV4dCA9PT0gZGVsZXRlZFRleHQsXHJcbiAgICAgIGlzUHVibGlzaGVkOiAoKSA9PiBwdWJsaXNoZWQsXHJcbiAgICAgIG1hcmtEZWxldGVkOiAoKSA9PiB7XHJcbiAgICAgICAgc2FuaXRpemVkVGV4dCA9IGRlbGV0ZWRUZXh0XHJcbiAgICAgICAgYXV0aG9yID0gJ2JvcnJhZG8nXHJcbiAgICAgIH0sXHJcbiAgICAgIHB1Ymxpc2g6ICgpID0+IHtcclxuICAgICAgICBwdWJsaXNoZWQgPSB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgIHVuUHVibGlzaDogKCkgPT4ge1xyXG4gICAgICAgIHB1Ymxpc2hlZCA9IGZhbHNlXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgZnVuY3Rpb24gbWFrZUhhc2ggKCkge1xyXG4gICAgICByZXR1cm4gbWQ1KFxyXG4gICAgICAgIHNhbml0aXplZFRleHQgK1xyXG4gICAgICAgICAgcHVibGlzaGVkICtcclxuICAgICAgICAgIChhdXRob3IgfHwgJycpICtcclxuICAgICAgICAgIChwb3N0SWQgfHwgJycpICtcclxuICAgICAgICAgIChyZXBseVRvSWQgfHwgJycpXHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "comment.js"
      ],
      "names": [
        "buildMakeComment",
        "Id",
        "md5",
        "sanitize",
        "makeSource",
        "makeComment",
        "author",
        "createdOn",
        "Date",
        "now",
        "id",
        "makeId",
        "source",
        "modifiedOn",
        "postId",
        "published",
        "replyToId",
        "text",
        "isValidId",
        "Error",
        "length",
        "sanitizedText",
        "trim",
        "validSource",
        "deletedText",
        "hash",
        "Object",
        "freeze",
        "getAuthor",
        "getCreatedOn",
        "getHash",
        "makeHash",
        "getId",
        "getModifiedOn",
        "getPostId",
        "getReplyToId",
        "getSource",
        "getText",
        "isDeleted",
        "isPublished",
        "markDeleted",
        "publish",
        "unPublish"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "sourcesContent": [
        "export default function buildMakeComment ({ Id, md5, sanitize, makeSource }) {\r\n  return function makeComment ({\r\n    author,\r\n    createdOn = Date.now(),\r\n    id = Id.makeId(),\r\n    source,\r\n    modifiedOn = Date.now(),\r\n    postId,\r\n    published = false,\r\n    replyToId,\r\n    text\r\n  } = {}) {\r\n    if (!Id.isValidId(id)) {\r\n      throw new Error('El comentario deben tener un id valido.')\r\n    }\r\n    if (!author) {\r\n      throw new Error('El comentario deben tener un autor.')\r\n    }\r\n    if (author.length < 2) {\r\n      throw new Error(\"El nombre del autor debe  tener minomo 2 caracteres.\")\r\n    }\r\n    if (!postId) {\r\n      throw new Error('El comentario debe tener un postId.')\r\n    }\r\n    if (!text || text.length < 1) {\r\n      throw new Error('El comentario debe incluir al menos un carcter de texto.')\r\n    }\r\n    if (!source) {\r\n      throw new Error('El comentario debe tener un origen.')\r\n    }\r\n    if (replyToId && !Id.isValidId(replyToId)) {\r\n      throw new Error('Si se suministra. El comentario debe contener un replyToId vlido.')\r\n    }\r\n\r\n    let sanitizedText = sanitize(text).trim()\r\n    if (sanitizedText.length < 1) {\r\n      throw new Error('El comentario no contiene texto utilizable.')\r\n    }\r\n\r\n    const validSource = makeSource(source)\r\n    const deletedText = '.xX Este comentario ha sido eliminado Xx.'\r\n    let hash\r\n\r\n    return Object.freeze({\r\n      getAuthor: () => author,\r\n      getCreatedOn: () => createdOn,\r\n      getHash: () => hash || (hash = makeHash()),\r\n      getId: () => id,\r\n      getModifiedOn: () => modifiedOn,\r\n      getPostId: () => postId,\r\n      getReplyToId: () => replyToId,\r\n      getSource: () => validSource,\r\n      getText: () => sanitizedText,\r\n      isDeleted: () => sanitizedText === deletedText,\r\n      isPublished: () => published,\r\n      markDeleted: () => {\r\n        sanitizedText = deletedText\r\n        author = 'borrado'\r\n      },\r\n      publish: () => {\r\n        published = true\r\n      },\r\n      unPublish: () => {\r\n        published = false\r\n      }\r\n    })\r\n\r\n    function makeHash () {\r\n      return md5(\r\n        sanitizedText +\r\n          published +\r\n          (author || '') +\r\n          (postId || '') +\r\n          (replyToId || '')\r\n      )\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625091836738
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\\\\source.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\source.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\source.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\source.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
        "sourceFileName": "source.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildMakeSource;\n\nfunction buildMakeSource({\n  isValidIp\n}) {\n  return function makeSource({\n    ip,\n    browser,\n    referrer\n  } = {}) {\n    if (!ip) {\n      throw new Error('El origen del comentario debe contener una IP.');\n    }\n\n    if (!isValidIp(ip)) {\n      throw new RangeError('El origen del comentario debe contener una IP valida.');\n    }\n\n    return Object.freeze({\n      getIp: () => ip,\n      getBrowser: () => browser,\n      getReferrer: () => referrer\n    });\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvdXJjZS5qcyJdLCJuYW1lcyI6WyJidWlsZE1ha2VTb3VyY2UiLCJpc1ZhbGlkSXAiLCJtYWtlU291cmNlIiwiaXAiLCJicm93c2VyIiwicmVmZXJyZXIiLCJFcnJvciIsIlJhbmdlRXJyb3IiLCJPYmplY3QiLCJmcmVlemUiLCJnZXRJcCIsImdldEJyb3dzZXIiLCJnZXRSZWZlcnJlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGVBQVQsQ0FBMEI7QUFBRUMsRUFBQUE7QUFBRixDQUExQixFQUF5QztBQUN0RCxTQUFPLFNBQVNDLFVBQVQsQ0FBcUI7QUFBRUMsSUFBQUEsRUFBRjtBQUFNQyxJQUFBQSxPQUFOO0FBQWVDLElBQUFBO0FBQWYsTUFBNEIsRUFBakQsRUFBcUQ7QUFDMUQsUUFBSSxDQUFDRixFQUFMLEVBQVM7QUFDUCxZQUFNLElBQUlHLEtBQUosQ0FBVSxnREFBVixDQUFOO0FBQ0Q7O0FBQ0QsUUFBSSxDQUFDTCxTQUFTLENBQUNFLEVBQUQsQ0FBZCxFQUFvQjtBQUNsQixZQUFNLElBQUlJLFVBQUosQ0FBZSx1REFBZixDQUFOO0FBQ0Q7O0FBQ0QsV0FBT0MsTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFDbkJDLE1BQUFBLEtBQUssRUFBRSxNQUFNUCxFQURNO0FBRW5CUSxNQUFBQSxVQUFVLEVBQUUsTUFBTVAsT0FGQztBQUduQlEsTUFBQUEsV0FBVyxFQUFFLE1BQU1QO0FBSEEsS0FBZCxDQUFQO0FBS0QsR0FaRDtBQWFEIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFxjb21tZW50Iiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYnVpbGRNYWtlU291cmNlICh7IGlzVmFsaWRJcCB9KSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uIG1ha2VTb3VyY2UgKHsgaXAsIGJyb3dzZXIsIHJlZmVycmVyIH0gPSB7fSkge1xyXG4gICAgaWYgKCFpcCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIG9yaWdlbiBkZWwgY29tZW50YXJpbyBkZWJlIGNvbnRlbmVyIHVuYSBJUC4nKVxyXG4gICAgfVxyXG4gICAgaWYgKCFpc1ZhbGlkSXAoaXApKSB7XHJcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdFbCBvcmlnZW4gZGVsIGNvbWVudGFyaW8gZGViZSBjb250ZW5lciB1bmEgSVAgdmFsaWRhLicpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgIGdldElwOiAoKSA9PiBpcCxcclxuICAgICAgZ2V0QnJvd3NlcjogKCkgPT4gYnJvd3NlcixcclxuICAgICAgZ2V0UmVmZXJyZXI6ICgpID0+IHJlZmVycmVyXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "source.js"
      ],
      "names": [
        "buildMakeSource",
        "isValidIp",
        "makeSource",
        "ip",
        "browser",
        "referrer",
        "Error",
        "RangeError",
        "Object",
        "freeze",
        "getIp",
        "getBrowser",
        "getReferrer"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,eAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAAyC;AACtD,SAAO,SAASC,UAAT,CAAqB;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,OAAN;AAAeC,IAAAA;AAAf,MAA4B,EAAjD,EAAqD;AAC1D,QAAI,CAACF,EAAL,EAAS;AACP,YAAM,IAAIG,KAAJ,CAAU,gDAAV,CAAN;AACD;;AACD,QAAI,CAACL,SAAS,CAACE,EAAD,CAAd,EAAoB;AAClB,YAAM,IAAII,UAAJ,CAAe,uDAAf,CAAN;AACD;;AACD,WAAOC,MAAM,CAACC,MAAP,CAAc;AACnBC,MAAAA,KAAK,EAAE,MAAMP,EADM;AAEnBQ,MAAAA,UAAU,EAAE,MAAMP,OAFC;AAGnBQ,MAAAA,WAAW,EAAE,MAAMP;AAHA,KAAd,CAAP;AAKD,GAZD;AAaD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "sourcesContent": [
        "export default function buildMakeSource ({ isValidIp }) {\r\n  return function makeSource ({ ip, browser, referrer } = {}) {\r\n    if (!ip) {\r\n      throw new Error('El origen del comentario debe contener una IP.')\r\n    }\r\n    if (!isValidIp(ip)) {\r\n      throw new RangeError('El origen del comentario debe contener una IP valida.')\r\n    }\r\n    return Object.freeze({\r\n      getIp: () => ip,\r\n      getBrowser: () => browser,\r\n      getReferrer: () => referrer\r\n    })\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625089161123
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\edit-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\edit-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\edit-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\edit-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "edit-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeEditComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeEditComment({\n  commentsDb,\n  handleModeration\n}) {\n  return async function editComment({\n    id,\n    ...changes\n  } = {}) {\n    if (!id) {\n      throw new Error('You must supply an id.');\n    }\n\n    if (!changes.text) {\n      throw new Error('You must supply text.');\n    }\n\n    const existing = await commentsDb.findById({\n      id\n    });\n\n    if (!existing) {\n      throw new RangeError('Comment not found.');\n    }\n\n    const comment = (0, _comment.default)({ ...existing,\n      ...changes,\n      modifiedOn: null\n    });\n\n    if (comment.getHash() === existing.hash) {\n      return existing;\n    }\n\n    const moderated = await handleModeration({\n      comment\n    });\n    const updated = await commentsDb.update({\n      id: moderated.getId(),\n      published: moderated.isPublished(),\n      modifiedOn: moderated.getModifiedOn(),\n      text: moderated.getText(),\n      hash: moderated.getHash()\n    });\n    return { ...existing,\n      ...updated\n    };\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXQtY29tbWVudC5qcyJdLCJuYW1lcyI6WyJtYWtlRWRpdENvbW1lbnQiLCJjb21tZW50c0RiIiwiaGFuZGxlTW9kZXJhdGlvbiIsImVkaXRDb21tZW50IiwiaWQiLCJjaGFuZ2VzIiwiRXJyb3IiLCJ0ZXh0IiwiZXhpc3RpbmciLCJmaW5kQnlJZCIsIlJhbmdlRXJyb3IiLCJjb21tZW50IiwibW9kaWZpZWRPbiIsImdldEhhc2giLCJoYXNoIiwibW9kZXJhdGVkIiwidXBkYXRlZCIsInVwZGF0ZSIsImdldElkIiwicHVibGlzaGVkIiwiaXNQdWJsaXNoZWQiLCJnZXRNb2RpZmllZE9uIiwiZ2V0VGV4dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ2UsU0FBU0EsZUFBVCxDQUEwQjtBQUFFQyxFQUFBQSxVQUFGO0FBQWNDLEVBQUFBO0FBQWQsQ0FBMUIsRUFBNEQ7QUFDekUsU0FBTyxlQUFlQyxXQUFmLENBQTRCO0FBQUVDLElBQUFBLEVBQUY7QUFBTSxPQUFHQztBQUFULE1BQXFCLEVBQWpELEVBQXFEO0FBQzFELFFBQUksQ0FBQ0QsRUFBTCxFQUFTO0FBQ1AsWUFBTSxJQUFJRSxLQUFKLENBQVUsd0JBQVYsQ0FBTjtBQUNEOztBQUNELFFBQUksQ0FBQ0QsT0FBTyxDQUFDRSxJQUFiLEVBQW1CO0FBQ2pCLFlBQU0sSUFBSUQsS0FBSixDQUFVLHVCQUFWLENBQU47QUFDRDs7QUFDRCxVQUFNRSxRQUFRLEdBQUcsTUFBTVAsVUFBVSxDQUFDUSxRQUFYLENBQW9CO0FBQUVMLE1BQUFBO0FBQUYsS0FBcEIsQ0FBdkI7O0FBRUEsUUFBSSxDQUFDSSxRQUFMLEVBQWU7QUFDYixZQUFNLElBQUlFLFVBQUosQ0FBZSxvQkFBZixDQUFOO0FBQ0Q7O0FBQ0QsVUFBTUMsT0FBTyxHQUFHLHNCQUFZLEVBQUUsR0FBR0gsUUFBTDtBQUFlLFNBQUdILE9BQWxCO0FBQTJCTyxNQUFBQSxVQUFVLEVBQUU7QUFBdkMsS0FBWixDQUFoQjs7QUFDQSxRQUFJRCxPQUFPLENBQUNFLE9BQVIsT0FBc0JMLFFBQVEsQ0FBQ00sSUFBbkMsRUFBeUM7QUFDdkMsYUFBT04sUUFBUDtBQUNEOztBQUNELFVBQU1PLFNBQVMsR0FBRyxNQUFNYixnQkFBZ0IsQ0FBQztBQUFFUyxNQUFBQTtBQUFGLEtBQUQsQ0FBeEM7QUFDQSxVQUFNSyxPQUFPLEdBQUcsTUFBTWYsVUFBVSxDQUFDZ0IsTUFBWCxDQUFrQjtBQUN0Q2IsTUFBQUEsRUFBRSxFQUFFVyxTQUFTLENBQUNHLEtBQVYsRUFEa0M7QUFFdENDLE1BQUFBLFNBQVMsRUFBRUosU0FBUyxDQUFDSyxXQUFWLEVBRjJCO0FBR3RDUixNQUFBQSxVQUFVLEVBQUVHLFNBQVMsQ0FBQ00sYUFBVixFQUgwQjtBQUl0Q2QsTUFBQUEsSUFBSSxFQUFFUSxTQUFTLENBQUNPLE9BQVYsRUFKZ0M7QUFLdENSLE1BQUFBLElBQUksRUFBRUMsU0FBUyxDQUFDRixPQUFWO0FBTGdDLEtBQWxCLENBQXRCO0FBT0EsV0FBTyxFQUFFLEdBQUdMLFFBQUw7QUFBZSxTQUFHUTtBQUFsQixLQUFQO0FBQ0QsR0F6QkQ7QUEwQkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXHVzZS1jYXNlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtYWtlQ29tbWVudCBmcm9tICcuLi9jb21tZW50J1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlRWRpdENvbW1lbnQgKHsgY29tbWVudHNEYiwgaGFuZGxlTW9kZXJhdGlvbiB9KSB7XHJcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGVkaXRDb21tZW50ICh7IGlkLCAuLi5jaGFuZ2VzIH0gPSB7fSkge1xyXG4gICAgaWYgKCFpZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IHN1cHBseSBhbiBpZC4nKVxyXG4gICAgfVxyXG4gICAgaWYgKCFjaGFuZ2VzLnRleHQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBzdXBwbHkgdGV4dC4nKVxyXG4gICAgfVxyXG4gICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBjb21tZW50c0RiLmZpbmRCeUlkKHsgaWQgfSlcclxuXHJcbiAgICBpZiAoIWV4aXN0aW5nKSB7XHJcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdDb21tZW50IG5vdCBmb3VuZC4nKVxyXG4gICAgfVxyXG4gICAgY29uc3QgY29tbWVudCA9IG1ha2VDb21tZW50KHsgLi4uZXhpc3RpbmcsIC4uLmNoYW5nZXMsIG1vZGlmaWVkT246IG51bGwgfSlcclxuICAgIGlmIChjb21tZW50LmdldEhhc2goKSA9PT0gZXhpc3RpbmcuaGFzaCkge1xyXG4gICAgICByZXR1cm4gZXhpc3RpbmdcclxuICAgIH1cclxuICAgIGNvbnN0IG1vZGVyYXRlZCA9IGF3YWl0IGhhbmRsZU1vZGVyYXRpb24oeyBjb21tZW50IH0pXHJcbiAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgY29tbWVudHNEYi51cGRhdGUoe1xyXG4gICAgICBpZDogbW9kZXJhdGVkLmdldElkKCksXHJcbiAgICAgIHB1Ymxpc2hlZDogbW9kZXJhdGVkLmlzUHVibGlzaGVkKCksXHJcbiAgICAgIG1vZGlmaWVkT246IG1vZGVyYXRlZC5nZXRNb2RpZmllZE9uKCksXHJcbiAgICAgIHRleHQ6IG1vZGVyYXRlZC5nZXRUZXh0KCksXHJcbiAgICAgIGhhc2g6IG1vZGVyYXRlZC5nZXRIYXNoKClcclxuICAgIH0pXHJcbiAgICByZXR1cm4geyAuLi5leGlzdGluZywgLi4udXBkYXRlZCB9XHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "edit-comment.js"
      ],
      "names": [
        "makeEditComment",
        "commentsDb",
        "handleModeration",
        "editComment",
        "id",
        "changes",
        "Error",
        "text",
        "existing",
        "findById",
        "RangeError",
        "comment",
        "modifiedOn",
        "getHash",
        "hash",
        "moderated",
        "updated",
        "update",
        "getId",
        "published",
        "isPublished",
        "getModifiedOn",
        "getText"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACe,SAASA,eAAT,CAA0B;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAA1B,EAA4D;AACzE,SAAO,eAAeC,WAAf,CAA4B;AAAEC,IAAAA,EAAF;AAAM,OAAGC;AAAT,MAAqB,EAAjD,EAAqD;AAC1D,QAAI,CAACD,EAAL,EAAS;AACP,YAAM,IAAIE,KAAJ,CAAU,wBAAV,CAAN;AACD;;AACD,QAAI,CAACD,OAAO,CAACE,IAAb,EAAmB;AACjB,YAAM,IAAID,KAAJ,CAAU,uBAAV,CAAN;AACD;;AACD,UAAME,QAAQ,GAAG,MAAMP,UAAU,CAACQ,QAAX,CAAoB;AAAEL,MAAAA;AAAF,KAApB,CAAvB;;AAEA,QAAI,CAACI,QAAL,EAAe;AACb,YAAM,IAAIE,UAAJ,CAAe,oBAAf,CAAN;AACD;;AACD,UAAMC,OAAO,GAAG,sBAAY,EAAE,GAAGH,QAAL;AAAe,SAAGH,OAAlB;AAA2BO,MAAAA,UAAU,EAAE;AAAvC,KAAZ,CAAhB;;AACA,QAAID,OAAO,CAACE,OAAR,OAAsBL,QAAQ,CAACM,IAAnC,EAAyC;AACvC,aAAON,QAAP;AACD;;AACD,UAAMO,SAAS,GAAG,MAAMb,gBAAgB,CAAC;AAAES,MAAAA;AAAF,KAAD,CAAxC;AACA,UAAMK,OAAO,GAAG,MAAMf,UAAU,CAACgB,MAAX,CAAkB;AACtCb,MAAAA,EAAE,EAAEW,SAAS,CAACG,KAAV,EADkC;AAEtCC,MAAAA,SAAS,EAAEJ,SAAS,CAACK,WAAV,EAF2B;AAGtCR,MAAAA,UAAU,EAAEG,SAAS,CAACM,aAAV,EAH0B;AAItCd,MAAAA,IAAI,EAAEQ,SAAS,CAACO,OAAV,EAJgC;AAKtCR,MAAAA,IAAI,EAAEC,SAAS,CAACF,OAAV;AALgC,KAAlB,CAAtB;AAOA,WAAO,EAAE,GAAGL,QAAL;AAAe,SAAGQ;AAAlB,KAAP;AACD,GAzBD;AA0BD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\nexport default function makeEditComment ({ commentsDb, handleModeration }) {\r\n  return async function editComment ({ id, ...changes } = {}) {\r\n    if (!id) {\r\n      throw new Error('You must supply an id.')\r\n    }\r\n    if (!changes.text) {\r\n      throw new Error('You must supply text.')\r\n    }\r\n    const existing = await commentsDb.findById({ id })\r\n\r\n    if (!existing) {\r\n      throw new RangeError('Comment not found.')\r\n    }\r\n    const comment = makeComment({ ...existing, ...changes, modifiedOn: null })\r\n    if (comment.getHash() === existing.hash) {\r\n      return existing\r\n    }\r\n    const moderated = await handleModeration({ comment })\r\n    const updated = await commentsDb.update({\r\n      id: moderated.getId(),\r\n      published: moderated.isPublished(),\r\n      modifiedOn: moderated.getModifiedOn(),\r\n      text: moderated.getText(),\r\n      hash: moderated.getHash()\r\n    })\r\n    return { ...existing, ...updated }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671601
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\remove-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\remove-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\remove-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\remove-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "remove-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeRemoveComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeRemoveComment({\n  commentsDb\n}) {\n  return async function removeComment({\n    id\n  } = {}) {\n    if (!id) {\n      throw new Error('Debes suministrar un comment id.');\n    }\n\n    const commentToDelete = await commentsDb.findById({\n      id\n    });\n\n    if (!commentToDelete) {\n      return deleteNothing();\n    }\n\n    if (await hasReplies(commentToDelete)) {\n      return softDelete(commentToDelete);\n    }\n\n    if (await isOnlyReplyOfDeletedParent(commentToDelete)) {\n      return deleteCommentAndParent(commentToDelete);\n    }\n\n    return hardDelete(commentToDelete);\n  };\n\n  async function hasReplies({\n    id: commentId\n  }) {\n    const replies = await commentsDb.findReplies({\n      commentId,\n      publishedOnly: false\n    });\n    return replies.length > 0;\n  }\n\n  async function isOnlyReplyOfDeletedParent(comment) {\n    if (!comment.replyToId) {\n      return false;\n    }\n\n    const parent = await commentsDb.findById({\n      id: comment.replyToId\n    });\n\n    if (parent && (0, _comment.default)(parent).isDeleted()) {\n      const replies = await commentsDb.findReplies({\n        commentId: parent.id,\n        publishedOnly: false\n      });\n      return replies.length === 1;\n    }\n\n    return false;\n  }\n\n  function deleteNothing() {\n    return {\n      deletedCount: 0,\n      softDelete: false,\n      message: 'Comentario no encontrado, nada para borrar.'\n    };\n  }\n\n  async function softDelete(commentInfo) {\n    const toDelete = (0, _comment.default)(commentInfo);\n    toDelete.markDeleted();\n    await commentsDb.update({\n      id: toDelete.getId(),\n      author: toDelete.getAuthor(),\n      text: toDelete.getText(),\n      replyToId: toDelete.getReplyToId(),\n      postId: toDelete.getPostId()\n    });\n    return {\n      deletedCount: 1,\n      softDelete: true,\n      message: 'El comentario tiene respuestas, borrado suave.'\n    };\n  }\n\n  async function deleteCommentAndParent(comment) {\n    await Promise.all([commentsDb.remove(comment), commentsDb.remove({\n      id: comment.replyToId\n    })]);\n    return {\n      deletedCount: 2,\n      softDelete: false,\n      message: 'Comentario padre e hijo borrados.'\n    };\n  }\n\n  async function hardDelete(comment) {\n    await commentsDb.remove(comment);\n    return {\n      deletedCount: 1,\n      softDelete: false,\n      message: 'Comentario borrado.'\n    };\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbW92ZS1jb21tZW50LmpzIl0sIm5hbWVzIjpbIm1ha2VSZW1vdmVDb21tZW50IiwiY29tbWVudHNEYiIsInJlbW92ZUNvbW1lbnQiLCJpZCIsIkVycm9yIiwiY29tbWVudFRvRGVsZXRlIiwiZmluZEJ5SWQiLCJkZWxldGVOb3RoaW5nIiwiaGFzUmVwbGllcyIsInNvZnREZWxldGUiLCJpc09ubHlSZXBseU9mRGVsZXRlZFBhcmVudCIsImRlbGV0ZUNvbW1lbnRBbmRQYXJlbnQiLCJoYXJkRGVsZXRlIiwiY29tbWVudElkIiwicmVwbGllcyIsImZpbmRSZXBsaWVzIiwicHVibGlzaGVkT25seSIsImxlbmd0aCIsImNvbW1lbnQiLCJyZXBseVRvSWQiLCJwYXJlbnQiLCJpc0RlbGV0ZWQiLCJkZWxldGVkQ291bnQiLCJtZXNzYWdlIiwiY29tbWVudEluZm8iLCJ0b0RlbGV0ZSIsIm1hcmtEZWxldGVkIiwidXBkYXRlIiwiZ2V0SWQiLCJhdXRob3IiLCJnZXRBdXRob3IiLCJ0ZXh0IiwiZ2V0VGV4dCIsImdldFJlcGx5VG9JZCIsInBvc3RJZCIsImdldFBvc3RJZCIsIlByb21pc2UiLCJhbGwiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVlLFNBQVNBLGlCQUFULENBQTRCO0FBQUVDLEVBQUFBO0FBQUYsQ0FBNUIsRUFBNEM7QUFDekQsU0FBTyxlQUFlQyxhQUFmLENBQThCO0FBQUVDLElBQUFBO0FBQUYsTUFBUyxFQUF2QyxFQUEyQztBQUNoRCxRQUFJLENBQUNBLEVBQUwsRUFBUztBQUNQLFlBQU0sSUFBSUMsS0FBSixDQUFVLGtDQUFWLENBQU47QUFDRDs7QUFFRCxVQUFNQyxlQUFlLEdBQUcsTUFBTUosVUFBVSxDQUFDSyxRQUFYLENBQW9CO0FBQUVILE1BQUFBO0FBQUYsS0FBcEIsQ0FBOUI7O0FBRUEsUUFBSSxDQUFDRSxlQUFMLEVBQXNCO0FBQ3BCLGFBQU9FLGFBQWEsRUFBcEI7QUFDRDs7QUFFRCxRQUFJLE1BQU1D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QkFBZVgsVUFBZixDQUEyQk0sT0FBM0IsRUFBb0M7QUFDbEMsVUFBTWpCLFVBQVUsQ0FBQ3FDLE1BQVgsQ0FBa0JwQixPQUFsQixDQUFOO0FBQ0EsV0FBTztBQUNMSSxNQUFBQSxZQUFZLEVBQUUsQ0FEVDtBQUVMYixNQUFBQSxVQUFVLEVBQUUsS0FGUDtBQUdMYyxNQUFBQSxPQUFPLEVBQUU7QUFISixLQUFQO0FBS0Q7QUFDRiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcdXNlLWNhc2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1ha2VDb21tZW50IGZyb20gJy4uL2NvbW1lbnQnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlUmVtb3ZlQ29tbWVudCAoeyBjb21tZW50c0RiIH0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gcmVtb3ZlQ29tbWVudCAoeyBpZCB9ID0ge30pIHtcclxuICAgIGlmICghaWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWJlcyBzdW1pbmlzdHJhciB1biBjb21tZW50IGlkLicpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29tbWVudFRvRGVsZXRlID0gYXdhaXQgY29tbWVudHNEYi5maW5kQnlJZCh7IGlkIH0pXHJcblxyXG4gICAgaWYgKCFjb21tZW50VG9EZWxldGUpIHtcclxuICAgICAgcmV0dXJuIGRlbGV0ZU5vdGhpbmcoKVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChhd2FpdCBoYXNSZXBsaWVzKGNvbW1lbnRUb0RlbGV0ZSkpIHtcclxuICAgICAgcmV0dXJuIHNvZnREZWxldGUoY29tbWVudFRvRGVsZXRlKVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChhd2FpdCBpc09ubHlSZXBseU9mRGVsZXRlZFBhcmVudChjb21tZW50VG9EZWxldGUpKSB7XHJcbiAgICAgIHJldHVybiBkZWxldGVDb21tZW50QW5kUGFyZW50KGNvbW1lbnRUb0RlbGV0ZSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaGFyZERlbGV0ZShjb21tZW50VG9EZWxldGUpXHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYXNSZXBsaWVzICh7IGlkOiBjb21tZW50SWQgfSkge1xyXG4gICAgY29uc3QgcmVwbGllcyA9IGF3YWl0IGNvbW1lbnRzRGIuZmluZFJlcGxpZXMoe1xyXG4gICAgICBjb21tZW50SWQsXHJcbiAgICAgIHB1Ymxpc2hlZE9ubHk6IGZhbHNlXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIHJlcGxpZXMubGVuZ3RoID4gMFxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gaXNPbmx5UmVwbHlPZkRlbGV0ZWRQYXJlbnQgKGNvbW1lbnQpIHtcclxuICAgIGlmICghY29tbWVudC5yZXBseVRvSWQpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICBjb25zdCBwYXJlbnQgPSBhd2FpdCBjb21tZW50c0RiLmZpbmRCeUlkKHsgaWQ6IGNvbW1lbnQucmVwbHlUb0lkIH0pXHJcbiAgICBpZiAocGFyZW50ICYmIG1ha2VDb21tZW50KHBhcmVudCkuaXNEZWxldGVkKCkpIHtcclxuICAgICAgY29uc3QgcmVwbGllcyA9IGF3YWl0IGNvbW1lbnRzRGIuZmluZFJlcGxpZXMoe1xyXG4gICAgICAgIGNvbW1lbnRJZDogcGFyZW50LmlkLFxyXG4gICAgICAgIHB1Ymxpc2hlZE9ubHk6IGZhbHNlXHJcbiAgICAgIH0pXHJcbiAgICAgIHJldHVybiByZXBsaWVzLmxlbmd0aCA9PT0gMVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBkZWxldGVOb3RoaW5nICgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRlbGV0ZWRDb3VudDogMCxcclxuICAgICAgc29mdERlbGV0ZTogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICdDb21lbnRhcmlvIG5vIGVuY29udHJhZG8sIG5hZGEgcGFyYSBib3JyYXIuJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gc29mdERlbGV0ZSAoY29tbWVudEluZm8pIHtcclxuICAgIGNvbnN0IHRvRGVsZXRlID0gbWFrZUNvbW1lbnQoY29tbWVudEluZm8pXHJcbiAgICB0b0RlbGV0ZS5tYXJrRGVsZXRlZCgpXHJcbiAgICBhd2FpdCBjb21tZW50c0RiLnVwZGF0ZSh7XHJcbiAgICAgIGlkOiB0b0RlbGV0ZS5nZXRJZCgpLFxyXG4gICAgICBhdXRob3I6IHRvRGVsZXRlLmdldEF1dGhvcigpLFxyXG4gICAgICB0ZXh0OiB0b0RlbGV0ZS5nZXRUZXh0KCksXHJcbiAgICAgIHJlcGx5VG9JZDogdG9EZWxldGUuZ2V0UmVwbHlUb0lkKCksXHJcbiAgICAgIHBvc3RJZDogdG9EZWxldGUuZ2V0UG9zdElkKClcclxuICAgIH0pXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkZWxldGVkQ291bnQ6IDEsXHJcbiAgICAgIHNvZnREZWxldGU6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICdFbCBjb21lbnRhcmlvIHRpZW5lIHJlc3B1ZXN0YXMsIGJvcnJhZG8gc3VhdmUuJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ29tbWVudEFuZFBhcmVudCAoY29tbWVudCkge1xyXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICBjb21tZW50c0RiLnJlbW92ZShjb21tZW50KSxcclxuICAgICAgY29tbWVudHNEYi5yZW1vdmUoeyBpZDogY29tbWVudC5yZXBseVRvSWQgfSlcclxuICAgIF0pXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkZWxldGVkQ291bnQ6IDIsXHJcbiAgICAgIHNvZnREZWxldGU6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAnQ29tZW50YXJpbyBwYWRyZSBlIGhpam8gYm9ycmFkb3MuJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gaGFyZERlbGV0ZSAoY29tbWVudCkge1xyXG4gICAgYXdhaXQgY29tbWVudHNEYi5yZW1vdmUoY29tbWVudClcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRlbGV0ZWRDb3VudDogMSxcclxuICAgICAgc29mdERlbGV0ZTogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICdDb21lbnRhcmlvIGJvcnJhZG8uJ1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "remove-comment.js"
      ],
      "names": [
        "makeRemoveComment",
        "commentsDb",
        "removeComment",
        "id",
        "Error",
        "commentToDelete",
        "findById",
        "deleteNothing",
        "hasReplies",
        "softDelete",
        "isOnlyReplyOfDeletedParent",
        "deleteCommentAndParent",
        "hardDelete",
        "commentId",
        "replies",
        "findReplies",
        "publishedOnly",
        "length",
        "comment",
        "replyToId",
        "parent",
        "isDeleted",
        "deletedCount",
        "message",
        "commentInfo",
        "toDelete",
        "markDeleted",
        "update",
        "getId",
        "author",
        "getAuthor",
        "text",
        "getText",
        "getReplyToId",
        "postId",
        "getPostId",
        "Promise",
        "all",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\n\r\nexport default function makeRemoveComment ({ commentsDb }) {\r\n  return async function removeComment ({ id } = {}) {\r\n    if (!id) {\r\n      throw new Error('Debes suministrar un comment id.')\r\n    }\r\n\r\n    const commentToDelete = await commentsDb.findById({ id })\r\n\r\n    if (!commentToDelete) {\r\n      return deleteNothing()\r\n    }\r\n\r\n    if (await hasReplies(commentToDelete)) {\r\n      return softDelete(commentToDelete)\r\n    }\r\n\r\n    if (await isOnlyReplyOfDeletedParent(commentToDelete)) {\r\n      return deleteCommentAndParent(commentToDelete)\r\n    }\r\n\r\n    return hardDelete(commentToDelete)\r\n  }\r\n\r\n  async function hasReplies ({ id: commentId }) {\r\n    const replies = await commentsDb.findReplies({\r\n      commentId,\r\n      publishedOnly: false\r\n    })\r\n    return replies.length > 0\r\n  }\r\n\r\n  async function isOnlyReplyOfDeletedParent (comment) {\r\n    if (!comment.replyToId) {\r\n      return false\r\n    }\r\n    const parent = await commentsDb.findById({ id: comment.replyToId })\r\n    if (parent && makeComment(parent).isDeleted()) {\r\n      const replies = await commentsDb.findReplies({\r\n        commentId: parent.id,\r\n        publishedOnly: false\r\n      })\r\n      return replies.length === 1\r\n    }\r\n    return false\r\n  }\r\n\r\n  function deleteNothing () {\r\n    return {\r\n      deletedCount: 0,\r\n      softDelete: false,\r\n      message: 'Comentario no encontrado, nada para borrar.'\r\n    }\r\n  }\r\n\r\n  async function softDelete (commentInfo) {\r\n    const toDelete = makeComment(commentInfo)\r\n    toDelete.markDeleted()\r\n    await commentsDb.update({\r\n      id: toDelete.getId(),\r\n      author: toDelete.getAuthor(),\r\n      text: toDelete.getText(),\r\n      replyToId: toDelete.getReplyToId(),\r\n      postId: toDelete.getPostId()\r\n    })\r\n    return {\r\n      deletedCount: 1,\r\n      softDelete: true,\r\n      message: 'El comentario tiene respuestas, borrado suave.'\r\n    }\r\n  }\r\n\r\n  async function deleteCommentAndParent (comment) {\r\n    await Promise.all([\r\n      commentsDb.remove(comment),\r\n      commentsDb.remove({ id: comment.replyToId })\r\n    ])\r\n    return {\r\n      deletedCount: 2,\r\n      softDelete: false,\r\n      message: 'Comentario padre e hijo borrados.'\r\n    }\r\n  }\r\n\r\n  async function hardDelete (comment) {\r\n    await commentsDb.remove(comment)\r\n    return {\r\n      deletedCount: 1,\r\n      softDelete: false,\r\n      message: 'Comentario borrado.'\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625586808511
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\list-comments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-comments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-comments.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-comments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "list-comments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeListComments;\n\nfunction makeListComments({\n  commentsDb\n}) {\n  return async function listComments({\n    postId\n  } = {}) {\n    if (!postId) {\n      throw new Error('Debes suministrar un post id valido.');\n    }\n\n    const comments = await commentsDb.findByPostId({\n      postId,\n      omitReplies: false\n    });\n    const nestedComments = nest(comments);\n    return nestedComments; // If this gets slow introduce caching.\n\n    function nest(comments) {\n      if (comments.length === 0) {\n        return comments;\n      }\n\n      return comments.reduce((nested, comment) => {\n        comment.replies = comments.filter(reply => reply.replyToId === comment.id);\n        nest(comment.replies);\n\n        if (comment.replyToId == null) {\n          nested.push(comment);\n        }\n\n        return nested;\n      }, []);\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpc3QtY29tbWVudHMuanMiXSwibmFtZXMiOlsibWFrZUxpc3RDb21tZW50cyIsImNvbW1lbnRzRGIiLCJsaXN0Q29tbWVudHMiLCJwb3N0SWQiLCJFcnJvciIsImNvbW1lbnRzIiwiZmluZEJ5UG9zdElkIiwib21pdFJlcGxpZXMiLCJuZXN0ZWRDb21tZW50cyIsIm5lc3QiLCJsZW5ndGgiLCJyZWR1Y2UiLCJuZXN0ZWQiLCJjb21tZW50IiwicmVwbGllcyIsImZpbHRlciIsInJlcGx5IiwicmVwbHlUb0lkIiwiaWQiLCJwdXNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWUsU0FBU0EsZ0JBQVQsQ0FBMkI7QUFBRUMsRUFBQUE7QUFBRixDQUEzQixFQUEyQztBQUN4RCxTQUFPLGVBQWVDLFlBQWYsQ0FBNkI7QUFBRUMsSUFBQUE7QUFBRixNQUFhLEVBQTFDLEVBQThDO0FBQ25ELFFBQUksQ0FBQ0EsTUFBTCxFQUFhO0FBQ1gsWUFBTSxJQUFJQyxLQUFKLENBQVUsc0NBQVYsQ0FBTjtBQUNEOztBQUNELFVBQU1DLFFBQVEsR0FBRyxNQUFNSixVQUFVLENBQUNLLFlBQVgsQ0FBd0I7QUFDN0NILE1BQUFBLE1BRDZDO0FBRTdDSSxNQUFBQSxXQUFXLEVBQUU7QUFGZ0MsS0FBeEIsQ0FBdkI7QUFJQSxVQUFNQyxjQUFjLEdBQUdDLElBQUksQ0FBQ0osUUFBRCxDQUEzQjtBQUNBLFdBQU9HLGNBQVAsQ0FUbUQsQ0FXbkQ7O0FBQ0EsYUFBU0MsSUFBVCxDQUFlSixRQUFmLEVBQXlCO0FBQ3ZCLFVBQUlBLFFBQVEsQ0FBQ0ssTUFBVCxLQUFvQixDQUF4QixFQUEyQjtBQUN6QixlQUFPTCxRQUFQO0FBQ0Q7O0FBQ0QsYUFBT0EsUUFBUSxDQUFDTSxNQUFULENBQWdCLENBQUNDLE1BQUQsRUFBU0MsT0FBVCxLQUFxQjtBQUMxQ0EsUUFBQUEsT0FBTyxDQUFDQyxPQUFSLEdBQWtCVCxRQUFRLENBQUNVLE1BQVQsQ0FDaEJDLEtBQUssSUFBSUEsS0FBSyxDQUFDQyxTQUFOLEtBQW9CSixPQUFPLENBQUNLLEVBRHJCLENBQWxCO0FBR0FULFFBQUFBLElBQUksQ0FBQ0ksT0FBTyxDQUFDQyxPQUFULENBQUo7O0FBQ0EsWUFBSUQsT0FBTyxDQUFDSSxTQUFSLElBQXFCLElBQXpCLEVBQStCO0FBQzdCTCxVQUFBQSxNQUFNLENBQUNPLElBQVAsQ0FBWU4sT0FBWjtBQUNEOztBQUNELGVBQU9ELE1BQVA7QUFDRCxPQVRNLEVBU0osRUFUSSxDQUFQO0FBVUQ7QUFDRixHQTNCRDtBQTRCRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcdXNlLWNhc2VzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZUxpc3RDb21tZW50cyAoeyBjb21tZW50c0RiIH0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gbGlzdENvbW1lbnRzICh7IHBvc3RJZCB9ID0ge30pIHtcclxuICAgIGlmICghcG9zdElkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRGViZXMgc3VtaW5pc3RyYXIgdW4gcG9zdCBpZCB2YWxpZG8uJylcclxuICAgIH1cclxuICAgIGNvbnN0IGNvbW1lbnRzID0gYXdhaXQgY29tbWVudHNEYi5maW5kQnlQb3N0SWQoe1xyXG4gICAgICBwb3N0SWQsXHJcbiAgICAgIG9taXRSZXBsaWVzOiBmYWxzZVxyXG4gICAgfSlcclxuICAgIGNvbnN0IG5lc3RlZENvbW1lbnRzID0gbmVzdChjb21tZW50cylcclxuICAgIHJldHVybiBuZXN0ZWRDb21tZW50c1xyXG5cclxuICAgIC8vIElmIHRoaXMgZ2V0cyBzbG93IGludHJvZHVjZSBjYWNoaW5nLlxyXG4gICAgZnVuY3Rpb24gbmVzdCAoY29tbWVudHMpIHtcclxuICAgICAgaWYgKGNvbW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBjb21tZW50c1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBjb21tZW50cy5yZWR1Y2UoKG5lc3RlZCwgY29tbWVudCkgPT4ge1xyXG4gICAgICAgIGNvbW1lbnQucmVwbGllcyA9IGNvbW1lbnRzLmZpbHRlcihcclxuICAgICAgICAgIHJlcGx5ID0+IHJlcGx5LnJlcGx5VG9JZCA9PT0gY29tbWVudC5pZFxyXG4gICAgICAgIClcclxuICAgICAgICBuZXN0KGNvbW1lbnQucmVwbGllcylcclxuICAgICAgICBpZiAoY29tbWVudC5yZXBseVRvSWQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgbmVzdGVkLnB1c2goY29tbWVudClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5lc3RlZFxyXG4gICAgICB9LCBbXSlcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "list-comments.js"
      ],
      "names": [
        "makeListComments",
        "commentsDb",
        "listComments",
        "postId",
        "Error",
        "comments",
        "findByPostId",
        "omitReplies",
        "nestedComments",
        "nest",
        "length",
        "reduce",
        "nested",
        "comment",
        "replies",
        "filter",
        "reply",
        "replyToId",
        "id",
        "push"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,gBAAT,CAA2B;AAAEC,EAAAA;AAAF,CAA3B,EAA2C;AACxD,SAAO,eAAeC,YAAf,CAA6B;AAAEC,IAAAA;AAAF,MAAa,EAA1C,EAA8C;AACnD,QAAI,CAACA,MAAL,EAAa;AACX,YAAM,IAAIC,KAAJ,CAAU,sCAAV,CAAN;AACD;;AACD,UAAMC,QAAQ,GAAG,MAAMJ,UAAU,CAACK,YAAX,CAAwB;AAC7CH,MAAAA,MAD6C;AAE7CI,MAAAA,WAAW,EAAE;AAFgC,KAAxB,CAAvB;AAIA,UAAMC,cAAc,GAAGC,IAAI,CAACJ,QAAD,CAA3B;AACA,WAAOG,cAAP,CATmD,CAWnD;;AACA,aAASC,IAAT,CAAeJ,QAAf,EAAyB;AACvB,UAAIA,QAAQ,CAACK,MAAT,KAAoB,CAAxB,EAA2B;AACzB,eAAOL,QAAP;AACD;;AACD,aAAOA,QAAQ,CAACM,MAAT,CAAgB,CAACC,MAAD,EAASC,OAAT,KAAqB;AAC1CA,QAAAA,OAAO,CAACC,OAAR,GAAkBT,QAAQ,CAACU,MAAT,CAChBC,KAAK,IAAIA,KAAK,CAACC,SAAN,KAAoBJ,OAAO,CAACK,EADrB,CAAlB;AAGAT,QAAAA,IAAI,CAACI,OAAO,CAACC,OAAT,CAAJ;;AACA,YAAID,OAAO,CAACI,SAAR,IAAqB,IAAzB,EAA+B;AAC7BL,UAAAA,MAAM,CAACO,IAAP,CAAYN,OAAZ;AACD;;AACD,eAAOD,MAAP;AACD,OATM,EASJ,EATI,CAAP;AAUD;AACF,GA3BD;AA4BD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "export default function makeListComments ({ commentsDb }) {\r\n  return async function listComments ({ postId } = {}) {\r\n    if (!postId) {\r\n      throw new Error('Debes suministrar un post id valido.')\r\n    }\r\n    const comments = await commentsDb.findByPostId({\r\n      postId,\r\n      omitReplies: false\r\n    })\r\n    const nestedComments = nest(comments)\r\n    return nestedComments\r\n\r\n    // If this gets slow introduce caching.\r\n    function nest (comments) {\r\n      if (comments.length === 0) {\r\n        return comments\r\n      }\r\n      return comments.reduce((nested, comment) => {\r\n        comment.replies = comments.filter(\r\n          reply => reply.replyToId === comment.id\r\n        )\r\n        nest(comment.replies)\r\n        if (comment.replyToId == null) {\r\n          nested.push(comment)\r\n        }\r\n        return nested\r\n      }, [])\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625162326286
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\handle-moderation.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\handle-moderation.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\handle-moderation.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\handle-moderation.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "handle-moderation.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeHandleModeration;\n\nfunction makeHandleModeration({\n  initiateReview\n}) {\n  return async function handleModeration({\n    comment\n  }) {\n    const moderated = { ...comment\n    };\n    initiateReview({\n      id: moderated.getId(),\n      content: moderated.getText()\n    });\n    return moderated;\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhbmRsZS1tb2RlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIm1ha2VIYW5kbGVNb2RlcmF0aW9uIiwiaW5pdGlhdGVSZXZpZXciLCJoYW5kbGVNb2RlcmF0aW9uIiwiY29tbWVudCIsIm1vZGVyYXRlZCIsImlkIiwiZ2V0SWQiLCJjb250ZW50IiwiZ2V0VGV4dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLG9CQUFULENBQStCO0FBQzVDQyxFQUFBQTtBQUQ0QyxDQUEvQixFQUVaO0FBQ0QsU0FBTyxlQUFlQyxnQkFBZixDQUFpQztBQUFFQyxJQUFBQTtBQUFGLEdBQWpDLEVBQThDO0FBQ25ELFVBQU1DLFNBQVMsR0FBRyxFQUFFLEdBQUdEO0FBQUwsS0FBbEI7QUFDQUYsSUFBQUEsY0FBYyxDQUFDO0FBQUVJLE1BQUFBLEVBQUUsRUFBRUQsU0FBUyxDQUFDRSxLQUFWLEVBQU47QUFBeUJDLE1BQUFBLE9BQU8sRUFBRUgsU0FBUyxDQUFDSSxPQUFWO0FBQWxDLEtBQUQsQ0FBZDtBQUNBLFdBQU9KLFNBQVA7QUFDRCxHQUpEO0FBS0QiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXHVzZS1jYXNlcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VIYW5kbGVNb2RlcmF0aW9uICh7XHJcbiAgaW5pdGlhdGVSZXZpZXdcclxufSkge1xyXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBoYW5kbGVNb2RlcmF0aW9uICh7IGNvbW1lbnQgfSkge1xyXG4gICAgY29uc3QgbW9kZXJhdGVkID0geyAuLi5jb21tZW50IH1cclxuICAgIGluaXRpYXRlUmV2aWV3KHsgaWQ6IG1vZGVyYXRlZC5nZXRJZCgpLCBjb250ZW50OiBtb2RlcmF0ZWQuZ2V0VGV4dCgpIH0pXHJcbiAgICByZXR1cm4gbW9kZXJhdGVkXHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "handle-moderation.js"
      ],
      "names": [
        "makeHandleModeration",
        "initiateReview",
        "handleModeration",
        "comment",
        "moderated",
        "id",
        "getId",
        "content",
        "getText"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,oBAAT,CAA+B;AAC5CC,EAAAA;AAD4C,CAA/B,EAEZ;AACD,SAAO,eAAeC,gBAAf,CAAiC;AAAEC,IAAAA;AAAF,GAAjC,EAA8C;AACnD,UAAMC,SAAS,GAAG,EAAE,GAAGD;AAAL,KAAlB;AACAF,IAAAA,cAAc,CAAC;AAAEI,MAAAA,EAAE,EAAED,SAAS,CAACE,KAAV,EAAN;AAAyBC,MAAAA,OAAO,EAAEH,SAAS,CAACI,OAAV;AAAlC,KAAD,CAAd;AACA,WAAOJ,SAAP;AACD,GAJD;AAKD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "export default function makeHandleModeration ({\r\n  initiateReview\r\n}) {\r\n  return async function handleModeration ({ comment }) {\r\n    const moderated = { ...comment }\r\n    initiateReview({ id: moderated.getId(), content: moderated.getText() })\r\n    return moderated\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671602
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\data-access\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\data-access\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeDb = makeDb;\nexports.default = void 0;\n\nvar _commentsDb = _interopRequireDefault(require(\"./comments-db\"));\n\nvar _mongodb = _interopRequireDefault(require(\"mongodb\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst MongoClient = _mongodb.default.MongoClient;\nconst url = process && process.env && process.env.DM_COMMENTS_DB_URL || \"mongodb://localhost:27017\";\nconst dbName = process && process.env && process.env.DM_COMMENTS_DB_NAME || \"dm_comments_api\";\nconst client = new MongoClient(url, {\n  useNewUrlParser: true\n});\n\nasync function makeDb() {\n  if (!client.isConnected()) {\n    await client.connect();\n  }\n\n  return client.db(dbName);\n}\n\nconst commentsDb = (0, _commentsDb.default)({\n  makeDb\n});\nvar _default = commentsDb;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwibW9uZ29kYiIsInVybCIsImRiTmFtZSIsImNsaWVudCIsInVzZU5ld1VybFBhcnNlciIsIm1ha2VEYiIsImlzQ29ubmVjdGVkIiwiY29ubmVjdCIsImRiIiwiY29tbWVudHNEYiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLFdBQVcsR0FBR0MsaUJBQVFELFdBQTVCO0FBQ0EsTUFBTUUsR0FBRywwRkFBVDtBQUNBLE1BQU1DLE1BQU0saUZBQVo7QUFDQSxNQUFNQyxNQUFNLEdBQUcsSUFBSUosV0FBSixDQUFnQkUsR0FBaEIsRUFBcUI7QUFBRUcsRUFBQUEsZUFBZSxFQUFFO0FBQW5CLENBQXJCLENBQWY7O0FBRU8sZUFBZUMsTUFBZixHQUF5QjtBQUM5QixNQUFJLENBQUNGLE1BQU0sQ0FBQ0csV0FBUCxFQUFMLEVBQTJCO0FBQ3pCLFVBQU1ILE1BQU0sQ0FBQ0ksT0FBUCxFQUFOO0FBQ0Q7O0FBQ0QsU0FBT0osTUFBTSxDQUFDSyxFQUFQLENBQVVOLE1BQVYsQ0FBUDtBQUNEOztBQUVELE1BQU1PLFVBQVUsR0FBRyx5QkFBZTtBQUFFSixFQUFBQTtBQUFGLENBQWYsQ0FBbkI7ZUFDZUksVSIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcZGF0YS1hY2Nlc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFrZUNvbW1lbnRzRGIgZnJvbSAnLi9jb21tZW50cy1kYidcclxuaW1wb3J0IG1vbmdvZGIgZnJvbSAnbW9uZ29kYidcclxuXHJcbmNvbnN0IE1vbmdvQ2xpZW50ID0gbW9uZ29kYi5Nb25nb0NsaWVudFxyXG5jb25zdCB1cmwgPSBwcm9jZXNzLmVudi5ETV9DT01NRU5UU19EQl9VUkxcclxuY29uc3QgZGJOYW1lID0gcHJvY2Vzcy5lbnYuRE1fQ09NTUVOVFNfREJfTkFNRVxyXG5jb25zdCBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJsLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSB9KVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1ha2VEYiAoKSB7XHJcbiAgaWYgKCFjbGllbnQuaXNDb25uZWN0ZWQoKSkge1xyXG4gICAgYXdhaXQgY2xpZW50LmNvbm5lY3QoKVxyXG4gIH1cclxuICByZXR1cm4gY2xpZW50LmRiKGRiTmFtZSlcclxufVxyXG5cclxuY29uc3QgY29tbWVudHNEYiA9IG1ha2VDb21tZW50c0RiKHsgbWFrZURiIH0pXHJcbmV4cG9ydCBkZWZhdWx0IGNvbW1lbnRzRGJcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "MongoClient",
        "mongodb",
        "url",
        "dbName",
        "client",
        "useNewUrlParser",
        "makeDb",
        "isConnected",
        "connect",
        "db",
        "commentsDb"
      ],
      "mappings": ";;;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,WAAW,GAAGC,iBAAQD,WAA5B;AACA,MAAME,GAAG,0FAAT;AACA,MAAMC,MAAM,iFAAZ;AACA,MAAMC,MAAM,GAAG,IAAIJ,WAAJ,CAAgBE,GAAhB,EAAqB;AAAEG,EAAAA,eAAe,EAAE;AAAnB,CAArB,CAAf;;AAEO,eAAeC,MAAf,GAAyB;AAC9B,MAAI,CAACF,MAAM,CAACG,WAAP,EAAL,EAA2B;AACzB,UAAMH,MAAM,CAACI,OAAP,EAAN;AACD;;AACD,SAAOJ,MAAM,CAACK,EAAP,CAAUN,MAAV,CAAP;AACD;;AAED,MAAMO,UAAU,GAAG,yBAAe;AAAEJ,EAAAA;AAAF,CAAf,CAAnB;eACeI,U",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
      "sourcesContent": [
        "import makeCommentsDb from './comments-db'\r\nimport mongodb from 'mongodb'\r\n\r\nconst MongoClient = mongodb.MongoClient\r\nconst url = process.env.DM_COMMENTS_DB_URL\r\nconst dbName = process.env.DM_COMMENTS_DB_NAME\r\nconst client = new MongoClient(url, { useNewUrlParser: true })\r\n\r\nexport async function makeDb () {\r\n  if (!client.isConnected()) {\r\n    await client.connect()\r\n  }\r\n  return client.db(dbName)\r\n}\r\n\r\nconst commentsDb = makeCommentsDb({ makeDb })\r\nexport default commentsDb\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671599
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\data-access\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\data-access\\\\comments-db.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\comments-db.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\comments-db.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\comments-db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
        "sourceFileName": "comments-db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeCommentsDb;\n\nvar _Id = _interopRequireDefault(require(\"../Id\"));\n\nvar _rxjs = require(\"rxjs\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeCommentsDb({\n  makeDb\n}) {\n  return Object.freeze({\n    findAll,\n    findByHash,\n    findById,\n    findByPostId,\n    findReplies,\n    insert,\n    remove,\n    update,\n    findMainComments\n  });\n  /*async function findAll ({ publishedOnly = true } = {}) {\r\n    const db = await makeDb()\r\n    const query = publishedOnly ? { published: true } : {}\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n  }*/\n\n  async function findAll({\n    publishedOnly = true\n  } = {}) {\n    const db = (0, _rxjs.of)(makeDb());\n    const query = publishedOnly ? {\n      published: true\n    } : {};\n    const source = (0, _rxjs.of)(db.subscribe(base => base.collection('comments').find(query)));\n    return source.subscribe(val => val.toArray().map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    })));\n  }\n\n  async function findMainComments({\n    publishedOnly = true\n  } = {}) {\n    const db = (0, _rxjs.of)(makeDb());\n    const query = publishedOnly ? {\n      replyToId: null\n    } : {};\n    const source = (0, _rxjs.of)(db.subscribe(base => base.collection('comments').find(query)));\n    return source.subscribe(val => val.toArray().map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    })));\n  }\n\n  async function findById({\n    id: _id\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').find({\n      _id\n    });\n    const found = await result.toArray();\n\n    if (found.length === 0) {\n      return null;\n    }\n\n    const {\n      _id: id,\n      ...info\n    } = found[0];\n    return {\n      id,\n      ...info\n    };\n  }\n\n  async function findByPostId({\n    postId,\n    omitReplies = true\n  }) {\n    const db = await makeDb();\n    const query = {\n      postId: postId\n    };\n\n    if (omitReplies) {\n      query.replyToId = null;\n    }\n\n    const result = await db.collection('comments').find(query);\n    return (await result.toArray()).map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    }));\n  }\n\n  async function findReplies({\n    commentId,\n    publishedOnly = true\n  }) {\n    const db = await makeDb();\n    const query = publishedOnly ? {\n      published: true,\n      replyToId: commentId\n    } : {\n      replyToId: commentId\n    };\n    const result = await db.collection('comments').find(query);\n    return (await result.toArray()).map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    }));\n  }\n\n  async function insert({\n    id: _id = _Id.default.makeId(),\n    ...commentInfo\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').insertOne({\n      _id,\n      ...commentInfo\n    });\n    const {\n      _id: id,\n      ...insertedInfo\n    } = result.ops[0];\n    return {\n      id,\n      ...insertedInfo\n    };\n  }\n\n  async function update({\n    id: _id,\n    ...commentInfo\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').updateOne({\n      _id\n    }, {\n      $set: { ...commentInfo\n      }\n    });\n    return result.modifiedCount > 0 ? {\n      id: _id,\n      ...commentInfo\n    } : null;\n  }\n\n  async function remove({\n    id: _id\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').deleteOne({\n      _id\n    });\n    return result.deletedCount;\n  }\n\n  async function findByHash(comment) {\n    const db = await makeDb();\n    const result = await db.collection('comments').find({\n      hash: comment.hash\n    });\n    const found = await result.toArray();\n\n    if (found.length === 0) {\n      return null;\n    }\n\n    const {\n      _id: id,\n      ...insertedInfo\n    } = found[0];\n    return {\n      id,\n      ...insertedInfo\n    };\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRzLWRiLmpzIl0sIm5hbWVzIjpbIm1ha2VDb21tZW50c0RiIiwibWFrZURiIiwiT2JqZWN0IiwiZnJlZXplIiwiZmluZEFsbCIsImZpbmRCeUhhc2giLCJmaW5kQnlJZCIsImZpbmRCeVBvc3RJZCIsImZpbmRSZXBsaWVzIiwiaW5zZXJ0IiwicmVtb3ZlIiwidXBkYXRlIiwiZmluZE1haW5Db21tZW50cyIsInB1Ymxpc2hlZE9ubHkiLCJkYiIsInF1ZXJ5IiwicHVibGlzaGVkIiwic291cmNlIiwic3Vic2NyaWJlIiwiYmFzZSIsImNvbGxlY3Rpb24iLCJmaW5kIiwidmFsIiwidG9BcnJheSIsIm1hcCIsIl9pZCIsImlkIiwiZm91bmQiLCJyZXBseVRvSWQiLCJyZXN1bHQiLCJsZW5ndGgiLCJpbmZvIiwicG9zdElkIiwib21pdFJlcGxpZXMiLCJjb21tZW50SWQiLCJJZCIsIm1ha2VJZCIsImNvbW1lbnRJbmZvIiwiaW5zZXJ0T25lIiwiaW5zZXJ0ZWRJbmZvIiwib3BzIiwidXBkYXRlT25lIiwiJHNldCIsIm1vZGlmaWVkQ291bnQiLCJkZWxldGVPbmUiLCJkZWxldGVkQ291bnQiLCJjb21tZW50IiwiaGFzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRWUsU0FBU0EsY0FBVCxDQUF5QjtBQUFFQyxFQUFBQTtBQUFGLENBQXpCLEVBQXFDO0FBQ2xELFNBQU9DLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjO0FBQ25CQyxJQUFBQSxPQURtQjtBQUVuQkMsSUFBQUEsVUFGbUI7QUFHbkJDLElBQUFBLFFBSG1CO0FBSW5CQyxJQUFBQSxZQUptQjtBQUtuQkMsSUFBQUEsV0FMbUI7QUFNbkJDLElBQUFBLE1BTm1CO0FBT25CQyxJQUFBQSxNQVBtQjtBQVFuQkMsSUFBQUEsTUFSbUI7QUFTbkJDLElBQUFBO0FBVG1CLEdBQWQsQ0FBUDtBQVdBOzs7Ozs7Ozs7O0FBVUEsaUJBQWVSLE9BQWYsQ0FBd0I7QUFBRVMsSUFBQUEsYUFBYSxH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R0FBRyxNQUFNYixNQUFNLEVBQXZCO0FBQ0EsVUFBTTRCLE1BQU0sR0FBRyxNQUFNZixFQUFFLENBQUNNLFVBQUgsQ0FBYyxVQUFkLEVBQTBCQyxJQUExQixDQUErQjtBQUFFMEIsTUFBQUEsSUFBSSxFQUFFRCxPQUFPLENBQUNDO0FBQWhCLEtBQS9CLENBQXJCO0FBQ0EsVUFBTXBCLEtBQUssR0FBRyxNQUFNRSxNQUFNLENBQUNOLE9BQVAsRUFBcEI7O0FBQ0EsUUFBSUksS0FBSyxDQUFDRyxNQUFOLEtBQWlCLENBQXJCLEVBQXdCO0FBQ3RCLGFBQU8sSUFBUDtBQUNEOztBQUNELFVBQU07QUFBRUwsTUFBQUEsR0FBRyxFQUFFQyxFQUFQO0FBQVcsU0FBR2E7QUFBZCxRQUErQlosS0FBSyxDQUFDLENBQUQsQ0FBMUM7QUFDQSxXQUFPO0FBQUVELE1BQUFBLEVBQUY7QUFBTSxTQUFHYTtBQUFULEtBQVA7QUFDRDtBQUNGIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFxkYXRhLWFjY2VzcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJZCBmcm9tICcuLi9JZCdcclxuaW1wb3J0IHtvZn0gZnJvbSAncnhqcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VDb21tZW50c0RiICh7IG1ha2VEYiB9KSB7XHJcbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xyXG4gICAgZmluZEFsbCxcclxuICAgIGZpbmRCeUhhc2gsXHJcbiAgICBmaW5kQnlJZCxcclxuICAgIGZpbmRCeVBvc3RJZCxcclxuICAgIGZpbmRSZXBsaWVzLFxyXG4gICAgaW5zZXJ0LFxyXG4gICAgcmVtb3ZlLFxyXG4gICAgdXBkYXRlLFxyXG4gICAgZmluZE1haW5Db21tZW50c1xyXG4gIH0pXHJcbiAgLyphc3luYyBmdW5jdGlvbiBmaW5kQWxsICh7IHB1Ymxpc2hlZE9ubHkgPSB0cnVlIH0gPSB7fSkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBtYWtlRGIoKVxyXG4gICAgY29uc3QgcXVlcnkgPSBwdWJsaXNoZWRPbmx5ID8geyBwdWJsaXNoZWQ6IHRydWUgfSA6IHt9XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdjb21tZW50cycpLmZpbmQocXVlcnkpXHJcbiAgICByZXR1cm4gKGF3YWl0IHJlc3VsdC50b0FycmF5KCkpLm1hcCgoeyBfaWQ6IGlkLCAuLi5mb3VuZCB9KSA9PiAoe1xyXG4gICAgICBpZCxcclxuICAgICAgLi4uZm91bmRcclxuICAgIH0pKVxyXG4gIH0qL1xyXG5cclxuICBhc3luYyBmdW5jdGlvbiBmaW5kQWxsICh7IHB1Ymxpc2hlZE9ubHkgPSB0cnVlIH0gPSB7fSkge1xyXG4gICAgY29uc3QgZGIgPSBvZihtYWtlRGIoKSlcclxuICAgIGNvbnN0IHF1ZXJ5ID0gcHVibGlzaGVkT25seSA/IHsgcHVibGlzaGVkOiB0cnVlIH0gOiB7fVxyXG4gICAgY29uc3Qgc291cmNlID0gb2YoZGIuc3Vic2NyaWJlKGJhc2UgPT4gYmFzZS5jb2xsZWN0aW9uKCdjb21tZW50cycpLmZpbmQocXVlcnkpKSlcclxuICAgIHJldHVybiAoc291cmNlLnN1YnNjcmliZSh2YWwgPT4gdmFsLnRvQXJyYXkoKS5tYXAoKHsgX2lkOiBpZCwgLi4uZm91bmQgfSkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIC4uLmZvdW5kXHJcbiAgICB9KSkpKVxyXG4gIH1cclxuXHJcbiAgXHJcbiAgYXN5bmMgZnVuY3Rpb24gZmluZE1haW5Db21tZW50cyAoeyBwdWJsaXNoZWRPbmx5ID0gdHJ1ZSB9ID0ge30pIHtcclxuICAgIGNvbnN0IGRiID0gb2YobWFrZURiKCkpXHJcbiAgICBjb25zdCBxdWVyeSA9IHB1Ymxpc2hlZE9ubHkgPyB7IHJlcGx5VG9JZDogbnVsbCB9IDoge31cclxuICAgIGNvbnN0IHNvdXJjZSA9IG9mKGRiLnN1YnNjcmliZShiYXNlID0+IGJhc2UuY29sbGVjdGlvbignY29tbWVudHMnKS5maW5kKHF1ZXJ5KSkpXHJcbiAgICByZXR1cm4gKHNvdXJjZS5zdWJzY3JpYmUodmFsID0+IHZhbC50b0FycmF5KCkubWFwKCh7IF9pZDogaWQsIC4uLmZvdW5kIH0pID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICAuLi5mb3VuZFxyXG4gICAgfSkpKSlcclxuICB9XHJcbiAgXHJcbiAgYXN5bmMgZnVuY3Rpb24gZmluZEJ5SWQgKHsgaWQ6IF9pZCB9KSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IG1ha2VEYigpXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdjb21tZW50cycpLmZpbmQoeyBfaWQgfSlcclxuICAgIGNvbnN0IGZvdW5kID0gYXdhaXQgcmVzdWx0LnRvQXJyYXkoKVxyXG4gICAgaWYgKGZvdW5kLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gICAgY29uc3QgeyBfaWQ6IGlkLCAuLi5pbmZvIH0gPSBmb3VuZFswXVxyXG4gICAgcmV0dXJuIHsgaWQsIC4uLmluZm8gfVxyXG4gIH1cclxuICBhc3luYyBmdW5jdGlvbiBmaW5kQnlQb3N0SWQgKHsgcG9zdElkLCBvbWl0UmVwbGllcyA9IHRydWUgfSkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBtYWtlRGIoKVxyXG4gICAgY29uc3QgcXVlcnkgPSB7IHBvc3RJZDogcG9zdElkIH1cclxuICAgIGlmIChvbWl0UmVwbGllcykge1xyXG4gICAgICBxdWVyeS5yZXBseVRvSWQgPSBudWxsXHJcbiAgICB9XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdjb21tZW50cycpLmZpbmQocXVlcnkpXHJcbiAgICByZXR1cm4gKGF3YWl0IHJlc3VsdC50b0FycmF5KCkpLm1hcCgoeyBfaWQ6IGlkLCAuLi5mb3VuZCB9KSA9PiAoe1xyXG4gICAgICBpZCxcclxuICAgICAgLi4uZm91bmRcclxuICAgIH0pKVxyXG4gIH1cclxuICBhc3luYyBmdW5jdGlvbiBmaW5kUmVwbGllcyAoeyBjb21tZW50SWQsIHB1Ymxpc2hlZE9ubHkgPSB0cnVlIH0pIHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgbWFrZURiKClcclxuICAgIGNvbnN0IHF1ZXJ5ID0gcHVibGlzaGVkT25seVxyXG4gICAgICA/IHsgcHVibGlzaGVkOiB0cnVlLCByZXBseVRvSWQ6IGNvbW1lbnRJZCB9XHJcbiAgICAgIDogeyByZXBseVRvSWQ6IGNvbW1lbnRJZCB9XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdjb21tZW50cycpLmZpbmQocXVlcnkpXHJcbiAgICByZXR1cm4gKGF3YWl0IHJlc3VsdC50b0FycmF5KCkpLm1hcCgoeyBfaWQ6IGlkLCAuLi5mb3VuZCB9KSA9PiAoe1xyXG4gICAgICBpZCxcclxuICAgICAgLi4uZm91bmRcclxuICAgIH0pKVxyXG4gIH1cclxuICBhc3luYyBmdW5jdGlvbiBpbnNlcnQgKHsgaWQ6IF9pZCA9IElkLm1ha2VJZCgpLCAuLi5jb21tZW50SW5mbyB9KSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IG1ha2VEYigpXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYlxyXG4gICAgICAuY29sbGVjdGlvbignY29tbWVudHMnKVxyXG4gICAgICAuaW5zZXJ0T25lKHsgX2lkLCAuLi5jb21tZW50SW5mbyB9KVxyXG4gICAgY29uc3QgeyBfaWQ6IGlkLCAuLi5pbnNlcnRlZEluZm8gfSA9IHJlc3VsdC5vcHNbMF1cclxuICAgIHJldHVybiB7IGlkLCAuLi5pbnNlcnRlZEluZm8gfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlICh7IGlkOiBfaWQsIC4uLmNvbW1lbnRJbmZvIH0pIHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgbWFrZURiKClcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiXHJcbiAgICAgIC5jb2xsZWN0aW9uKCdjb21tZW50cycpXHJcbiAgICAgIC51cGRhdGVPbmUoeyBfaWQgfSwgeyAkc2V0OiB7IC4uLmNvbW1lbnRJbmZvIH0gfSlcclxuICAgIHJldHVybiByZXN1bHQubW9kaWZpZWRDb3VudCA+IDAgPyB7IGlkOiBfaWQsIC4uLmNvbW1lbnRJbmZvIH0gOiBudWxsXHJcbiAgfVxyXG4gIGFzeW5jIGZ1bmN0aW9uIHJlbW92ZSAoeyBpZDogX2lkIH0pIHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgbWFrZURiKClcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2NvbW1lbnRzJykuZGVsZXRlT25lKHsgX2lkIH0pXHJcbiAgICByZXR1cm4gcmVzdWx0LmRlbGV0ZWRDb3VudFxyXG4gIH1cclxuICBhc3luYyBmdW5jdGlvbiBmaW5kQnlIYXNoIChjb21tZW50KSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IG1ha2VEYigpXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdjb21tZW50cycpLmZpbmQoeyBoYXNoOiBjb21tZW50Lmhhc2ggfSlcclxuICAgIGNvbnN0IGZvdW5kID0gYXdhaXQgcmVzdWx0LnRvQXJyYXkoKVxyXG4gICAgaWYgKGZvdW5kLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gICAgY29uc3QgeyBfaWQ6IGlkLCAuLi5pbnNlcnRlZEluZm8gfSA9IGZvdW5kWzBdXHJcbiAgICByZXR1cm4geyBpZCwgLi4uaW5zZXJ0ZWRJbmZvIH1cclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "comments-db.js"
      ],
      "names": [
        "makeCommentsDb",
        "makeDb",
        "Object",
        "freeze",
        "findAll",
        "findByHash",
        "findById",
        "findByPostId",
        "findReplies",
        "insert",
        "remove",
        "update",
        "findMainComments",
        "publishedOnly",
        "db",
        "query",
        "published",
        "source",
        "subscribe",
        "base",
        "collection",
        "find",
        "val",
        "toArray",
        "map",
        "_id",
        "id",
        "found",
        "replyToId",
        "result",
        "length",
        "info",
        "postId",
        "omitReplies",
        "commentId",
        "Id",
        "makeId",
        "commentInfo",
        "insertOne",
        "insertedInfo",
        "ops",
        "updateOne",
        "$set",
        "modifiedCount",
        "deleteOne",
        "deletedCount",
        "comment",
        "hash"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
      "sourcesContent": [
        "import Id from '../Id'\r\nimport {of} from 'rxjs'\r\n\r\nexport default function makeCommentsDb ({ makeDb }) {\r\n  return Object.freeze({\r\n    findAll,\r\n    findByHash,\r\n    findById,\r\n    findByPostId,\r\n    findReplies,\r\n    insert,\r\n    remove,\r\n    update,\r\n    findMainComments\r\n  })\r\n  /*async function findAll ({ publishedOnly = true } = {}) {\r\n    const db = await makeDb()\r\n    const query = publishedOnly ? { published: true } : {}\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n  }*/\r\n\r\n  async function findAll ({ publishedOnly = true } = {}) {\r\n    const db = of(makeDb())\r\n    const query = publishedOnly ? { published: true } : {}\r\n    const source = of(db.subscribe(base => base.collection('comments').find(query)))\r\n    return (source.subscribe(val => val.toArray().map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))))\r\n  }\r\n\r\n  \r\n  async function findMainComments ({ publishedOnly = true } = {}) {\r\n    const db = of(makeDb())\r\n    const query = publishedOnly ? { replyToId: null } : {}\r\n    const source = of(db.subscribe(base => base.collection('comments').find(query)))\r\n    return (source.subscribe(val => val.toArray().map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))))\r\n  }\r\n  \r\n  async function findById ({ id: _id }) {\r\n    const db = await makeDb()\r\n    const result = await db.collection('comments').find({ _id })\r\n    const found = await result.toArray()\r\n    if (found.length === 0) {\r\n      return null\r\n    }\r\n    const { _id: id, ...info } = found[0]\r\n    return { id, ...info }\r\n  }\r\n  async function findByPostId ({ postId, omitReplies = true }) {\r\n    const db = await makeDb()\r\n    const query = { postId: postId }\r\n    if (omitReplies) {\r\n      query.replyToId = null\r\n    }\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n  }\r\n  async function findReplies ({ commentId, publishedOnly = true }) {\r\n    const db = await makeDb()\r\n    const query = publishedOnly\r\n      ? { published: true, replyToId: commentId }\r\n      : { replyToId: commentId }\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n  }\r\n  async function insert ({ id: _id = Id.makeId(), ...commentInfo }) {\r\n    const db = await makeDb()\r\n    const result = await db\r\n      .collection('comments')\r\n      .insertOne({ _id, ...commentInfo })\r\n    const { _id: id, ...insertedInfo } = result.ops[0]\r\n    return { id, ...insertedInfo }\r\n  }\r\n\r\n  async function update ({ id: _id, ...commentInfo }) {\r\n    const db = await makeDb()\r\n    const result = await db\r\n      .collection('comments')\r\n      .updateOne({ _id }, { $set: { ...commentInfo } })\r\n    return result.modifiedCount > 0 ? { id: _id, ...commentInfo } : null\r\n  }\r\n  async function remove ({ id: _id }) {\r\n    const db = await makeDb()\r\n    const result = await db.collection('comments').deleteOne({ _id })\r\n    return result.deletedCount\r\n  }\r\n  async function findByHash (comment) {\r\n    const db = await makeDb()\r\n    const result = await db.collection('comments').find({ hash: comment.hash })\r\n    const found = await result.toArray()\r\n    if (found.length === 0) {\r\n      return null\r\n    }\r\n    const { _id: id, ...insertedInfo } = found[0]\r\n    return { id, ...insertedInfo }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625586808500
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\delete-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\delete-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\delete-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\delete-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "delete-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeDeleteComment;\n\nfunction makeDeleteComment({\n  removeComment\n}) {\n  return async function deleteComment(httpRequest) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n\n    try {\n      const deleted = await removeComment({\n        id: httpRequest.params.id\n      });\n      return {\n        headers,\n        statusCode: deleted.deletedCount === 0 ? 404 : 200,\n        body: {\n          deleted\n        }\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers,\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlbGV0ZS1jb21tZW50LmpzIl0sIm5hbWVzIjpbIm1ha2VEZWxldGVDb21tZW50IiwicmVtb3ZlQ29tbWVudCIsImRlbGV0ZUNvbW1lbnQiLCJodHRwUmVxdWVzdCIsImhlYWRlcnMiLCJkZWxldGVkIiwiaWQiLCJwYXJhbXMiLCJzdGF0dXNDb2RlIiwiZGVsZXRlZENvdW50IiwiYm9keSIsImUiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWUsU0FBU0EsaUJBQVQsQ0FBNEI7QUFBRUMsRUFBQUE7QUFBRixDQUE1QixFQUErQztBQUM1RCxTQUFPLGVBQWVDLGFBQWYsQ0FBOEJDLFdBQTlCLEVBQTJDO0FBQ2hELFVBQU1DLE9BQU8sR0FBRztBQUNkLHNCQUFnQjtBQURGLEtBQWhCOztBQUdBLFFBQUk7QUFDRixZQUFNQyxPQUFPLEdBQUcsTUFBTUosYUFBYSxDQUFDO0FBQUVLLFFBQUFBLEVBQUUsRUFBRUgsV0FBVyxDQUFDSSxNQUFaLENBQW1CRDtBQUF6QixPQUFELENBQW5DO0FBQ0EsYUFBTztBQUNMRixRQUFBQSxPQURLO0FBRUxJLFFBQUFBLFVBQVUsRUFBRUgsT0FBTyxDQUFDSSxZQUFSLEtBQXlCLENBQXpCLEdBQTZCLEdBQTdCLEdBQW1DLEdBRjFDO0FBR0xDLFFBQUFBLElBQUksRUFBRTtBQUFFTCxVQUFBQTtBQUFGO0FBSEQsT0FBUDtBQUtELEtBUEQsQ0FPRSxPQUFPTSxDQUFQLEVBQVU7QUFDVjtBQUNBQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsQ0FBWjtBQUNBLGFBQU87QUFDTFAsUUFBQUEsT0FESztBQUVMSSxRQUFBQSxVQUFVLEVBQUUsR0FGUDtBQUdMRSxRQUFBQSxJQUFJLEVBQUU7QUFDSkksVUFBQUEsS0FBSyxFQUFFSCxDQUFDLENBQUNJO0FBREw7QUFIRCxPQUFQO0FBT0Q7QUFDRixHQXRCRDtBQXVCRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlRGVsZXRlQ29tbWVudCAoeyByZW1vdmVDb21tZW50IH0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ29tbWVudCAoaHR0cFJlcXVlc3QpIHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRlbGV0ZWQgPSBhd2FpdCByZW1vdmVDb21tZW50KHsgaWQ6IGh0dHBSZXF1ZXN0LnBhcmFtcy5pZCB9KVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGhlYWRlcnMsXHJcbiAgICAgICAgc3RhdHVzQ29kZTogZGVsZXRlZC5kZWxldGVkQ291bnQgPT09IDAgPyA0MDQgOiAyMDAsXHJcbiAgICAgICAgYm9keTogeyBkZWxldGVkIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAvLyBUT0RPOiBFcnJvciBsb2dnaW5nXHJcbiAgICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVycyxcclxuICAgICAgICBzdGF0dXNDb2RlOiA0MDAsXHJcbiAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgZXJyb3I6IGUubWVzc2FnZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "delete-comment.js"
      ],
      "names": [
        "makeDeleteComment",
        "removeComment",
        "deleteComment",
        "httpRequest",
        "headers",
        "deleted",
        "id",
        "params",
        "statusCode",
        "deletedCount",
        "body",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,iBAAT,CAA4B;AAAEC,EAAAA;AAAF,CAA5B,EAA+C;AAC5D,SAAO,eAAeC,aAAf,CAA8BC,WAA9B,EAA2C;AAChD,UAAMC,OAAO,GAAG;AACd,sBAAgB;AADF,KAAhB;;AAGA,QAAI;AACF,YAAMC,OAAO,GAAG,MAAMJ,aAAa,CAAC;AAAEK,QAAAA,EAAE,EAAEH,WAAW,CAACI,MAAZ,CAAmBD;AAAzB,OAAD,CAAnC;AACA,aAAO;AACLF,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAEH,OAAO,CAACI,YAAR,KAAyB,CAAzB,GAA6B,GAA7B,GAAmC,GAF1C;AAGLC,QAAAA,IAAI,EAAE;AAAEL,UAAAA;AAAF;AAHD,OAAP;AAKD,KAPD,CAOE,OAAOM,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,aAAO;AACLP,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLE,QAAAA,IAAI,EAAE;AACJI,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AAHD,OAAP;AAOD;AACF,GAtBD;AAuBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default function makeDeleteComment ({ removeComment }) {\r\n  return async function deleteComment (httpRequest) {\r\n    const headers = {\r\n      'Content-Type': 'application/json'\r\n    }\r\n    try {\r\n      const deleted = await removeComment({ id: httpRequest.params.id })\r\n      return {\r\n        headers,\r\n        statusCode: deleted.deletedCount === 0 ? 404 : 200,\r\n        body: { deleted }\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n      return {\r\n        headers,\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625185754730
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\get-comments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-comments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-comments.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-comments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "get-comments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeGetComments;\n\nfunction makeGetComments({\n  listComments\n}) {\n  return async function getComments(httpRequest) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n\n    try {\n      const postComments = await listComments({\n        postId: httpRequest.query.postId\n      });\n      return {\n        headers,\n        statusCode: 200,\n        body: postComments\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers,\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldC1jb21tZW50cy5qcyJdLCJuYW1lcyI6WyJtYWtlR2V0Q29tbWVudHMiLCJsaXN0Q29tbWVudHMiLCJnZXRDb21tZW50cyIsImh0dHBSZXF1ZXN0IiwiaGVhZGVycyIsInBvc3RDb21tZW50cyIsInBvc3RJZCIsInF1ZXJ5Iiwic3RhdHVzQ29kZSIsImJvZHkiLCJlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGVBQVQsQ0FBMEI7QUFBRUMsRUFBQUE7QUFBRixDQUExQixFQUE0QztBQUN6RCxTQUFPLGVBQWVDLFdBQWYsQ0FBNEJDLFdBQTVCLEVBQXlDO0FBQzlDLFVBQU1DLE9BQU8sR0FBRztBQUNkLHNCQUFnQjtBQURGLEtBQWhCOztBQUdBLFFBQUk7QUFDRixZQUFNQyxZQUFZLEdBQUcsTUFBTUosWUFBWSxDQUFDO0FBQ3RDSyxRQUFBQSxNQUFNLEVBQUVILFdBQVcsQ0FBQ0ksS0FBWixDQUFrQkQ7QUFEWSxPQUFELENBQXZDO0FBR0EsYUFBTztBQUNMRixRQUFBQSxPQURLO0FBRUxJLFFBQUFBLFVBQVUsRUFBRSxHQUZQO0FBR0xDLFFBQUFBLElBQUksRUFBRUo7QUFIRCxPQUFQO0FBS0QsS0FURCxDQVNFLE9BQU9LLENBQVAsRUFBVTtBQUNWO0FBQ0FDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixDQUFaO0FBQ0EsYUFBTztBQUNMTixRQUFBQSxPQURLO0FBRUxJLFFBQUFBLFVBQVUsRUFBRSxHQUZQO0FBR0xDLFFBQUFBLElBQUksRUFBRTtBQUNKSSxVQUFBQSxLQUFLLEVBQUVILENBQUMsQ0FBQ0k7QUFETDtBQUhELE9BQVA7QUFPRDtBQUNGLEdBeEJEO0FBeUJEIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFxjb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VHZXRDb21tZW50cyAoeyBsaXN0Q29tbWVudHMgfSkge1xyXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBnZXRDb21tZW50cyAoaHR0cFJlcXVlc3QpIHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHBvc3RDb21tZW50cyA9IGF3YWl0IGxpc3RDb21tZW50cyh7XHJcbiAgICAgICAgcG9zdElkOiBodHRwUmVxdWVzdC5xdWVyeS5wb3N0SWRcclxuICAgICAgfSlcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFkZXJzLFxyXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcclxuICAgICAgICBib2R5OiBwb3N0Q29tbWVudHNcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAvLyBUT0RPOiBFcnJvciBsb2dnaW5nXHJcbiAgICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVycyxcclxuICAgICAgICBzdGF0dXNDb2RlOiA0MDAsXHJcbiAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgZXJyb3I6IGUubWVzc2FnZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "get-comments.js"
      ],
      "names": [
        "makeGetComments",
        "listComments",
        "getComments",
        "httpRequest",
        "headers",
        "postComments",
        "postId",
        "query",
        "statusCode",
        "body",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,eAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAA4C;AACzD,SAAO,eAAeC,WAAf,CAA4BC,WAA5B,EAAyC;AAC9C,UAAMC,OAAO,GAAG;AACd,sBAAgB;AADF,KAAhB;;AAGA,QAAI;AACF,YAAMC,YAAY,GAAG,MAAMJ,YAAY,CAAC;AACtCK,QAAAA,MAAM,EAAEH,WAAW,CAACI,KAAZ,CAAkBD;AADY,OAAD,CAAvC;AAGA,aAAO;AACLF,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLC,QAAAA,IAAI,EAAEJ;AAHD,OAAP;AAKD,KATD,CASE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,aAAO;AACLN,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLC,QAAAA,IAAI,EAAE;AACJI,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AAHD,OAAP;AAOD;AACF,GAxBD;AAyBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default function makeGetComments ({ listComments }) {\r\n  return async function getComments (httpRequest) {\r\n    const headers = {\r\n      'Content-Type': 'application/json'\r\n    }\r\n    try {\r\n      const postComments = await listComments({\r\n        postId: httpRequest.query.postId\r\n      })\r\n      return {\r\n        headers,\r\n        statusCode: 200,\r\n        body: postComments\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n      return {\r\n        headers,\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671595
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\post-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\post-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\post-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\post-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "post-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makePostComment;\n\nfunction makePostComment({\n  addComment\n}) {\n  return async function postComment(httpRequest) {\n    try {\n      const {\n        source = {},\n        ...commentInfo\n      } = httpRequest.body;\n      source.ip = httpRequest.ip;\n      source.browser = httpRequest.headers['User-Agent'];\n\n      if (httpRequest.headers['Referer']) {\n        source.referrer = httpRequest.headers['Referer'];\n      }\n\n      const posted = await addComment({ ...commentInfo,\n        source\n      });\n      return {\n        headers: {\n          'Content-Type': 'application/json',\n          'Last-Modified': new Date(posted.modifiedOn).toUTCString()\n        },\n        statusCode: 201,\n        body: {\n          posted\n        }\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QtY29tbWVudC5qcyJdLCJuYW1lcyI6WyJtYWtlUG9zdENvbW1lbnQiLCJhZGRDb21tZW50IiwicG9zdENvbW1lbnQiLCJodHRwUmVxdWVzdCIsInNvdXJjZSIsImNvbW1lbnRJbmZvIiwiYm9keSIsImlwIiwiYnJvd3NlciIsImhlYWRlcnMiLCJyZWZlcnJlciIsInBvc3RlZCIsIkRhdGUiLCJtb2RpZmllZE9uIiwidG9VVENTdHJpbmciLCJzdGF0dXNDb2RlIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZSxTQUFTQSxlQUFULENBQTBCO0FBQUVDLEVBQUFBO0FBQUYsQ0FBMUIsRUFBMEM7QUFDdkQsU0FBTyxlQUFlQyxXQUFmLENBQTRCQyxXQUE1QixFQUF5QztBQUM5QyxRQUFJO0FBQ0YsWUFBTTtBQUFFQyxRQUFBQSxNQUFNLEdBQUcsRUFBWDtBQUFlLFdBQUdDO0FBQWxCLFVBQWtDRixXQUFXLENBQUNHLElBQXBEO0FBQ0FGLE1BQUFBLE1BQU0sQ0FBQ0csRUFBUCxHQUFZSixXQUFXLENBQUNJLEVBQXhCO0FBQ0FILE1BQUFBLE1BQU0sQ0FBQ0ksT0FBUCxHQUFpQkwsV0FBVyxDQUFDTSxPQUFaLENBQW9CLFlBQXBCLENBQWpCOztBQUNBLFVBQUlOLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFKLEVBQW9DO0FBQ2xDTCxRQUFBQSxNQUFNLENBQUNNLFFBQVAsR0FBa0JQLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFsQjtBQUNEOztBQUNELFlBQU1FLE1BQU0sR0FBRyxNQUFNVixVQUFVLENBQUMsRUFDOUIsR0FBR0ksV0FEMkI7QUFFOUJELFFBQUFBO0FBRjhCLE9BQUQsQ0FBL0I7QUFJQSxhQUFPO0FBQ0xLLFFBQUFBLE9BQU8sRUFBRTtBQUNQLDBCQUFnQixrQkFEVDtBQUVQLDJCQUFpQixJQUFJRyxJQUFKLENBQVNELE1BQU0sQ0FBQ0UsVUFBaEIsRUFBNEJDLFdBQTVCO0FBRlYsU0FESjtBQUtMQyxRQUFBQSxVQUFVLEVBQUUsR0FMUDtBQU1MVCxRQUFBQSxJQUFJLEVBQUU7QUFBRUssVUFBQUE7QUFBRjtBQU5ELE9BQVA7QUFRRCxLQW5CRCxDQW1CRSxPQUFPSyxDQUFQLEVBQVU7QUFDVjtBQUNBQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsQ0FBWjtBQUVBLGFBQU87QUFDTFAsUUFBQUEsT0FBTyxFQUFFO0FBQ1AsMEJBQWdCO0FBRFQsU0FESjtBQUlMTSxRQUFBQSxVQUFVLEVBQUUsR0FKUDtBQUtMVCxRQUFBQSxJQUFJLEVBQUU7QUFDSmEsVUFBQUEsS0FBSyxFQUFFSCxDQUFDLENBQUNJO0FBREw7QUFMRCxPQUFQO0FBU0Q7QUFDRixHQWxDRDtBQW1DRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlUG9zdENvbW1lbnQgKHsgYWRkQ29tbWVudCB9KSB7XHJcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHBvc3RDb21tZW50IChodHRwUmVxdWVzdCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBzb3VyY2UgPSB7fSwgLi4uY29tbWVudEluZm8gfSA9IGh0dHBSZXF1ZXN0LmJvZHlcclxuICAgICAgc291cmNlLmlwID0gaHR0cFJlcXVlc3QuaXBcclxuICAgICAgc291cmNlLmJyb3dzZXIgPSBodHRwUmVxdWVzdC5oZWFkZXJzWydVc2VyLUFnZW50J11cclxuICAgICAgaWYgKGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ1JlZmVyZXInXSkge1xyXG4gICAgICAgIHNvdXJjZS5yZWZlcnJlciA9IGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ1JlZmVyZXInXVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHBvc3RlZCA9IGF3YWl0IGFkZENvbW1lbnQoe1xyXG4gICAgICAgIC4uLmNvbW1lbnRJbmZvLFxyXG4gICAgICAgIHNvdXJjZVxyXG4gICAgICB9KVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAnTGFzdC1Nb2RpZmllZCc6IG5ldyBEYXRlKHBvc3RlZC5tb2RpZmllZE9uKS50b1VUQ1N0cmluZygpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdGF0dXNDb2RlOiAyMDEsXHJcbiAgICAgICAgYm9keTogeyBwb3N0ZWQgfVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIC8vIFRPRE86IEVycm9yIGxvZ2dpbmdcclxuICAgICAgY29uc29sZS5sb2coZSlcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RhdHVzQ29kZTogNDAwLFxyXG4gICAgICAgIGJvZHk6IHtcclxuICAgICAgICAgIGVycm9yOiBlLm1lc3NhZ2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "post-comment.js"
      ],
      "names": [
        "makePostComment",
        "addComment",
        "postComment",
        "httpRequest",
        "source",
        "commentInfo",
        "body",
        "ip",
        "browser",
        "headers",
        "referrer",
        "posted",
        "Date",
        "modifiedOn",
        "toUTCString",
        "statusCode",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,eAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAA0C;AACvD,SAAO,eAAeC,WAAf,CAA4BC,WAA5B,EAAyC;AAC9C,QAAI;AACF,YAAM;AAAEC,QAAAA,MAAM,GAAG,EAAX;AAAe,WAAGC;AAAlB,UAAkCF,WAAW,CAACG,IAApD;AACAF,MAAAA,MAAM,CAACG,EAAP,GAAYJ,WAAW,CAACI,EAAxB;AACAH,MAAAA,MAAM,CAACI,OAAP,GAAiBL,WAAW,CAACM,OAAZ,CAAoB,YAApB,CAAjB;;AACA,UAAIN,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAJ,EAAoC;AAClCL,QAAAA,MAAM,CAACM,QAAP,GAAkBP,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAlB;AACD;;AACD,YAAME,MAAM,GAAG,MAAMV,UAAU,CAAC,EAC9B,GAAGI,WAD2B;AAE9BD,QAAAA;AAF8B,OAAD,CAA/B;AAIA,aAAO;AACLK,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,2BAAiB,IAAIG,IAAJ,CAASD,MAAM,CAACE,UAAhB,EAA4BC,WAA5B;AAFV,SADJ;AAKLC,QAAAA,UAAU,EAAE,GALP;AAMLT,QAAAA,IAAI,EAAE;AAAEK,UAAAA;AAAF;AAND,OAAP;AAQD,KAnBD,CAmBE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AAEA,aAAO;AACLP,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SADJ;AAILM,QAAAA,UAAU,EAAE,GAJP;AAKLT,QAAAA,IAAI,EAAE;AACJa,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AALD,OAAP;AASD;AACF,GAlCD;AAmCD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default function makePostComment ({ addComment }) {\r\n  return async function postComment (httpRequest) {\r\n    try {\r\n      const { source = {}, ...commentInfo } = httpRequest.body\r\n      source.ip = httpRequest.ip\r\n      source.browser = httpRequest.headers['User-Agent']\r\n      if (httpRequest.headers['Referer']) {\r\n        source.referrer = httpRequest.headers['Referer']\r\n      }\r\n      const posted = await addComment({\r\n        ...commentInfo,\r\n        source\r\n      })\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Last-Modified': new Date(posted.modifiedOn).toUTCString()\r\n        },\r\n        statusCode: 201,\r\n        body: { posted }\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671598
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\patch-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\patch-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\patch-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\patch-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "patch-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makePatchComment;\n\nfunction makePatchComment({\n  editComment\n}) {\n  return async function patchComment(httpRequest) {\n    try {\n      const {\n        source = {},\n        ...commentInfo\n      } = httpRequest.body;\n      source.ip = httpRequest.ip;\n      source.browser = httpRequest.headers['User-Agent'];\n\n      if (httpRequest.headers['Referer']) {\n        source.referrer = httpRequest.headers['Referer'];\n      }\n\n      const toEdit = { ...commentInfo,\n        source,\n        id: httpRequest.params.id\n      };\n      const patched = await editComment(toEdit);\n      return {\n        headers: {\n          'Content-Type': 'application/json',\n          'Last-Modified': new Date(patched.modifiedOn).toUTCString()\n        },\n        statusCode: 200,\n        body: {\n          patched\n        }\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n\n      if (e.name === 'RangeError') {\n        return {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          statusCode: 404,\n          body: {\n            error: e.message\n          }\n        };\n      }\n\n      return {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhdGNoLWNvbW1lbnQuanMiXSwibmFtZXMiOlsibWFrZVBhdGNoQ29tbWVudCIsImVkaXRDb21tZW50IiwicGF0Y2hDb21tZW50IiwiaHR0cFJlcXVlc3QiLCJzb3VyY2UiLCJjb21tZW50SW5mbyIsImJvZHkiLCJpcCIsImJyb3dzZXIiLCJoZWFkZXJzIiwicmVmZXJyZXIiLCJ0b0VkaXQiLCJpZCIsInBhcmFtcyIsInBhdGNoZWQiLCJEYXRlIiwibW9kaWZpZWRPbiIsInRvVVRDU3RyaW5nIiwic3RhdHVzQ29kZSIsImUiLCJjb25zb2xlIiwibG9nIiwibmFtZSIsImVycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGdCQUFULENBQTJCO0FBQUVDLEVBQUFBO0FBQUYsQ0FBM0IsRUFBNEM7QUFDekQsU0FBTyxlQUFlQyxZQUFmLENBQTZCQyxXQUE3QixFQUEwQztBQUMvQyxRQUFJO0FBQ0YsWUFBTTtBQUFFQyxRQUFBQSxNQUFNLEdBQUcsRUFBWDtBQUFlLFdBQUdDO0FBQWxCLFVBQWtDRixXQUFXLENBQUNHLElBQXBEO0FBQ0FGLE1BQUFBLE1BQU0sQ0FBQ0csRUFBUCxHQUFZSixXQUFXLENBQUNJLEVBQXhCO0FBQ0FILE1BQUFBLE1BQU0sQ0FBQ0ksT0FBUCxHQUFpQkwsV0FBVyxDQUFDTSxPQUFaLENBQW9CLFlBQXBCLENBQWpCOztBQUNBLFVBQUlOLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFKLEVBQW9DO0FBQ2xDTCxRQUFBQSxNQUFNLENBQUNNLFFBQVAsR0FBa0JQLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFsQjtBQUNEOztBQUNELFlBQU1FLE1BQU0sR0FBRyxFQUNiLEdBQUdOLFdBRFU7QUFFYkQsUUFBQUEsTUFGYTtBQUdiUSxRQUFBQSxFQUFFLEVBQUVULFdBQVcsQ0FBQ1UsTUFBWixDQUFtQkQ7QUFIVixPQUFmO0FBS0EsWUFBTUUsT0FBTyxHQUFHLE1BQU1iLFdBQVcsQ0FBQ1UsTUFBRCxDQUFqQztBQUNBLGFBQU87QUFDTEYsUUFBQUEsT0FBTyxFQUFFO0FBQ1AsMEJBQWdCLGtCQURUO0FBRVAsMkJBQWlCLElBQUlNLElBQUosQ0FBU0QsT0FBTyxDQUFDRSxVQUFqQixFQUE2QkMsV0FBN0I7QUFGVixTQURKO0FBS0xDLFFBQUFBLFVBQVUsRUFBRSxHQUxQO0FBTUxaLFFBQUFBLElBQUksRUFBRTtBQUFFUSxVQUFBQTtBQUFGO0FBTkQsT0FBUDtBQVFELEtBckJELENBcUJFLE9BQU9LLENBQVAsRUFBVTtBQUNWO0FBQ0FDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixDQUFaOztBQUNBLFVBQUlBLENBQUMsQ0FBQ0csSUFBRixLQUFXLFlBQWYsRUFBNkI7QUFDM0IsZUFBTztBQUNMYixVQUFBQSxPQUFPLEVBQUU7QUFDUCw0QkFBZ0I7QUFEVCxXQURKO0FBSUxTLFVBQUFBLFVBQVUsRUFBRSxHQUpQO0FBS0xaLFVBQUFBLElBQUksRUFBRTtBQUNKaUIsWUFBQUEsS0FBSyxFQUFFSixDQUFDLENBQUNLO0FBREw7QUFMRCxTQUFQO0FBU0Q7O0FBQ0QsYUFBTztBQUNMZixRQUFBQSxPQUFPLEVBQUU7QUFDUCwwQkFBZ0I7QUFEVCxTQURKO0FBSUxTLFFBQUFBLFVBQVUsRUFBRSxHQUpQO0FBS0xaLFFBQUFBLElBQUksRUFBRTtBQUNKaUIsVUFBQUEsS0FBSyxFQUFFSixDQUFDLENBQUNLO0FBREw7QUFMRCxPQUFQO0FBU0Q7QUFDRixHQTlDRDtBQStDRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlUGF0Y2hDb21tZW50ICh7IGVkaXRDb21tZW50IH0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gcGF0Y2hDb21tZW50IChodHRwUmVxdWVzdCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBzb3VyY2UgPSB7fSwgLi4uY29tbWVudEluZm8gfSA9IGh0dHBSZXF1ZXN0LmJvZHlcclxuICAgICAgc291cmNlLmlwID0gaHR0cFJlcXVlc3QuaXBcclxuICAgICAgc291cmNlLmJyb3dzZXIgPSBodHRwUmVxdWVzdC5oZWFkZXJzWydVc2VyLUFnZW50J11cclxuICAgICAgaWYgKGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ1JlZmVyZXInXSkge1xyXG4gICAgICAgIHNvdXJjZS5yZWZlcnJlciA9IGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ1JlZmVyZXInXVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHRvRWRpdCA9IHtcclxuICAgICAgICAuLi5jb21tZW50SW5mbyxcclxuICAgICAgICBzb3VyY2UsXHJcbiAgICAgICAgaWQ6IGh0dHBSZXF1ZXN0LnBhcmFtcy5pZFxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHBhdGNoZWQgPSBhd2FpdCBlZGl0Q29tbWVudCh0b0VkaXQpXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICdMYXN0LU1vZGlmaWVkJzogbmV3IERhdGUocGF0Y2hlZC5tb2RpZmllZE9uKS50b1VUQ1N0cmluZygpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXHJcbiAgICAgICAgYm9keTogeyBwYXRjaGVkIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAvLyBUT0RPOiBFcnJvciBsb2dnaW5nXHJcbiAgICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICAgIGlmIChlLm5hbWUgPT09ICdSYW5nZUVycm9yJykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzdGF0dXNDb2RlOiA0MDQsXHJcbiAgICAgICAgICBib2R5OiB7XHJcbiAgICAgICAgICAgIGVycm9yOiBlLm1lc3NhZ2VcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdGF0dXNDb2RlOiA0MDAsXHJcbiAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgZXJyb3I6IGUubWVzc2FnZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "patch-comment.js"
      ],
      "names": [
        "makePatchComment",
        "editComment",
        "patchComment",
        "httpRequest",
        "source",
        "commentInfo",
        "body",
        "ip",
        "browser",
        "headers",
        "referrer",
        "toEdit",
        "id",
        "params",
        "patched",
        "Date",
        "modifiedOn",
        "toUTCString",
        "statusCode",
        "e",
        "console",
        "log",
        "name",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,gBAAT,CAA2B;AAAEC,EAAAA;AAAF,CAA3B,EAA4C;AACzD,SAAO,eAAeC,YAAf,CAA6BC,WAA7B,EAA0C;AAC/C,QAAI;AACF,YAAM;AAAEC,QAAAA,MAAM,GAAG,EAAX;AAAe,WAAGC;AAAlB,UAAkCF,WAAW,CAACG,IAApD;AACAF,MAAAA,MAAM,CAACG,EAAP,GAAYJ,WAAW,CAACI,EAAxB;AACAH,MAAAA,MAAM,CAACI,OAAP,GAAiBL,WAAW,CAACM,OAAZ,CAAoB,YAApB,CAAjB;;AACA,UAAIN,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAJ,EAAoC;AAClCL,QAAAA,MAAM,CAACM,QAAP,GAAkBP,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAlB;AACD;;AACD,YAAME,MAAM,GAAG,EACb,GAAGN,WADU;AAEbD,QAAAA,MAFa;AAGbQ,QAAAA,EAAE,EAAET,WAAW,CAACU,MAAZ,CAAmBD;AAHV,OAAf;AAKA,YAAME,OAAO,GAAG,MAAMb,WAAW,CAACU,MAAD,CAAjC;AACA,aAAO;AACLF,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,2BAAiB,IAAIM,IAAJ,CAASD,OAAO,CAACE,UAAjB,EAA6BC,WAA7B;AAFV,SADJ;AAKLC,QAAAA,UAAU,EAAE,GALP;AAMLZ,QAAAA,IAAI,EAAE;AAAEQ,UAAAA;AAAF;AAND,OAAP;AAQD,KArBD,CAqBE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;;AACA,UAAIA,CAAC,CAACG,IAAF,KAAW,YAAf,EAA6B;AAC3B,eAAO;AACLb,UAAAA,OAAO,EAAE;AACP,4BAAgB;AADT,WADJ;AAILS,UAAAA,UAAU,EAAE,GAJP;AAKLZ,UAAAA,IAAI,EAAE;AACJiB,YAAAA,KAAK,EAAEJ,CAAC,CAACK;AADL;AALD,SAAP;AASD;;AACD,aAAO;AACLf,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SADJ;AAILS,QAAAA,UAAU,EAAE,GAJP;AAKLZ,QAAAA,IAAI,EAAE;AACJiB,UAAAA,KAAK,EAAEJ,CAAC,CAACK;AADL;AALD,OAAP;AASD;AACF,GA9CD;AA+CD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default function makePatchComment ({ editComment }) {\r\n  return async function patchComment (httpRequest) {\r\n    try {\r\n      const { source = {}, ...commentInfo } = httpRequest.body\r\n      source.ip = httpRequest.ip\r\n      source.browser = httpRequest.headers['User-Agent']\r\n      if (httpRequest.headers['Referer']) {\r\n        source.referrer = httpRequest.headers['Referer']\r\n      }\r\n      const toEdit = {\r\n        ...commentInfo,\r\n        source,\r\n        id: httpRequest.params.id\r\n      }\r\n      const patched = await editComment(toEdit)\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Last-Modified': new Date(patched.modifiedOn).toUTCString()\r\n        },\r\n        statusCode: 200,\r\n        body: { patched }\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n      if (e.name === 'RangeError') {\r\n        return {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          statusCode: 404,\r\n          body: {\r\n            error: e.message\r\n          }\r\n        }\r\n      }\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671597
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\not-found.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\not-found.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\not-found.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\not-found.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "not-found.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = notFound;\n\nasync function notFound() {\n  return {\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: {\n      error: 'Not found.'\n    },\n    statusCode: 404\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdC1mb3VuZC5qcyJdLCJuYW1lcyI6WyJub3RGb3VuZCIsImhlYWRlcnMiLCJib2R5IiwiZXJyb3IiLCJzdGF0dXNDb2RlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWUsZUFBZUEsUUFBZixHQUEyQjtBQUN4QyxTQUFPO0FBQ0xDLElBQUFBLE9BQU8sRUFBRTtBQUNQLHNCQUFnQjtBQURULEtBREo7QUFJTEMsSUFBQUEsSUFBSSxFQUFFO0FBQUVDLE1BQUFBLEtBQUssRUFBRTtBQUFULEtBSkQ7QUFLTEMsSUFBQUEsVUFBVSxFQUFFO0FBTFAsR0FBUDtBQU9EIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFxjb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIG5vdEZvdW5kICgpIHtcclxuICByZXR1cm4ge1xyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9LFxyXG4gICAgYm9keTogeyBlcnJvcjogJ05vdCBmb3VuZC4nIH0sXHJcbiAgICBzdGF0dXNDb2RlOiA0MDRcclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "not-found.js"
      ],
      "names": [
        "notFound",
        "headers",
        "body",
        "error",
        "statusCode"
      ],
      "mappings": ";;;;;;;AAAe,eAAeA,QAAf,GAA2B;AACxC,SAAO;AACLC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KADJ;AAILC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAJD;AAKLC,IAAAA,UAAU,EAAE;AALP,GAAP;AAOD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default async function notFound () {\r\n  return {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: { error: 'Not found.' },\r\n    statusCode: 404\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671596
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\express-callback\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\express-callback\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\express-callback",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\express-callback\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\express-callback\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\express-callback\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\express-callback",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nmodule.exports = function makeExpressCallback(controller) {\n  return (req, res) => {\n    const httpRequest = {\n      body: req.body,\n      query: req.query,\n      params: req.params,\n      ip: req.ip,\n      method: req.method,\n      path: req.path,\n      headers: {\n        'Content-Type': req.get('Content-Type'),\n        Referer: req.get('referer'),\n        'User-Agent': req.get('User-Agent')\n      }\n    };\n    controller(httpRequest).then(httpResponse => {\n      if (httpResponse.headers) {\n        res.set(httpResponse.headers);\n      }\n\n      res.type('json');\n      res.status(httpResponse.statusCode).send(httpResponse.body);\n    }).catch(e => res.status(500).send({\n      error: 'An unkown error occurred.'\n    }));\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJtYWtlRXhwcmVzc0NhbGxiYWNrIiwiY29udHJvbGxlciIsInJlcSIsInJlcyIsImh0dHBSZXF1ZXN0IiwiYm9keSIsInF1ZXJ5IiwicGFyYW1zIiwiaXAiLCJtZXRob2QiLCJwYXRoIiwiaGVhZGVycyIsImdldCIsIlJlZmVyZXIiLCJ0aGVuIiwiaHR0cFJlc3BvbnNlIiwic2V0IiwidHlwZSIsInN0YXR1cyIsInN0YXR1c0NvZGUiLCJzZW5kIiwiY2F0Y2giLCJlIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixTQUFTQyxtQkFBVCxDQUE4QkMsVUFBOUIsRUFBMEM7QUFDekQsU0FBTyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUNuQixVQUFNQyxXQUFXLEdBQUc7QUFDbEJDLE1BQUFBLElBQUksRUFBRUgsR0FBRyxDQUFDRyxJQURRO0FBRWxCQyxNQUFBQSxLQUFLLEVBQUVKLEdBQUcsQ0FBQ0ksS0FGTztBQUdsQkMsTUFBQUEsTUFBTSxFQUFFTCxHQUFHLENBQUNLLE1BSE07QUFJbEJDLE1BQUFBLEVBQUUsRUFBRU4sR0FBRyxDQUFDTSxFQUpVO0FBS2xCQyxNQUFBQSxNQUFNLEVBQUVQLEdBQUcsQ0FBQ08sTUFMTTtBQU1sQkMsTUFBQUEsSUFBSSxFQUFFUixHQUFHLENBQUNRLElBTlE7QUFPbEJDLE1BQUFBLE9BQU8sRUFBRTtBQUNQLHdCQUFnQlQsR0FBRyxDQUFDVSxHQUFKLENBQVEsY0FBUixDQURUO0FBRVBDLFFBQUFBLE9BQU8sRUFBRVgsR0FBRyxDQUFDVSxHQUFKLENBQVEsU0FBUixDQUZGO0FBR1Asc0JBQWNWLEdBQUcsQ0FBQ1UsR0FBSixDQUFRLFlBQVI7QUFIUDtBQVBTLEtBQXBCO0FBYUFYLElBQUFBLFVBQVUsQ0FBQ0csV0FBRCxDQUFWLENBQ0dVLElBREgsQ0FDUUMsWUFBWSxJQUFJO0FBQ3BCLFVBQUlBLFlBQVksQ0FBQ0osT0FBakIsRUFBMEI7QUFDeEJSLFFBQUFBLEdBQUcsQ0FBQ2EsR0FBSixDQUFRRCxZQUFZLENBQUNKLE9BQXJCO0FBQ0Q7O0FBQ0RSLE1BQUFBLEdBQUcsQ0FBQ2MsSUFBSixDQUFTLE1BQVQ7QUFDQWQsTUFBQUEsR0FBRyxDQUFDZSxNQUFKLENBQVdILFlBQVksQ0FBQ0ksVUFBeEIsRUFBb0NDLElBQXBDLENBQXlDTCxZQUFZLENBQUNWLElBQXREO0FBQ0QsS0FQSCxFQVFHZ0IsS0FSSCxDQVFTQyxDQUFDLElBQUluQixHQUFHLENBQUNlLE1BQUosQ0FBVyxHQUFYLEVBQWdCRSxJQUFoQixDQUFxQjtBQUFFRyxNQUFBQSxLQUFLLEVBQUU7QUFBVCxLQUFyQixDQVJkO0FBU0QsR0F2QkQ7QUF3QkQsQ0F6QkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGV4cHJlc3MtY2FsbGJhY2siLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1ha2VFeHByZXNzQ2FsbGJhY2sgKGNvbnRyb2xsZXIpIHtcclxuICByZXR1cm4gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBodHRwUmVxdWVzdCA9IHtcclxuICAgICAgYm9keTogcmVxLmJvZHksXHJcbiAgICAgIHF1ZXJ5OiByZXEucXVlcnksXHJcbiAgICAgIHBhcmFtczogcmVxLnBhcmFtcyxcclxuICAgICAgaXA6IHJlcS5pcCxcclxuICAgICAgbWV0aG9kOiByZXEubWV0aG9kLFxyXG4gICAgICBwYXRoOiByZXEucGF0aCxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiByZXEuZ2V0KCdDb250ZW50LVR5cGUnKSxcclxuICAgICAgICBSZWZlcmVyOiByZXEuZ2V0KCdyZWZlcmVyJyksXHJcbiAgICAgICAgJ1VzZXItQWdlbnQnOiByZXEuZ2V0KCdVc2VyLUFnZW50JylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29udHJvbGxlcihodHRwUmVxdWVzdClcclxuICAgICAgLnRoZW4oaHR0cFJlc3BvbnNlID0+IHtcclxuICAgICAgICBpZiAoaHR0cFJlc3BvbnNlLmhlYWRlcnMpIHtcclxuICAgICAgICAgIHJlcy5zZXQoaHR0cFJlc3BvbnNlLmhlYWRlcnMpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcy50eXBlKCdqc29uJylcclxuICAgICAgICByZXMuc3RhdHVzKGh0dHBSZXNwb25zZS5zdGF0dXNDb2RlKS5zZW5kKGh0dHBSZXNwb25zZS5ib2R5KVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZSA9PiByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IGVycm9yOiAnQW4gdW5rb3duIGVycm9yIG9jY3VycmVkLicgfSkpXHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "module",
        "exports",
        "makeExpressCallback",
        "controller",
        "req",
        "res",
        "httpRequest",
        "body",
        "query",
        "params",
        "ip",
        "method",
        "path",
        "headers",
        "get",
        "Referer",
        "then",
        "httpResponse",
        "set",
        "type",
        "status",
        "statusCode",
        "send",
        "catch",
        "e",
        "error"
      ],
      "mappings": ";;AAAAA,MAAM,CAACC,OAAP,GAAiB,SAASC,mBAAT,CAA8BC,UAA9B,EAA0C;AACzD,SAAO,CAACC,GAAD,EAAMC,GAAN,KAAc;AACnB,UAAMC,WAAW,GAAG;AAClBC,MAAAA,IAAI,EAAEH,GAAG,CAACG,IADQ;AAElBC,MAAAA,KAAK,EAAEJ,GAAG,CAACI,KAFO;AAGlBC,MAAAA,MAAM,EAAEL,GAAG,CAACK,MAHM;AAIlBC,MAAAA,EAAE,EAAEN,GAAG,CAACM,EAJU;AAKlBC,MAAAA,MAAM,EAAEP,GAAG,CAACO,MALM;AAMlBC,MAAAA,IAAI,EAAER,GAAG,CAACQ,IANQ;AAOlBC,MAAAA,OAAO,EAAE;AACP,wBAAgBT,GAAG,CAACU,GAAJ,CAAQ,cAAR,CADT;AAEPC,QAAAA,OAAO,EAAEX,GAAG,CAACU,GAAJ,CAAQ,SAAR,CAFF;AAGP,sBAAcV,GAAG,CAACU,GAAJ,CAAQ,YAAR;AAHP;AAPS,KAApB;AAaAX,IAAAA,UAAU,CAACG,WAAD,CAAV,CACGU,IADH,CACQC,YAAY,IAAI;AACpB,UAAIA,YAAY,CAACJ,OAAjB,EAA0B;AACxBR,QAAAA,GAAG,CAACa,GAAJ,CAAQD,YAAY,CAACJ,OAArB;AACD;;AACDR,MAAAA,GAAG,CAACc,IAAJ,CAAS,MAAT;AACAd,MAAAA,GAAG,CAACe,MAAJ,CAAWH,YAAY,CAACI,UAAxB,EAAoCC,IAApC,CAAyCL,YAAY,CAACV,IAAtD;AACD,KAPH,EAQGgB,KARH,CAQSC,CAAC,IAAInB,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB;AAAEG,MAAAA,KAAK,EAAE;AAAT,KAArB,CARd;AASD,GAvBD;AAwBD,CAzBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\express-callback",
      "sourcesContent": [
        "module.exports = function makeExpressCallback (controller) {\r\n  return (req, res) => {\r\n    const httpRequest = {\r\n      body: req.body,\r\n      query: req.query,\r\n      params: req.params,\r\n      ip: req.ip,\r\n      method: req.method,\r\n      path: req.path,\r\n      headers: {\r\n        'Content-Type': req.get('Content-Type'),\r\n        Referer: req.get('referer'),\r\n        'User-Agent': req.get('User-Agent')\r\n      }\r\n    }\r\n    controller(httpRequest)\r\n      .then(httpResponse => {\r\n        if (httpResponse.headers) {\r\n          res.set(httpResponse.headers)\r\n        }\r\n        res.type('json')\r\n        res.status(httpResponse.statusCode).send(httpResponse.body)\r\n      })\r\n      .catch(e => res.status(500).send({ error: 'An unkown error occurred.' }))\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625186128436
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"notFound\", {\n  enumerable: true,\n  get: function () {\n    return _notFound.default;\n  }\n});\nexports.getMainComments = exports.patchComment = exports.postComment = exports.getComments = exports.deleteComment = exports.default = void 0;\n\nvar _useCases = require(\"../use-cases\");\n\nvar _deleteComment = _interopRequireDefault(require(\"./delete-comment\"));\n\nvar _getComments = _interopRequireDefault(require(\"./get-comments\"));\n\nvar _postComment = _interopRequireDefault(require(\"./post-comment\"));\n\nvar _patchComment = _interopRequireDefault(require(\"./patch-comment\"));\n\nvar _notFound = _interopRequireDefault(require(\"./not-found\"));\n\nvar _getMainComments = _interopRequireDefault(require(\"./get-main-comments\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst deleteComment = (0, _deleteComment.default)({\n  removeComment: _useCases.removeComment\n});\nexports.deleteComment = deleteComment;\nconst getComments = (0, _getComments.default)({\n  listComments: _useCases.listComments\n});\nexports.getComments = getComments;\nconst postComment = (0, _postComment.default)({\n  addComment: _useCases.addComment\n});\nexports.postComment = postComment;\nconst patchComment = (0, _patchComment.default)({\n  editComment: _useCases.editComment\n});\nexports.patchComment = patchComment;\nconst getMainComments = (0, _getMainComments.default)({\n  listMainComments: _useCases.listMainComments\n});\nexports.getMainComments = getMainComments;\nconst commentController = Object.freeze({\n  deleteComment,\n  getComments,\n  notFound: _notFound.default,\n  postComment,\n  patchComment,\n  getMainComments\n});\nvar _default = commentController;\n/*@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http postComment\r\nservice -> controller: add-comment\r\ncontroller -> comment: create-comment\r\ncomment  -> controller: comment\r\ncontroller -> dataAcces: save-comment\r\ndataAcces-> mongoDB: save\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml\r\n\r\n\r\n\r\n@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http getMainComments\r\nservice -> controller: get-main-comments\r\ncontroller -> dataAcces: getMainComments\r\ndataAcces-> mongoDB: getComments\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml*/\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRlbGV0ZUNvbW1lbnQiLCJyZW1vdmVDb21tZW50IiwiZ2V0Q29tbWVudHMiLCJsaXN0Q29tbWVudHMiLCJwb3N0Q29tbWVudCIsImFkZENvbW1lbnQiLCJwYXRjaENvbW1lbnQiLCJlZGl0Q29tbWVudCIsImdldE1haW5Db21tZW50cyIsImxpc3RNYWluQ29tbWVudHMiLCJjb21tZW50Q29udHJvbGxlciIsIk9iamVjdCIsImZyZWV6ZSIsIm5vdEZvdW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7O0FBT0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxhQUFhLEdBQUcsNEJBQWtCO0FBQUVDLEVBQUFBLGFBQWEsRUFBYkE7QUFBRixDQUFsQixDQUF0Qjs7QUFDQSxNQUFNQyxXQUFXLEdBQUcsMEJBQWdCO0FBQ2xDQyxFQUFBQSxZQUFZLEVBQVpBO0FBRGtDLENBQWhCLENBQXBCOztBQUdBLE1BQU1DLFdBQVcsR0FBRywwQkFBZ0I7QUFBRUMsRUFBQUEsVUFBVSxFQUFWQTtBQUFGLENBQWhCLENBQXBCOztBQUNBLE1BQU1DLFlBQVksR0FBRywyQkFBaUI7QUFBRUMsRUFBQUEsV0FBVyxFQUFYQTtBQUFGLENBQWpCLENBQXJCOztBQUVBLE1BQU1DLGVBQWUsR0FBRyw4QkFBb0I7QUFBQ0MsRUFBQUEsZ0JBQWdCLEVBQWhCQTtBQUFELENBQXBCLENBQXhCOztBQUVBLE1BQU1DLGlCQUFpQixHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUN0Q1osRUFBQUEsYUFEc0M7QUFFdENFLEVBQUFBLFdBRnNDO0FBR3RDVyxFQUFBQSxRQUFRLEVBQVJBLGlCQUhzQztBQUl0Q1QsRUFBQUEsV0FKc0M7QUFLdENFLEVBQUFBLFlBTHNDO0FBTXRDRSxFQUFBQTtBQU5zQyxDQUFkLENBQTFCO2VBU2VFLGlCO0FBR2YiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGNvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBhZGRDb21tZW50LFxyXG4gIGVkaXRDb21tZW50LFxyXG4gIGxpc3RDb21tZW50cyxcclxuICByZW1vdmVDb21tZW50LFxyXG4gIGxpc3RNYWluQ29tbWVudHNcclxufSBmcm9tICcuLi91c2UtY2FzZXMnXHJcbmltcG9ydCBtYWtlRGVsZXRlQ29tbWVudCBmcm9tICcuL2RlbGV0ZS1jb21tZW50J1xyXG5pbXBvcnQgbWFrZUdldENvbW1lbnRzIGZyb20gJy4vZ2V0LWNvbW1lbnRzJ1xyXG5pbXBvcnQgbWFrZVBvc3RDb21tZW50IGZyb20gJy4vcG9zdC1jb21tZW50J1xyXG5pbXBvcnQgbWFrZVBhdGNoQ29tbWVudCBmcm9tICcuL3BhdGNoLWNvbW1lbnQnXHJcbmltcG9ydCBub3RGb3VuZCBmcm9tICcuL25vdC1mb3VuZCdcclxuaW1wb3J0IG1ha2VHZXRNYWluQ29tbWVudHMgZnJvbSAnLi9nZXQtbWFpbi1jb21tZW50cydcclxuXHJcbmNvbnN0IGRlbGV0ZUNvbW1lbnQgPSBtYWtlRGVsZXRlQ29tbWVudCh7IHJlbW92ZUNvbW1lbnQgfSlcclxuY29uc3QgZ2V0Q29tbWVudHMgPSBtYWtlR2V0Q29tbWVudHMoe1xyXG4gIGxpc3RDb21tZW50c1xyXG59KVxyXG5jb25zdCBwb3N0Q29tbWVudCA9IG1ha2VQb3N0Q29tbWVudCh7IGFkZENvbW1lbnQgfSlcclxuY29uc3QgcGF0Y2hDb21tZW50ID0gbWFrZVBhdGNoQ29tbWVudCh7IGVkaXRDb21tZW50IH0pXHJcblxyXG5jb25zdCBnZXRNYWluQ29tbWVudHMgPSBtYWtlR2V0TWFpbkNvbW1lbnRzKHtsaXN0TWFpbkNvbW1lbnRzIH0pXHJcblxyXG5jb25zdCBjb21tZW50Q29udHJvbGxlciA9IE9iamVjdC5mcmVlemUoe1xyXG4gIGRlbGV0ZUNvbW1lbnQsXHJcbiAgZ2V0Q29tbWVudHMsXHJcbiAgbm90Rm91bmQsXHJcbiAgcG9zdENvbW1lbnQsXHJcbiAgcGF0Y2hDb21tZW50LFxyXG4gIGdldE1haW5Db21tZW50c1xyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29tbWVudENvbnRyb2xsZXJcclxuZXhwb3J0IHsgZGVsZXRlQ29tbWVudCwgZ2V0Q29tbWVudHMsIG5vdEZvdW5kLCBwb3N0Q29tbWVudCwgcGF0Y2hDb21tZW50LCBnZXRNYWluQ29tbWVudHMgfVxyXG5cclxuLypAc3RhcnR1bWxcclxuYWN0b3IgdXNlclxyXG5ib3VuZGFyeSBzZXJ2aWNlXHJcbmNvbnRyb2wgY29udHJvbGxlclxyXG5lbnRpdHkgY29tbWVudFxyXG5ib3VuZGFyeSBkYXRhQWNjZXNcclxuZGF0YWJhc2UgbW9uZ29EQlxyXG5cclxudXNlciAtPiAgc2VydmljZSA6IEh0dHAgcG9zdENvbW1lbnRcclxuc2VydmljZSAtPiBjb250cm9sbGVyOiBhZGQtY29tbWVudFxyXG5jb250cm9sbGVyIC0+IGNvbW1lbnQ6IGNyZWF0ZS1jb21tZW50XHJcbmNvbW1lbnQgIC0+IGNvbnRyb2xsZXI6IGNvbW1lbnRcclxuY29udHJvbGxlciAtPiBkYXRhQWNjZXM6IHNhdmUtY29tbWVudFxyXG5kYXRhQWNjZXMtPiBtb25nb0RCOiBzYXZlXHJcbm1vbmdvREIgLT4gZGF0YUFjY2VzIDogcmV0dXJuLXJlc3VsdFxyXG5kYXRhQWNjZXMgLT4gY29udHJvbGxlcjogcmV0dXJuLXJlc3VsdFxyXG5jb250cm9sbGVyLT5zZXJ2aWNlOiByZXR1cm4tcmVzdWx0XHJcbnNlcnZpY2UgLT4gdXNlciA6IHJldHVybiByZXN1bHRcclxuQGVuZHVtbFxyXG5cclxuXHJcblxyXG5Ac3RhcnR1bWxcclxuYWN0b3IgdXNlclxyXG5ib3VuZGFyeSBzZXJ2aWNlXHJcbmNvbnRyb2wgY29udHJvbGxlclxyXG5lbnRpdHkgY29tbWVudFxyXG5ib3VuZGFyeSBkYXRhQWNjZXNcclxuZGF0YWJhc2UgbW9uZ29EQlxyXG5cclxudXNlciAtPiAgc2VydmljZSA6IEh0dHAgZ2V0TWFpbkNvbW1lbnRzXHJcbnNlcnZpY2UgLT4gY29udHJvbGxlcjogZ2V0LW1haW4tY29tbWVudHNcclxuY29udHJvbGxlciAtPiBkYXRhQWNjZXM6IGdldE1haW5Db21tZW50c1xyXG5kYXRhQWNjZXMtPiBtb25nb0RCOiBnZXRDb21tZW50c1xyXG5tb25nb0RCIC0+IGRhdGFBY2NlcyA6IHJldHVybi1yZXN1bHRcclxuZGF0YUFjY2VzIC0+IGNvbnRyb2xsZXI6IHJldHVybi1yZXN1bHRcclxuY29udHJvbGxlci0+c2VydmljZTogcmV0dXJuLXJlc3VsdFxyXG5zZXJ2aWNlIC0+IHVzZXIgOiByZXR1cm4gcmVzdWx0XHJcbkBlbmR1bWwqLyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "deleteComment",
        "removeComment",
        "getComments",
        "listComments",
        "postComment",
        "addComment",
        "patchComment",
        "editComment",
        "getMainComments",
        "listMainComments",
        "commentController",
        "Object",
        "freeze",
        "notFound"
      ],
      "mappings": ";;;;;;;;;;;;;AAAA;;AAOA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,4BAAkB;AAAEC,EAAAA,aAAa,EAAbA;AAAF,CAAlB,CAAtB;;AACA,MAAMC,WAAW,GAAG,0BAAgB;AAClCC,EAAAA,YAAY,EAAZA;AADkC,CAAhB,CAApB;;AAGA,MAAMC,WAAW,GAAG,0BAAgB;AAAEC,EAAAA,UAAU,EAAVA;AAAF,CAAhB,CAApB;;AACA,MAAMC,YAAY,GAAG,2BAAiB;AAAEC,EAAAA,WAAW,EAAXA;AAAF,CAAjB,CAArB;;AAEA,MAAMC,eAAe,GAAG,8BAAoB;AAACC,EAAAA,gBAAgB,EAAhBA;AAAD,CAApB,CAAxB;;AAEA,MAAMC,iBAAiB,GAAGC,MAAM,CAACC,MAAP,CAAc;AACtCZ,EAAAA,aADsC;AAEtCE,EAAAA,WAFsC;AAGtCW,EAAAA,QAAQ,EAARA,iBAHsC;AAItCT,EAAAA,WAJsC;AAKtCE,EAAAA,YALsC;AAMtCE,EAAAA;AANsC,CAAd,CAA1B;eASeE,iB;AAGf",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "import {\r\n  addComment,\r\n  editComment,\r\n  listComments,\r\n  removeComment,\r\n  listMainComments\r\n} from '../use-cases'\r\nimport makeDeleteComment from './delete-comment'\r\nimport makeGetComments from './get-comments'\r\nimport makePostComment from './post-comment'\r\nimport makePatchComment from './patch-comment'\r\nimport notFound from './not-found'\r\nimport makeGetMainComments from './get-main-comments'\r\n\r\nconst deleteComment = makeDeleteComment({ removeComment })\r\nconst getComments = makeGetComments({\r\n  listComments\r\n})\r\nconst postComment = makePostComment({ addComment })\r\nconst patchComment = makePatchComment({ editComment })\r\n\r\nconst getMainComments = makeGetMainComments({listMainComments })\r\n\r\nconst commentController = Object.freeze({\r\n  deleteComment,\r\n  getComments,\r\n  notFound,\r\n  postComment,\r\n  patchComment,\r\n  getMainComments\r\n})\r\n\r\nexport default commentController\r\nexport { deleteComment, getComments, notFound, postComment, patchComment, getMainComments }\r\n\r\n/*@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http postComment\r\nservice -> controller: add-comment\r\ncontroller -> comment: create-comment\r\ncomment  -> controller: comment\r\ncontroller -> dataAcces: save-comment\r\ndataAcces-> mongoDB: save\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml\r\n\r\n\r\n\r\n@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http getMainComments\r\nservice -> controller: get-main-comments\r\ncontroller -> dataAcces: getMainComments\r\ndataAcces-> mongoDB: getComments\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml*/"
      ]
    },
    "sourceType": "script",
    "mtime": 1625246546618
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.listMainComments = exports.removeComment = exports.listComments = exports.editComment = exports.addComment = exports.default = void 0;\n\nvar _addComment = _interopRequireDefault(require(\"./add-comment\"));\n\nvar _editComment = _interopRequireDefault(require(\"./edit-comment\"));\n\nvar _removeComment = _interopRequireDefault(require(\"./remove-comment\"));\n\nvar _listComments = _interopRequireDefault(require(\"./list-comments\"));\n\nvar _handleModeration = _interopRequireDefault(require(\"./handle-moderation\"));\n\nvar _listMainComments = _interopRequireDefault(require(\"./list-main-comments\"));\n\nvar _dataAccess = _interopRequireDefault(require(\"../data-access\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst handleModeration = (0, _handleModeration.default)({\n  initiateReview: async () => {} // TODO: Make real initiate review function.\n\n});\nconst addComment = (0, _addComment.default)({\n  commentsDb: _dataAccess.default,\n  handleModeration\n});\nexports.addComment = addComment;\nconst editComment = (0, _editComment.default)({\n  commentsDb: _dataAccess.default,\n  handleModeration\n});\nexports.editComment = editComment;\nconst listComments = (0, _listComments.default)({\n  commentsDb: _dataAccess.default\n});\nexports.listComments = listComments;\nconst removeComment = (0, _removeComment.default)({\n  commentsDb: _dataAccess.default\n});\nexports.removeComment = removeComment;\nconst listMainComments = (0, _listMainComments.default)({\n  commentsDb: _dataAccess.default\n});\nexports.listMainComments = listMainComments;\nconst commentService = Object.freeze({\n  addComment,\n  editComment,\n  handleModeration,\n  listComments,\n  removeComment,\n  listMainComments\n});\nvar _default = commentService;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImhhbmRsZU1vZGVyYXRpb24iLCJpbml0aWF0ZVJldmlldyIsImFkZENvbW1lbnQiLCJjb21tZW50c0RiIiwiZWRpdENvbW1lbnQiLCJsaXN0Q29tbWVudHMiLCJyZW1vdmVDb21tZW50IiwibGlzdE1haW5Db21tZW50cyIsImNvbW1lbnRTZXJ2aWNlIiwiT2JqZWN0IiwiZnJlZXplIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxnQkFBZ0IsR0FBRywrQkFBcUI7QUFDNUNDLEVBQUFBLGNBQWMsRUFBRSxZQUFZLENBQUUsQ0FEYyxDQUNiOztBQURhLENBQXJCLENBQXpCO0FBR0EsTUFBTUMsVUFBVSxHQUFHLHlCQUFlO0FBQUVDLEVBQUFBLFVBQVUsRUFBVkEsbUJBQUY7QUFBY0gsRUFBQUE7QUFBZCxDQUFmLENBQW5COztBQUNBLE1BQU1JLFdBQVcsR0FBRywwQkFBZ0I7QUFBRUQsRUFBQUEsVUFBVSxFQUFWQSxtQkFBRjtBQUFjSCxFQUFBQTtBQUFkLENBQWhCLENBQXBCOztBQUNBLE1BQU1LLFlBQVksR0FBRywyQkFBaUI7QUFBRUYsRUFBQUEsVUFBVSxFQUFWQTtBQUFGLENBQWpCLENBQXJCOztBQUNBLE1BQU1HLGFBQWEsR0FBRyw0QkFBa0I7QUFBRUgsRUFBQUEsVUFBVSxFQUFWQTtBQUFGLENBQWxCLENBQXRCOztBQUNBLE1BQU1JLGdCQUFnQixHQUFHLCtCQUFxQjtBQUFFSixFQUFBQSxVQUFVLEVBQVZBO0FBQUYsQ0FBckIsQ0FBekI7O0FBRUEsTUFBTUssY0FBYyxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUNuQ1IsRUFBQUEsVUFEbUM7QUFFbkNFLEVBQUFBLFdBRm1DO0FBR25DSixFQUFBQSxnQkFIbUM7QUFJbkNLLEVBQUFBLFlBSm1DO0FBS25DQyxFQUFBQSxhQUxtQztBQU1uQ0MsRUFBQUE7QUFObUMsQ0FBZCxDQUF2QjtlQVNlQyxjIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFx1c2UtY2FzZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFrZUFkZENvbW1lbnQgZnJvbSAnLi9hZGQtY29tbWVudCdcclxuaW1wb3J0IG1ha2VFZGl0Q29tbWVudCBmcm9tICcuL2VkaXQtY29tbWVudCdcclxuaW1wb3J0IG1ha2VSZW1vdmVDb21tZW50IGZyb20gJy4vcmVtb3ZlLWNvbW1lbnQnXHJcbmltcG9ydCBtYWtlTGlzdENvbW1lbnRzIGZyb20gJy4vbGlzdC1jb21tZW50cydcclxuaW1wb3J0IG1ha2VIYW5kbGVNb2RlcmF0aW9uIGZyb20gJy4vaGFuZGxlLW1vZGVyYXRpb24nXHJcbmltcG9ydCBtYWtlTGlzdE1haW5Db21tZW50cyBmcm9tICcuL2xpc3QtbWFpbi1jb21tZW50cydcclxuaW1wb3J0IGNvbW1lbnRzRGIgZnJvbSAnLi4vZGF0YS1hY2Nlc3MnXHJcblxyXG5jb25zdCBoYW5kbGVNb2RlcmF0aW9uID0gbWFrZUhhbmRsZU1vZGVyYXRpb24oe1xyXG4gIGluaXRpYXRlUmV2aWV3OiBhc3luYyAoKSA9PiB7fSAvLyBUT0RPOiBNYWtlIHJlYWwgaW5pdGlhdGUgcmV2aWV3IGZ1bmN0aW9uLlxyXG59KVxyXG5jb25zdCBhZGRDb21tZW50ID0gbWFrZUFkZENvbW1lbnQoeyBjb21tZW50c0RiLCBoYW5kbGVNb2RlcmF0aW9uIH0pXHJcbmNvbnN0IGVkaXRDb21tZW50ID0gbWFrZUVkaXRDb21tZW50KHsgY29tbWVudHNEYiwgaGFuZGxlTW9kZXJhdGlvbiB9KVxyXG5jb25zdCBsaXN0Q29tbWVudHMgPSBtYWtlTGlzdENvbW1lbnRzKHsgY29tbWVudHNEYiB9KVxyXG5jb25zdCByZW1vdmVDb21tZW50ID0gbWFrZVJlbW92ZUNvbW1lbnQoeyBjb21tZW50c0RiIH0pXHJcbmNvbnN0IGxpc3RNYWluQ29tbWVudHMgPSBtYWtlTGlzdE1haW5Db21tZW50cyh7IGNvbW1lbnRzRGIgfSlcclxuXHJcbmNvbnN0IGNvbW1lbnRTZXJ2aWNlID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgYWRkQ29tbWVudCxcclxuICBlZGl0Q29tbWVudCxcclxuICBoYW5kbGVNb2RlcmF0aW9uLFxyXG4gIGxpc3RDb21tZW50cyxcclxuICByZW1vdmVDb21tZW50LFxyXG4gIGxpc3RNYWluQ29tbWVudHNcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbW1lbnRTZXJ2aWNlXHJcbmV4cG9ydCB7IGFkZENvbW1lbnQsIGVkaXRDb21tZW50LCBsaXN0Q29tbWVudHMsIHJlbW92ZUNvbW1lbnQsIGxpc3RNYWluQ29tbWVudHMgfVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "handleModeration",
        "initiateReview",
        "addComment",
        "commentsDb",
        "editComment",
        "listComments",
        "removeComment",
        "listMainComments",
        "commentService",
        "Object",
        "freeze"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,gBAAgB,GAAG,+BAAqB;AAC5CC,EAAAA,cAAc,EAAE,YAAY,CAAE,CADc,CACb;;AADa,CAArB,CAAzB;AAGA,MAAMC,UAAU,GAAG,yBAAe;AAAEC,EAAAA,UAAU,EAAVA,mBAAF;AAAcH,EAAAA;AAAd,CAAf,CAAnB;;AACA,MAAMI,WAAW,GAAG,0BAAgB;AAAED,EAAAA,UAAU,EAAVA,mBAAF;AAAcH,EAAAA;AAAd,CAAhB,CAApB;;AACA,MAAMK,YAAY,GAAG,2BAAiB;AAAEF,EAAAA,UAAU,EAAVA;AAAF,CAAjB,CAArB;;AACA,MAAMG,aAAa,GAAG,4BAAkB;AAAEH,EAAAA,UAAU,EAAVA;AAAF,CAAlB,CAAtB;;AACA,MAAMI,gBAAgB,GAAG,+BAAqB;AAAEJ,EAAAA,UAAU,EAAVA;AAAF,CAArB,CAAzB;;AAEA,MAAMK,cAAc,GAAGC,MAAM,CAACC,MAAP,CAAc;AACnCR,EAAAA,UADmC;AAEnCE,EAAAA,WAFmC;AAGnCJ,EAAAA,gBAHmC;AAInCK,EAAAA,YAJmC;AAKnCC,EAAAA,aALmC;AAMnCC,EAAAA;AANmC,CAAd,CAAvB;eASeC,c",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "import makeAddComment from './add-comment'\r\nimport makeEditComment from './edit-comment'\r\nimport makeRemoveComment from './remove-comment'\r\nimport makeListComments from './list-comments'\r\nimport makeHandleModeration from './handle-moderation'\r\nimport makeListMainComments from './list-main-comments'\r\nimport commentsDb from '../data-access'\r\n\r\nconst handleModeration = makeHandleModeration({\r\n  initiateReview: async () => {} // TODO: Make real initiate review function.\r\n})\r\nconst addComment = makeAddComment({ commentsDb, handleModeration })\r\nconst editComment = makeEditComment({ commentsDb, handleModeration })\r\nconst listComments = makeListComments({ commentsDb })\r\nconst removeComment = makeRemoveComment({ commentsDb })\r\nconst listMainComments = makeListMainComments({ commentsDb })\r\n\r\nconst commentService = Object.freeze({\r\n  addComment,\r\n  editComment,\r\n  handleModeration,\r\n  listComments,\r\n  removeComment,\r\n  listMainComments\r\n})\r\n\r\nexport default commentService\r\nexport { addComment, editComment, listComments, removeComment, listMainComments }\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625160149614
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\add-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\add-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\add-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\add-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "add-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeAddComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeAddComment({\n  commentsDb,\n  handleModeration\n}) {\n  return async function addComment(commentInfo) {\n    const comment = (0, _comment.default)(commentInfo);\n    const exists = await commentsDb.findByHash({\n      hash: comment.getHash()\n    });\n\n    if (exists) {\n      return exists;\n    }\n\n    const moderated = await handleModeration({\n      comment\n    });\n    const commentSource = moderated.getSource();\n    return commentsDb.insert({\n      author: moderated.getAuthor(),\n      createdOn: moderated.getCreatedOn(),\n      hash: moderated.getHash(),\n      id: moderated.getId(),\n      modifiedOn: moderated.getModifiedOn(),\n      postId: moderated.getPostId(),\n      published: moderated.isPublished(),\n      replyToId: moderated.getReplyToId(),\n      source: {\n        ip: commentSource.getIp(),\n        browser: commentSource.getBrowser(),\n        referrer: commentSource.getReferrer()\n      },\n      text: moderated.getText()\n    });\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1jb21tZW50LmpzIl0sIm5hbWVzIjpbIm1ha2VBZGRDb21tZW50IiwiY29tbWVudHNEYiIsImhhbmRsZU1vZGVyYXRpb24iLCJhZGRDb21tZW50IiwiY29tbWVudEluZm8iLCJjb21tZW50IiwiZXhpc3RzIiwiZmluZEJ5SGFzaCIsImhhc2giLCJnZXRIYXNoIiwibW9kZXJhdGVkIiwiY29tbWVudFNvdXJjZSIsImdldFNvdXJjZSIsImluc2VydCIsImF1dGhvciIsImdldEF1dGhvciIsImNyZWF0ZWRPbiIsImdldENyZWF0ZWRPbiIsImlkIiwiZ2V0SWQiLCJtb2RpZmllZE9uIiwiZ2V0TW9kaWZpZWRPbiIsInBvc3RJZCIsImdldFBvc3RJZCIsInB1Ymxpc2hlZCIsImlzUHVibGlzaGVkIiwicmVwbHlUb0lkIiwiZ2V0UmVwbHlUb0lkIiwic291cmNlIiwiaXAiLCJnZXRJcCIsImJyb3dzZXIiLCJnZXRCcm93c2VyIiwicmVmZXJyZXIiLCJnZXRSZWZlcnJlciIsInRleHQiLCJnZXRUZXh0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFDZSxTQUFTQSxjQUFULENBQXlCO0FBQUVDLEVBQUFBLFVBQUY7QUFBY0MsRUFBQUE7QUFBZCxDQUF6QixFQUEyRDtBQUN4RSxTQUFPLGVBQWVDLFVBQWYsQ0FBMkJDLFdBQTNCLEVBQXdDO0FBQzdDLFVBQU1DLE9BQU8sR0FBRyxzQkFBWUQsV0FBWixDQUFoQjtBQUNBLFVBQU1FLE1BQU0sR0FBRyxNQUFNTCxVQUFVLENBQUNNLFVBQVgsQ0FBc0I7QUFBRUMsTUFBQUEsSUFBSSxFQUFFSCxPQUFPLENBQUNJLE9BQVI7QUFBUixLQUF0QixDQUFyQjs7QUFDQSxRQUFJSCxNQUFKLEVBQVk7QUFDVixhQUFPQSxNQUFQO0FBQ0Q7O0FBRUQsVUFBTUksU0FBUyxHQUFHLE1BQU1SLGdCQUFnQixDQUFDO0FBQUVHLE1BQUFBO0FBQUYsS0FBRCxDQUF4QztBQUNBLFVBQU1NLGFBQWEsR0FBR0QsU0FBUyxDQUFDRSxTQUFWLEVBQXRCO0FBQ0EsV0FBT1gsVUFBVSxDQUFDWSxNQUFYLENBQWtCO0FBQ3ZCQyxNQUFBQSxNQUFNLEVBQUVKLFNBQVMsQ0FBQ0ssU0FBVixFQURlO0FBRXZCQyxNQUFBQSxTQUFTLEVBQUVOLFNBQVMsQ0FBQ08sWUFBVixFQUZZO0FBR3ZCVCxNQUFBQSxJQUFJLEVBQUVFLFNBQVMsQ0FBQ0QsT0FBVixFQUhpQjtBQUl2QlMsTUFBQUEsRUFBRSxFQUFFUixTQUFTLENBQUNTLEtBQVYsRUFKbUI7QUFLdkJDLE1BQUFBLFVBQVUsRUFBRVYsU0FBUyxDQUFDVyxhQUFWLEVBTFc7QUFNdkJDLE1BQUFBLE1BQU0sRUFBRVosU0FBUyxDQUFDYSxTQUFWLEVBTmU7QUFPdkJDLE1BQUFBLFNBQVMsRUFBRWQsU0FBUyxDQUFDZSxXQUFWLEVBUFk7QUFRdkJDLE1BQUFBLFNBQVMsRUFBRWhCLFNBQVMsQ0FBQ2lCLFlBQVYsRUFSWTtBQVN2QkMsTUFBQUEsTUFBTSxFQUFFO0FBQ05DLFFBQUFBLEVBQUUsRUFBRWxCLGFBQWEsQ0FBQ21CLEtBQWQsRUFERTtBQUVOQyxRQUFBQSxPQUFPLEVBQUVwQixhQUFhLENBQUNxQixVQUFkLEVBRkg7QUFHTkMsUUFBQUEsUUFBUSxFQUFFdEIsYUFBYSxDQUFDdUIsV0FBZDtBQUhKLE9BVGU7QUFjdkJDLE1BQUFBLElBQUksRUFBRXpCLFNBQVMsQ0FBQzBCLE9BQVY7QUFkaUIsS0FBbEIsQ0FBUDtBQWdCRCxHQXpCRDtBQTBCRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcdXNlLWNhc2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1ha2VDb21tZW50IGZyb20gJy4uL2NvbW1lbnQnXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VBZGRDb21tZW50ICh7IGNvbW1lbnRzRGIsIGhhbmRsZU1vZGVyYXRpb24gfSkge1xyXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBhZGRDb21tZW50IChjb21tZW50SW5mbykge1xyXG4gICAgY29uc3QgY29tbWVudCA9IG1ha2VDb21tZW50KGNvbW1lbnRJbmZvKVxyXG4gICAgY29uc3QgZXhpc3RzID0gYXdhaXQgY29tbWVudHNEYi5maW5kQnlIYXNoKHsgaGFzaDogY29tbWVudC5nZXRIYXNoKCkgfSlcclxuICAgIGlmIChleGlzdHMpIHtcclxuICAgICAgcmV0dXJuIGV4aXN0c1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1vZGVyYXRlZCA9IGF3YWl0IGhhbmRsZU1vZGVyYXRpb24oeyBjb21tZW50IH0pXHJcbiAgICBjb25zdCBjb21tZW50U291cmNlID0gbW9kZXJhdGVkLmdldFNvdXJjZSgpXHJcbiAgICByZXR1cm4gY29tbWVudHNEYi5pbnNlcnQoe1xyXG4gICAgICBhdXRob3I6IG1vZGVyYXRlZC5nZXRBdXRob3IoKSxcclxuICAgICAgY3JlYXRlZE9uOiBtb2RlcmF0ZWQuZ2V0Q3JlYXRlZE9uKCksXHJcbiAgICAgIGhhc2g6IG1vZGVyYXRlZC5nZXRIYXNoKCksXHJcbiAgICAgIGlkOiBtb2RlcmF0ZWQuZ2V0SWQoKSxcclxuICAgICAgbW9kaWZpZWRPbjogbW9kZXJhdGVkLmdldE1vZGlmaWVkT24oKSxcclxuICAgICAgcG9zdElkOiBtb2RlcmF0ZWQuZ2V0UG9zdElkKCksXHJcbiAgICAgIHB1Ymxpc2hlZDogbW9kZXJhdGVkLmlzUHVibGlzaGVkKCksXHJcbiAgICAgIHJlcGx5VG9JZDogbW9kZXJhdGVkLmdldFJlcGx5VG9JZCgpLFxyXG4gICAgICBzb3VyY2U6IHtcclxuICAgICAgICBpcDogY29tbWVudFNvdXJjZS5nZXRJcCgpLFxyXG4gICAgICAgIGJyb3dzZXI6IGNvbW1lbnRTb3VyY2UuZ2V0QnJvd3NlcigpLFxyXG4gICAgICAgIHJlZmVycmVyOiBjb21tZW50U291cmNlLmdldFJlZmVycmVyKClcclxuICAgICAgfSxcclxuICAgICAgdGV4dDogbW9kZXJhdGVkLmdldFRleHQoKVxyXG4gICAgfSlcclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "add-comment.js"
      ],
      "names": [
        "makeAddComment",
        "commentsDb",
        "handleModeration",
        "addComment",
        "commentInfo",
        "comment",
        "exists",
        "findByHash",
        "hash",
        "getHash",
        "moderated",
        "commentSource",
        "getSource",
        "insert",
        "author",
        "getAuthor",
        "createdOn",
        "getCreatedOn",
        "id",
        "getId",
        "modifiedOn",
        "getModifiedOn",
        "postId",
        "getPostId",
        "published",
        "isPublished",
        "replyToId",
        "getReplyToId",
        "source",
        "ip",
        "getIp",
        "browser",
        "getBrowser",
        "referrer",
        "getReferrer",
        "text",
        "getText"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACe,SAASA,cAAT,CAAyB;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAAzB,EAA2D;AACxE,SAAO,eAAeC,UAAf,CAA2BC,WAA3B,EAAwC;AAC7C,UAAMC,OAAO,GAAG,sBAAYD,WAAZ,CAAhB;AACA,UAAME,MAAM,GAAG,MAAML,UAAU,CAACM,UAAX,CAAsB;AAAEC,MAAAA,IAAI,EAAEH,OAAO,CAACI,OAAR;AAAR,KAAtB,CAArB;;AACA,QAAIH,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;;AAED,UAAMI,SAAS,GAAG,MAAMR,gBAAgB,CAAC;AAAEG,MAAAA;AAAF,KAAD,CAAxC;AACA,UAAMM,aAAa,GAAGD,SAAS,CAACE,SAAV,EAAtB;AACA,WAAOX,UAAU,CAACY,MAAX,CAAkB;AACvBC,MAAAA,MAAM,EAAEJ,SAAS,CAACK,SAAV,EADe;AAEvBC,MAAAA,SAAS,EAAEN,SAAS,CAACO,YAAV,EAFY;AAGvBT,MAAAA,IAAI,EAAEE,SAAS,CAACD,OAAV,EAHiB;AAIvBS,MAAAA,EAAE,EAAER,SAAS,CAACS,KAAV,EAJmB;AAKvBC,MAAAA,UAAU,EAAEV,SAAS,CAACW,aAAV,EALW;AAMvBC,MAAAA,MAAM,EAAEZ,SAAS,CAACa,SAAV,EANe;AAOvBC,MAAAA,SAAS,EAAEd,SAAS,CAACe,WAAV,EAPY;AAQvBC,MAAAA,SAAS,EAAEhB,SAAS,CAACiB,YAAV,EARY;AASvBC,MAAAA,MAAM,EAAE;AACNC,QAAAA,EAAE,EAAElB,aAAa,CAACmB,KAAd,EADE;AAENC,QAAAA,OAAO,EAAEpB,aAAa,CAACqB,UAAd,EAFH;AAGNC,QAAAA,QAAQ,EAAEtB,aAAa,CAACuB,WAAd;AAHJ,OATe;AAcvBC,MAAAA,IAAI,EAAEzB,SAAS,CAAC0B,OAAV;AAdiB,KAAlB,CAAP;AAgBD,GAzBD;AA0BD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\nexport default function makeAddComment ({ commentsDb, handleModeration }) {\r\n  return async function addComment (commentInfo) {\r\n    const comment = makeComment(commentInfo)\r\n    const exists = await commentsDb.findByHash({ hash: comment.getHash() })\r\n    if (exists) {\r\n      return exists\r\n    }\r\n\r\n    const moderated = await handleModeration({ comment })\r\n    const commentSource = moderated.getSource()\r\n    return commentsDb.insert({\r\n      author: moderated.getAuthor(),\r\n      createdOn: moderated.getCreatedOn(),\r\n      hash: moderated.getHash(),\r\n      id: moderated.getId(),\r\n      modifiedOn: moderated.getModifiedOn(),\r\n      postId: moderated.getPostId(),\r\n      published: moderated.isPublished(),\r\n      replyToId: moderated.getReplyToId(),\r\n      source: {\r\n        ip: commentSource.getIp(),\r\n        browser: commentSource.getBrowser(),\r\n        referrer: commentSource.getReferrer()\r\n      },\r\n      text: moderated.getText()\r\n    })\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671601
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nvar _Id = _interopRequireDefault(require(\"../Id\"));\n\nvar _ipRegex = _interopRequireDefault(require(\"ip-regex\"));\n\nvar _sanitizeHtml = _interopRequireDefault(require(\"sanitize-html\"));\n\nvar _comment = _interopRequireDefault(require(\"./comment\"));\n\nvar _source = _interopRequireDefault(require(\"./source\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst makeSource = (0, _source.default)({\n  isValidIp\n});\nconst makeComment = (0, _comment.default)({\n  Id: _Id.default,\n  md5,\n  sanitize,\n  makeSource\n});\nvar _default = makeComment;\nexports.default = _default;\n\nfunction isValidIp(ip) {\n  return (0, _ipRegex.default)({\n    exact: true\n  }).test(ip);\n}\n\nfunction md5(text) {\n  return _crypto.default.createHash('md5').update(text, 'utf-8').digest('hex');\n}\n\nfunction sanitize(text) {\n  // TODO: allow more coding embeds\n  return (0, _sanitizeHtml.default)(text, {\n    allowedIframeHostnames: ['codesandbox.io', 'repl.it']\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1ha2VTb3VyY2UiLCJpc1ZhbGlkSXAiLCJtYWtlQ29tbWVudCIsIklkIiwibWQ1Iiwic2FuaXRpemUiLCJpcCIsImV4YWN0IiwidGVzdCIsInRleHQiLCJjcnlwdG8iLCJjcmVhdGVIYXNoIiwidXBkYXRlIiwiZGlnZXN0IiwiYWxsb3dlZElmcmFtZUhvc3RuYW1lcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLHFCQUFnQjtBQUFFQyxFQUFBQTtBQUFGLENBQWhCLENBQW5CO0FBQ0EsTUFBTUMsV0FBVyxHQUFHLHNCQUFpQjtBQUFFQyxFQUFBQSxFQUFFLEVBQUZBLFdBQUY7QUFBTUMsRUFBQUEsR0FBTjtBQUFXQyxFQUFBQSxRQUFYO0FBQXFCTCxFQUFBQTtBQUFyQixDQUFqQixDQUFwQjtlQUVlRSxXOzs7QUFFZixTQUFTRCxTQUFULENBQW9CSyxFQUFwQixFQUF3QjtBQUN0QixTQUFPLHNCQUFRO0FBQUVDLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQVIsRUFBeUJDLElBQXpCLENBQThCRixFQUE5QixDQUFQO0FBQ0Q7O0FBRUQsU0FBU0YsR0FBVCxDQUFjSyxJQUFkLEVBQW9CO0FBQ2xCLFNBQU9DLGdCQUNKQyxVQURJLENBQ08sS0FEUCxFQUVKQyxNQUZJLENBRUdILElBRkgsRUFFUyxPQUZULEVBR0pJLE1BSEksQ0FHRyxLQUhILENBQVA7QUFJRDs7QUFFRCxTQUFTUixRQUFULENBQW1CSSxJQUFuQixFQUF5QjtBQUN2QjtBQUNBLFNBQU8sMkJBQWFBLElBQWIsRUFBbUI7QUFDeEJLLElBQUFBLHNCQUFzQixFQUFFLENBQUMsZ0JBQUQsRUFBbUIsU0FBbkI7QUFEQSxHQUFuQixDQUFQO0FBR0QiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGNvbW1lbnQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0bydcclxuaW1wb3J0IElkIGZyb20gJy4uL0lkJ1xyXG5pbXBvcnQgaXBSZWdleCBmcm9tICdpcC1yZWdleCdcclxuaW1wb3J0IHNhbml0aXplSHRtbCBmcm9tICdzYW5pdGl6ZS1odG1sJ1xyXG5pbXBvcnQgYnVpbGRNYWtlQ29tbWVudCBmcm9tICcuL2NvbW1lbnQnXHJcbmltcG9ydCBidWlsZE1ha2VTb3VyY2UgZnJvbSAnLi9zb3VyY2UnXHJcblxyXG5jb25zdCBtYWtlU291cmNlID0gYnVpbGRNYWtlU291cmNlKHsgaXNWYWxpZElwIH0pXHJcbmNvbnN0IG1ha2VDb21tZW50ID0gYnVpbGRNYWtlQ29tbWVudCh7IElkLCBtZDUsIHNhbml0aXplLCBtYWtlU291cmNlIH0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBtYWtlQ29tbWVudFxyXG5cclxuZnVuY3Rpb24gaXNWYWxpZElwIChpcCkge1xyXG4gIHJldHVybiBpcFJlZ2V4KHsgZXhhY3Q6IHRydWUgfSkudGVzdChpcClcclxufVxyXG5cclxuZnVuY3Rpb24gbWQ1ICh0ZXh0KSB7XHJcbiAgcmV0dXJuIGNyeXB0b1xyXG4gICAgLmNyZWF0ZUhhc2goJ21kNScpXHJcbiAgICAudXBkYXRlKHRleHQsICd1dGYtOCcpXHJcbiAgICAuZGlnZXN0KCdoZXgnKVxyXG59XHJcblxyXG5mdW5jdGlvbiBzYW5pdGl6ZSAodGV4dCkge1xyXG4gIC8vIFRPRE86IGFsbG93IG1vcmUgY29kaW5nIGVtYmVkc1xyXG4gIHJldHVybiBzYW5pdGl6ZUh0bWwodGV4dCwge1xyXG4gICAgYWxsb3dlZElmcmFtZUhvc3RuYW1lczogWydjb2Rlc2FuZGJveC5pbycsICdyZXBsLml0J11cclxuICB9KVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "makeSource",
        "isValidIp",
        "makeComment",
        "Id",
        "md5",
        "sanitize",
        "ip",
        "exact",
        "test",
        "text",
        "crypto",
        "createHash",
        "update",
        "digest",
        "allowedIframeHostnames"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,qBAAgB;AAAEC,EAAAA;AAAF,CAAhB,CAAnB;AACA,MAAMC,WAAW,GAAG,sBAAiB;AAAEC,EAAAA,EAAE,EAAFA,WAAF;AAAMC,EAAAA,GAAN;AAAWC,EAAAA,QAAX;AAAqBL,EAAAA;AAArB,CAAjB,CAApB;eAEeE,W;;;AAEf,SAASD,SAAT,CAAoBK,EAApB,EAAwB;AACtB,SAAO,sBAAQ;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAR,EAAyBC,IAAzB,CAA8BF,EAA9B,CAAP;AACD;;AAED,SAASF,GAAT,CAAcK,IAAd,EAAoB;AAClB,SAAOC,gBACJC,UADI,CACO,KADP,EAEJC,MAFI,CAEGH,IAFH,EAES,OAFT,EAGJI,MAHI,CAGG,KAHH,CAAP;AAID;;AAED,SAASR,QAAT,CAAmBI,IAAnB,EAAyB;AACvB;AACA,SAAO,2BAAaA,IAAb,EAAmB;AACxBK,IAAAA,sBAAsB,EAAE,CAAC,gBAAD,EAAmB,SAAnB;AADA,GAAnB,CAAP;AAGD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "sourcesContent": [
        "import crypto from 'crypto'\r\nimport Id from '../Id'\r\nimport ipRegex from 'ip-regex'\r\nimport sanitizeHtml from 'sanitize-html'\r\nimport buildMakeComment from './comment'\r\nimport buildMakeSource from './source'\r\n\r\nconst makeSource = buildMakeSource({ isValidIp })\r\nconst makeComment = buildMakeComment({ Id, md5, sanitize, makeSource })\r\n\r\nexport default makeComment\r\n\r\nfunction isValidIp (ip) {\r\n  return ipRegex({ exact: true }).test(ip)\r\n}\r\n\r\nfunction md5 (text) {\r\n  return crypto\r\n    .createHash('md5')\r\n    .update(text, 'utf-8')\r\n    .digest('hex')\r\n}\r\n\r\nfunction sanitize (text) {\r\n  // TODO: allow more coding embeds\r\n  return sanitizeHtml(text, {\r\n    allowedIframeHostnames: ['codesandbox.io', 'repl.it']\r\n  })\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671594
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\Id\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\Id\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\Id",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\Id\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\Id\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\Id\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\Id",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _cuid = _interopRequireDefault(require(\"cuid\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Id = Object.freeze({\n  makeId: _cuid.default,\n  isValidId: _cuid.default.isCuid\n});\nvar _default = Id;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIklkIiwiT2JqZWN0IiwiZnJlZXplIiwibWFrZUlkIiwiY3VpZCIsImlzVmFsaWRJZCIsImlzQ3VpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsRUFBRSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUN2QkMsRUFBQUEsTUFBTSxFQUFFQyxhQURlO0FBRXZCQyxFQUFBQSxTQUFTLEVBQUVELGNBQUtFO0FBRk8sQ0FBZCxDQUFYO2VBS2VOLEUiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXElkIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGN1aWQgZnJvbSAnY3VpZCdcclxuXHJcbmNvbnN0IElkID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgbWFrZUlkOiBjdWlkLFxyXG4gIGlzVmFsaWRJZDogY3VpZC5pc0N1aWRcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IElkXHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "Id",
        "Object",
        "freeze",
        "makeId",
        "cuid",
        "isValidId",
        "isCuid"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,EAAE,GAAGC,MAAM,CAACC,MAAP,CAAc;AACvBC,EAAAA,MAAM,EAAEC,aADe;AAEvBC,EAAAA,SAAS,EAAED,cAAKE;AAFO,CAAd,CAAX;eAKeN,E",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\Id",
      "sourcesContent": [
        "import cuid from 'cuid'\r\n\r\nconst Id = Object.freeze({\r\n  makeId: cuid,\r\n  isValidId: cuid.isCuid\r\n})\r\n\r\nexport default Id\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671592
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\\\\comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
        "sourceFileName": "comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildMakeComment;\n\nfunction buildMakeComment({\n  Id,\n  md5,\n  sanitize,\n  makeSource\n}) {\n  return function makeComment({\n    author,\n    createdOn = Date.now(),\n    id = Id.makeId(),\n    source,\n    modifiedOn = Date.now(),\n    postId,\n    published = false,\n    replyToId,\n    text\n  } = {}) {\n    if (!Id.isValidId(id)) {\n      throw new Error('El comentario deben tener un id valido.');\n    }\n\n    if (!author) {\n      throw new Error('El comentario deben tener un autor.');\n    }\n\n    if (author.length < 2) {\n      throw new Error(\"El nombre del autor debe  tener minomo 2 caracteres.\");\n    }\n\n    if (!postId) {\n      throw new Error('El comentario debe tener un postId.');\n    }\n\n    if (!text || text.length < 1) {\n      throw new Error('El comentario debe incluir al menos un carcter de texto.');\n    }\n\n    if (!source) {\n      throw new Error('El comentario debe tener un origen.');\n    }\n\n    if (replyToId && !Id.isValidId(replyToId)) {\n      throw new Error('Si se suministra. El comentario debe contener un replyToId vlido.');\n    }\n\n    let sanitizedText = sanitize(text).trim();\n\n    if (sanitizedText.length < 1) {\n      throw new Error('El comentario no contiene texto utilizable.');\n    }\n\n    const validSource = makeSource(source);\n    const deletedText = '.xX Este comentario ha sido eliminado Xx.';\n    let hash;\n    return Object.freeze({\n      getAuthor: () => author,\n      getCreatedOn: () => createdOn,\n      getHash: () => hash || (hash = makeHash()),\n      getId: () => id,\n      getModifiedOn: () => modifiedOn,\n      getPostId: () => postId,\n      getReplyToId: () => replyToId,\n      getSource: () => validSource,\n      getText: () => sanitizedText,\n      isDeleted: () => sanitizedText === deletedText,\n      isPublished: () => published,\n      markDeleted: () => {\n        sanitizedText = deletedText;\n        author = 'borrado';\n      },\n      publish: () => {\n        published = true;\n      },\n      unPublish: () => {\n        published = false;\n      }\n    });\n\n    function makeHash() {\n      return md5(sanitizedText + published + (author || '') + (postId || '') + (replyToId || ''));\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnQuanMiXSwibmFtZXMiOlsiYnVpbGRNYWtlQ29tbWVudCIsIklkIiwibWQ1Iiwic2FuaXRpemUiLCJtYWtlU291cmNlIiwibWFrZUNvbW1lbnQiLCJhdXRob3IiLCJjcmVhdGVkT24iLCJEYXRlIiwibm93IiwiaWQiLCJtYWtlSWQiLCJzb3VyY2UiLCJtb2RpZmllZE9uIiwicG9zdElkIiwicHVibGlzaGVkIiwicmVwbHlUb0lkIiwidGV4dCIsImlzVmFsaWRJZCIsIkVycm9yIiwibGVuZ3RoIiwic2FuaXRpemVkVGV4dCIsInRyaW0iLCJ2YWxpZFNvdXJjZSIsImRlbGV0ZWRUZXh0IiwiaGFzaCIsIk9iamVjdCIsImZyZWV6ZSIsImdldEF1dGhvciIsImdldENyZWF0ZWRPbiIsImdldEhhc2giLCJtYWtlSGFzaCIsImdldElkIiwiZ2V0TW9kaWZpZWRPbiIsImdldFBvc3RJZCIsImdldFJlcGx5VG9JZCIsImdldFNvdXJjZSIsImdldFRleHQiLCJpc0RlbGV0ZWQiLCJpc1B1Ymxpc2hlZCIsIm1hcmtEZWxldGVkIiwicHVibGlzaCIsInVuUHVibGlzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGdCQUFULENBQTJCO0FBQUVDLEVBQUFBLEVBQUY7QUFBTUMsRUFBQUEsR0FBTjtBQUFXQyxFQUFBQSxRQUFYO0FBQXFCQyxFQUFBQTtBQUFyQixDQUEzQixFQUE4RDtBQUMzRSxTQUFPLFNBQVNDLFdBQVQsQ0FBc0I7QUFDM0JDLElBQUFBLE1BRDJCO0FBRTNCQyxJQUFBQSxTQUFTLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxFQUZlO0FBRzNCQyxJQUFBQSxFQUFFLEdBQUdULEVBQUUsQ0FBQ1UsTUFBSCxFQUhzQjtBQUkzQkMsSUFBQUEsTUFKMkI7QUFLM0JDLElBQUFBLFVBQVUsR0FBR0wsSUFBSSxDQUFDQyxHQUFMLEVBTGM7QUFNM0JLLElBQUFBLE1BTjJCO0FBTzNCQyxJQUFBQSxTQUFTLEdBQUcsS0FQZTtBQVEzQkMsSUFBQUEs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b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGNvbW1lbnQiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZE1ha2VDb21tZW50ICh7IElkLCBtZDUsIHNhbml0aXplLCBtYWtlU291cmNlIH0pIHtcclxuICByZXR1cm4gZnVuY3Rpb24gbWFrZUNvbW1lbnQgKHtcclxuICAgIGF1dGhvcixcclxuICAgIGNyZWF0ZWRPbiA9IERhdGUubm93KCksXHJcbiAgICBpZCA9IElkLm1ha2VJZCgpLFxyXG4gICAgc291cmNlLFxyXG4gICAgbW9kaWZpZWRPbiA9IERhdGUubm93KCksXHJcbiAgICBwb3N0SWQsXHJcbiAgICBwdWJsaXNoZWQgPSBmYWxzZSxcclxuICAgIHJlcGx5VG9JZCxcclxuICAgIHRleHRcclxuICB9ID0ge30pIHtcclxuICAgIGlmICghSWQuaXNWYWxpZElkKGlkKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIGNvbWVudGFyaW8gZGViZW4gdGVuZXIgdW4gaWQgdmFsaWRvLicpXHJcbiAgICB9XHJcbiAgICBpZiAoIWF1dGhvcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIGNvbWVudGFyaW8gZGViZW4gdGVuZXIgdW4gYXV0b3IuJylcclxuICAgIH1cclxuICAgIGlmIChhdXRob3IubGVuZ3RoIDwgMikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbCBub21icmUgZGVsIGF1dG9yIGRlYmUgIHRlbmVyIG1pbm9tbyAyIGNhcmFjdGVyZXMuXCIpXHJcbiAgICB9XHJcbiAgICBpZiAoIXBvc3RJZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIGNvbWVudGFyaW8gZGViZSB0ZW5lciB1biBwb3N0SWQuJylcclxuICAgIH1cclxuICAgIGlmICghdGV4dCB8fCB0ZXh0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbCBjb21lbnRhcmlvIGRlYmUgaW5jbHVpciBhbCBtZW5vcyB1biBjYXLDoWN0ZXIgZGUgdGV4dG8uJylcclxuICAgIH1cclxuICAgIGlmICghc291cmNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgY29tZW50YXJpbyBkZWJlIHRlbmVyIHVuIG9yaWdlbi4nKVxyXG4gICAgfVxyXG4gICAgaWYgKHJlcGx5VG9JZCAmJiAhSWQuaXNWYWxpZElkKHJlcGx5VG9JZCkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaSBzZSBzdW1pbmlzdHJhLiBFbCBjb21lbnRhcmlvIGRlYmUgY29udGVuZXIgdW4gcmVwbHlUb0lkIHbDoWxpZG8uJylcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc2FuaXRpemVkVGV4dCA9IHNhbml0aXplKHRleHQpLnRyaW0oKVxyXG4gICAgaWYgKHNhbml0aXplZFRleHQubGVuZ3RoIDwgMSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIGNvbWVudGFyaW8gbm8gY29udGllbmUgdGV4dG8gdXRpbGl6YWJsZS4nKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHZhbGlkU291cmNlID0gbWFrZVNvdXJjZShzb3VyY2UpXHJcbiAgICBjb25zdCBkZWxldGVkVGV4dCA9ICcueFggRXN0ZSBjb21lbnRhcmlvIGhhIHNpZG8gZWxpbWluYWRvIFh4LidcclxuICAgIGxldCBoYXNoXHJcblxyXG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xyXG4gICAgICBnZXRBdXRob3I6ICgpID0+IGF1dGhvcixcclxuICAgICAgZ2V0Q3JlYXRlZE9uOiAoKSA9PiBjcmVhdGVkT24sXHJcbiAgICAgIGdldEhhc2g6ICgpID0+IGhhc2ggfHwgKGhhc2ggPSBtYWtlSGFzaCgpKSxcclxuICAgICAgZ2V0SWQ6ICgpID0+IGlkLFxyXG4gICAgICBnZXRNb2RpZmllZE9uOiAoKSA9PiBtb2RpZmllZE9uLFxyXG4gICAgICBnZXRQb3N0SWQ6ICgpID0+IHBvc3RJZCxcclxuICAgICAgZ2V0UmVwbHlUb0lkOiAoKSA9PiByZXBseVRvSWQsXHJcbiAgICAgIGdldFNvdXJjZTogKCkgPT4gdmFsaWRTb3VyY2UsXHJcbiAgICAgIGdldFRleHQ6ICgpID0+IHNhbml0aXplZFRleHQsXHJcbiAgICAgIGlzRGVsZXRlZDogKCkgPT4gc2FuaXRpemVkVGV4dCA9PT0gZGVsZXRlZFRleHQsXHJcbiAgICAgIGlzUHVibGlzaGVkOiAoKSA9PiBwdWJsaXNoZWQsXHJcbiAgICAgIG1hcmtEZWxldGVkOiAoKSA9PiB7XHJcbiAgICAgICAgc2FuaXRpemVkVGV4dCA9IGRlbGV0ZWRUZXh0XHJcbiAgICAgICAgYXV0aG9yID0gJ2JvcnJhZG8nXHJcbiAgICAgIH0sXHJcbiAgICAgIHB1Ymxpc2g6ICgpID0+IHtcclxuICAgICAgICBwdWJsaXNoZWQgPSB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgIHVuUHVibGlzaDogKCkgPT4ge1xyXG4gICAgICAgIHB1Ymxpc2hlZCA9IGZhbHNlXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgZnVuY3Rpb24gbWFrZUhhc2ggKCkge1xyXG4gICAgICByZXR1cm4gbWQ1KFxyXG4gICAgICAgIHNhbml0aXplZFRleHQgK1xyXG4gICAgICAgICAgcHVibGlzaGVkICtcclxuICAgICAgICAgIChhdXRob3IgfHwgJycpICtcclxuICAgICAgICAgIChwb3N0SWQgfHwgJycpICtcclxuICAgICAgICAgIChyZXBseVRvSWQgfHwgJycpXHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "comment.js"
      ],
      "names": [
        "buildMakeComment",
        "Id",
        "md5",
        "sanitize",
        "makeSource",
        "makeComment",
        "author",
        "createdOn",
        "Date",
        "now",
        "id",
        "makeId",
        "source",
        "modifiedOn",
        "postId",
        "published",
        "replyToId",
        "text",
        "isValidId",
        "Error",
        "length",
        "sanitizedText",
        "trim",
        "validSource",
        "deletedText",
        "hash",
        "Object",
        "freeze",
        "getAuthor",
        "getCreatedOn",
        "getHash",
        "makeHash",
        "getId",
        "getModifiedOn",
        "getPostId",
        "getReplyToId",
        "getSource",
        "getText",
        "isDeleted",
        "isPublished",
        "markDeleted",
        "publish",
        "unPublish"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "sourcesContent": [
        "export default function buildMakeComment ({ Id, md5, sanitize, makeSource }) {\r\n  return function makeComment ({\r\n    author,\r\n    createdOn = Date.now(),\r\n    id = Id.makeId(),\r\n    source,\r\n    modifiedOn = Date.now(),\r\n    postId,\r\n    published = false,\r\n    replyToId,\r\n    text\r\n  } = {}) {\r\n    if (!Id.isValidId(id)) {\r\n      throw new Error('El comentario deben tener un id valido.')\r\n    }\r\n    if (!author) {\r\n      throw new Error('El comentario deben tener un autor.')\r\n    }\r\n    if (author.length < 2) {\r\n      throw new Error(\"El nombre del autor debe  tener minomo 2 caracteres.\")\r\n    }\r\n    if (!postId) {\r\n      throw new Error('El comentario debe tener un postId.')\r\n    }\r\n    if (!text || text.length < 1) {\r\n      throw new Error('El comentario debe incluir al menos un carcter de texto.')\r\n    }\r\n    if (!source) {\r\n      throw new Error('El comentario debe tener un origen.')\r\n    }\r\n    if (replyToId && !Id.isValidId(replyToId)) {\r\n      throw new Error('Si se suministra. El comentario debe contener un replyToId vlido.')\r\n    }\r\n\r\n    let sanitizedText = sanitize(text).trim()\r\n    if (sanitizedText.length < 1) {\r\n      throw new Error('El comentario no contiene texto utilizable.')\r\n    }\r\n\r\n    const validSource = makeSource(source)\r\n    const deletedText = '.xX Este comentario ha sido eliminado Xx.'\r\n    let hash\r\n\r\n    return Object.freeze({\r\n      getAuthor: () => author,\r\n      getCreatedOn: () => createdOn,\r\n      getHash: () => hash || (hash = makeHash()),\r\n      getId: () => id,\r\n      getModifiedOn: () => modifiedOn,\r\n      getPostId: () => postId,\r\n      getReplyToId: () => replyToId,\r\n      getSource: () => validSource,\r\n      getText: () => sanitizedText,\r\n      isDeleted: () => sanitizedText === deletedText,\r\n      isPublished: () => published,\r\n      markDeleted: () => {\r\n        sanitizedText = deletedText\r\n        author = 'borrado'\r\n      },\r\n      publish: () => {\r\n        published = true\r\n      },\r\n      unPublish: () => {\r\n        published = false\r\n      }\r\n    })\r\n\r\n    function makeHash () {\r\n      return md5(\r\n        sanitizedText +\r\n          published +\r\n          (author || '') +\r\n          (postId || '') +\r\n          (replyToId || '')\r\n      )\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625091836738
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\\\\source.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\source.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\source.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment\\source.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
        "sourceFileName": "source.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildMakeSource;\n\nfunction buildMakeSource({\n  isValidIp\n}) {\n  return function makeSource({\n    ip,\n    browser,\n    referrer\n  } = {}) {\n    if (!ip) {\n      throw new Error('El origen del comentario debe contener una IP.');\n    }\n\n    if (!isValidIp(ip)) {\n      throw new RangeError('El origen del comentario debe contener una IP valida.');\n    }\n\n    return Object.freeze({\n      getIp: () => ip,\n      getBrowser: () => browser,\n      getReferrer: () => referrer\n    });\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvdXJjZS5qcyJdLCJuYW1lcyI6WyJidWlsZE1ha2VTb3VyY2UiLCJpc1ZhbGlkSXAiLCJtYWtlU291cmNlIiwiaXAiLCJicm93c2VyIiwicmVmZXJyZXIiLCJFcnJvciIsIlJhbmdlRXJyb3IiLCJPYmplY3QiLCJmcmVlemUiLCJnZXRJcCIsImdldEJyb3dzZXIiLCJnZXRSZWZlcnJlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGVBQVQsQ0FBMEI7QUFBRUMsRUFBQUE7QUFBRixDQUExQixFQUF5QztBQUN0RCxTQUFPLFNBQVNDLFVBQVQsQ0FBcUI7QUFBRUMsSUFBQUEsRUFBRjtBQUFNQyxJQUFBQSxPQUFOO0FBQWVDLElBQUFBO0FBQWYsTUFBNEIsRUFBakQsRUFBcUQ7QUFDMUQsUUFBSSxDQUFDRixFQUFMLEVBQVM7QUFDUCxZQUFNLElBQUlHLEtBQUosQ0FBVSxnREFBVixDQUFOO0FBQ0Q7O0FBQ0QsUUFBSSxDQUFDTCxTQUFTLENBQUNFLEVBQUQsQ0FBZCxFQUFvQjtBQUNsQixZQUFNLElBQUlJLFVBQUosQ0FBZSx1REFBZixDQUFOO0FBQ0Q7O0FBQ0QsV0FBT0MsTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFDbkJDLE1BQUFBLEtBQUssRUFBRSxNQUFNUCxFQURNO0FBRW5CUSxNQUFBQSxVQUFVLEVBQUUsTUFBTVAsT0FGQztBQUduQlEsTUFBQUEsV0FBVyxFQUFFLE1BQU1QO0FBSEEsS0FBZCxDQUFQO0FBS0QsR0FaRDtBQWFEIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFxjb21tZW50Iiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYnVpbGRNYWtlU291cmNlICh7IGlzVmFsaWRJcCB9KSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uIG1ha2VTb3VyY2UgKHsgaXAsIGJyb3dzZXIsIHJlZmVycmVyIH0gPSB7fSkge1xyXG4gICAgaWYgKCFpcCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIG9yaWdlbiBkZWwgY29tZW50YXJpbyBkZWJlIGNvbnRlbmVyIHVuYSBJUC4nKVxyXG4gICAgfVxyXG4gICAgaWYgKCFpc1ZhbGlkSXAoaXApKSB7XHJcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdFbCBvcmlnZW4gZGVsIGNvbWVudGFyaW8gZGViZSBjb250ZW5lciB1bmEgSVAgdmFsaWRhLicpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgIGdldElwOiAoKSA9PiBpcCxcclxuICAgICAgZ2V0QnJvd3NlcjogKCkgPT4gYnJvd3NlcixcclxuICAgICAgZ2V0UmVmZXJyZXI6ICgpID0+IHJlZmVycmVyXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "source.js"
      ],
      "names": [
        "buildMakeSource",
        "isValidIp",
        "makeSource",
        "ip",
        "browser",
        "referrer",
        "Error",
        "RangeError",
        "Object",
        "freeze",
        "getIp",
        "getBrowser",
        "getReferrer"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,eAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAAyC;AACtD,SAAO,SAASC,UAAT,CAAqB;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,OAAN;AAAeC,IAAAA;AAAf,MAA4B,EAAjD,EAAqD;AAC1D,QAAI,CAACF,EAAL,EAAS;AACP,YAAM,IAAIG,KAAJ,CAAU,gDAAV,CAAN;AACD;;AACD,QAAI,CAACL,SAAS,CAACE,EAAD,CAAd,EAAoB;AAClB,YAAM,IAAII,UAAJ,CAAe,uDAAf,CAAN;AACD;;AACD,WAAOC,MAAM,CAACC,MAAP,CAAc;AACnBC,MAAAA,KAAK,EAAE,MAAMP,EADM;AAEnBQ,MAAAA,UAAU,EAAE,MAAMP,OAFC;AAGnBQ,MAAAA,WAAW,EAAE,MAAMP;AAHA,KAAd,CAAP;AAKD,GAZD;AAaD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "sourcesContent": [
        "export default function buildMakeSource ({ isValidIp }) {\r\n  return function makeSource ({ ip, browser, referrer } = {}) {\r\n    if (!ip) {\r\n      throw new Error('El origen del comentario debe contener una IP.')\r\n    }\r\n    if (!isValidIp(ip)) {\r\n      throw new RangeError('El origen del comentario debe contener una IP valida.')\r\n    }\r\n    return Object.freeze({\r\n      getIp: () => ip,\r\n      getBrowser: () => browser,\r\n      getReferrer: () => referrer\r\n    })\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625089161123
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\edit-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\edit-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\edit-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\edit-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "edit-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeEditComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeEditComment({\n  commentsDb,\n  handleModeration\n}) {\n  return async function editComment({\n    id,\n    ...changes\n  } = {}) {\n    if (!id) {\n      throw new Error('Debes suministrar un id.');\n    }\n\n    if (!changes.text) {\n      throw new Error('Debes suministrar un texto.');\n    }\n\n    const existing = await commentsDb.findById({\n      id\n    });\n\n    if (!existing) {\n      throw new RangeError('Comentario no encontrado.');\n    }\n\n    const comment = (0, _comment.default)({ ...existing,\n      ...changes,\n      modifiedOn: null\n    });\n\n    if (comment.getHash() === existing.hash) {\n      return existing;\n    }\n\n    const moderated = await handleModeration({\n      comment\n    });\n    const updated = await commentsDb.update({\n      id: moderated.getId(),\n      published: moderated.isPublished(),\n      modifiedOn: moderated.getModifiedOn(),\n      text: moderated.getText(),\n      hash: moderated.getHash()\n    });\n    return { ...existing,\n      ...updated\n    };\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXQtY29tbWVudC5qcyJdLCJuYW1lcyI6WyJtYWtlRWRpdENvbW1lbnQiLCJjb21tZW50c0RiIiwiaGFuZGxlTW9kZXJhdGlvbiIsImVkaXRDb21tZW50IiwiaWQiLCJjaGFuZ2VzIiwiRXJyb3IiLCJ0ZXh0IiwiZXhpc3RpbmciLCJmaW5kQnlJZCIsIlJhbmdlRXJyb3IiLCJjb21tZW50IiwibW9kaWZpZWRPbiIsImdldEhhc2giLCJoYXNoIiwibW9kZXJhdGVkIiwidXBkYXRlZCIsInVwZGF0ZSIsImdldElkIiwicHVibGlzaGVkIiwiaXNQdWJsaXNoZWQiLCJnZXRNb2RpZmllZE9uIiwiZ2V0VGV4dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ2UsU0FBU0EsZUFBVCxDQUEwQjtBQUFFQyxFQUFBQSxVQUFGO0FBQWNDLEVBQUFBO0FBQWQsQ0FBMUIsRUFBNEQ7QUFDekUsU0FBTyxlQUFlQyxXQUFmLENBQTRCO0FBQUVDLElBQUFBLEVBQUY7QUFBTSxPQUFHQztBQUFULE1BQXFCLEVBQWpELEVBQXFEO0FBQzFELFFBQUksQ0FBQ0QsRUFBTCxFQUFTO0FBQ1AsWUFBTSxJQUFJRSxLQUFKLENBQVUsMEJBQVYsQ0FBTjtBQUNEOztBQUNELFFBQUksQ0FBQ0QsT0FBTyxDQUFDRSxJQUFiLEVBQW1CO0FBQ2pCLFlBQU0sSUFBSUQsS0FBSixDQUFVLDZCQUFWLENBQU47QUFDRDs7QUFDRCxVQUFNRSxRQUFRLEdBQUcsTUFBTVAsVUFBVSxDQUFDUSxRQUFYLENBQW9CO0FBQUVMLE1BQUFBO0FBQUYsS0FBcEIsQ0FBdkI7O0FBRUEsUUFBSSxDQUFDSSxRQUFMLEVBQWU7QUFDYixZQUFNLElBQUlFLFVBQUosQ0FBZSwyQkFBZixDQUFOO0FBQ0Q7O0FBQ0QsVUFBTUMsT0FBTyxHQUFHLHNCQUFZLEVBQUUsR0FBR0gsUUFBTDtBQUFlLFNBQUdILE9BQWxCO0FBQTJCTyxNQUFBQSxVQUFVLEVBQUU7QUFBdkMsS0FBWixDQUFoQjs7QUFDQSxRQUFJRCxPQUFPLENBQUNFLE9BQVIsT0FBc0JMLFFBQVEsQ0FBQ00sSUFBbkMsRUFBeUM7QUFDdkMsYUFBT04sUUFBUDtBQUNEOztBQUNELFVBQU1PLFNBQVMsR0FBRyxNQUFNYixnQkFBZ0IsQ0FBQztBQUFFUyxNQUFBQTtBQUFGLEtBQUQsQ0FBeEM7QUFDQSxVQUFNSyxPQUFPLEdBQUcsTUFBTWYsVUFBVSxDQUFDZ0IsTUFBWCxDQUFrQjtBQUN0Q2IsTUFBQUEsRUFBRSxFQUFFVyxTQUFTLENBQUNHLEtBQVYsRUFEa0M7QUFFdENDLE1BQUFBLFNBQVMsRUFBRUosU0FBUyxDQUFDSyxXQUFWLEVBRjJCO0FBR3RDUixNQUFBQSxVQUFVLEVBQUVHLFNBQVMsQ0FBQ00sYUFBVixFQUgwQjtBQUl0Q2QsTUFBQUEsSUFBSSxFQUFFUSxTQUFTLENBQUNPLE9BQVYsRUFKZ0M7QUFLdENSLE1BQUFBLElBQUksRUFBRUMsU0FBUyxDQUFDRixPQUFWO0FBTGdDLEtBQWxCLENBQXRCO0FBT0EsV0FBTyxFQUFFLEdBQUdMLFFBQUw7QUFBZSxTQUFHUTtBQUFsQixLQUFQO0FBQ0QsR0F6QkQ7QUEwQkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXHVzZS1jYXNlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtYWtlQ29tbWVudCBmcm9tICcuLi9jb21tZW50J1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlRWRpdENvbW1lbnQgKHsgY29tbWVudHNEYiwgaGFuZGxlTW9kZXJhdGlvbiB9KSB7XHJcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGVkaXRDb21tZW50ICh7IGlkLCAuLi5jaGFuZ2VzIH0gPSB7fSkge1xyXG4gICAgaWYgKCFpZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlYmVzIHN1bWluaXN0cmFyIHVuIGlkLicpXHJcbiAgICB9XHJcbiAgICBpZiAoIWNoYW5nZXMudGV4dCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlYmVzIHN1bWluaXN0cmFyIHVuIHRleHRvLicpXHJcbiAgICB9XHJcbiAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IGNvbW1lbnRzRGIuZmluZEJ5SWQoeyBpZCB9KVxyXG5cclxuICAgIGlmICghZXhpc3RpbmcpIHtcclxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0NvbWVudGFyaW8gbm8gZW5jb250cmFkby4nKVxyXG4gICAgfVxyXG4gICAgY29uc3QgY29tbWVudCA9IG1ha2VDb21tZW50KHsgLi4uZXhpc3RpbmcsIC4uLmNoYW5nZXMsIG1vZGlmaWVkT246IG51bGwgfSlcclxuICAgIGlmIChjb21tZW50LmdldEhhc2goKSA9PT0gZXhpc3RpbmcuaGFzaCkge1xyXG4gICAgICByZXR1cm4gZXhpc3RpbmdcclxuICAgIH1cclxuICAgIGNvbnN0IG1vZGVyYXRlZCA9IGF3YWl0IGhhbmRsZU1vZGVyYXRpb24oeyBjb21tZW50IH0pXHJcbiAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgY29tbWVudHNEYi51cGRhdGUoe1xyXG4gICAgICBpZDogbW9kZXJhdGVkLmdldElkKCksXHJcbiAgICAgIHB1Ymxpc2hlZDogbW9kZXJhdGVkLmlzUHVibGlzaGVkKCksXHJcbiAgICAgIG1vZGlmaWVkT246IG1vZGVyYXRlZC5nZXRNb2RpZmllZE9uKCksXHJcbiAgICAgIHRleHQ6IG1vZGVyYXRlZC5nZXRUZXh0KCksXHJcbiAgICAgIGhhc2g6IG1vZGVyYXRlZC5nZXRIYXNoKClcclxuICAgIH0pXHJcbiAgICByZXR1cm4geyAuLi5leGlzdGluZywgLi4udXBkYXRlZCB9XHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "edit-comment.js"
      ],
      "names": [
        "makeEditComment",
        "commentsDb",
        "handleModeration",
        "editComment",
        "id",
        "changes",
        "Error",
        "text",
        "existing",
        "findById",
        "RangeError",
        "comment",
        "modifiedOn",
        "getHash",
        "hash",
        "moderated",
        "updated",
        "update",
        "getId",
        "published",
        "isPublished",
        "getModifiedOn",
        "getText"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACe,SAASA,eAAT,CAA0B;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAA1B,EAA4D;AACzE,SAAO,eAAeC,WAAf,CAA4B;AAAEC,IAAAA,EAAF;AAAM,OAAGC;AAAT,MAAqB,EAAjD,EAAqD;AAC1D,QAAI,CAACD,EAAL,EAAS;AACP,YAAM,IAAIE,KAAJ,CAAU,0BAAV,CAAN;AACD;;AACD,QAAI,CAACD,OAAO,CAACE,IAAb,EAAmB;AACjB,YAAM,IAAID,KAAJ,CAAU,6BAAV,CAAN;AACD;;AACD,UAAME,QAAQ,GAAG,MAAMP,UAAU,CAACQ,QAAX,CAAoB;AAAEL,MAAAA;AAAF,KAApB,CAAvB;;AAEA,QAAI,CAACI,QAAL,EAAe;AACb,YAAM,IAAIE,UAAJ,CAAe,2BAAf,CAAN;AACD;;AACD,UAAMC,OAAO,GAAG,sBAAY,EAAE,GAAGH,QAAL;AAAe,SAAGH,OAAlB;AAA2BO,MAAAA,UAAU,EAAE;AAAvC,KAAZ,CAAhB;;AACA,QAAID,OAAO,CAACE,OAAR,OAAsBL,QAAQ,CAACM,IAAnC,EAAyC;AACvC,aAAON,QAAP;AACD;;AACD,UAAMO,SAAS,GAAG,MAAMb,gBAAgB,CAAC;AAAES,MAAAA;AAAF,KAAD,CAAxC;AACA,UAAMK,OAAO,GAAG,MAAMf,UAAU,CAACgB,MAAX,CAAkB;AACtCb,MAAAA,EAAE,EAAEW,SAAS,CAACG,KAAV,EADkC;AAEtCC,MAAAA,SAAS,EAAEJ,SAAS,CAACK,WAAV,EAF2B;AAGtCR,MAAAA,UAAU,EAAEG,SAAS,CAACM,aAAV,EAH0B;AAItCd,MAAAA,IAAI,EAAEQ,SAAS,CAACO,OAAV,EAJgC;AAKtCR,MAAAA,IAAI,EAAEC,SAAS,CAACF,OAAV;AALgC,KAAlB,CAAtB;AAOA,WAAO,EAAE,GAAGL,QAAL;AAAe,SAAGQ;AAAlB,KAAP;AACD,GAzBD;AA0BD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\nexport default function makeEditComment ({ commentsDb, handleModeration }) {\r\n  return async function editComment ({ id, ...changes } = {}) {\r\n    if (!id) {\r\n      throw new Error('Debes suministrar un id.')\r\n    }\r\n    if (!changes.text) {\r\n      throw new Error('Debes suministrar un texto.')\r\n    }\r\n    const existing = await commentsDb.findById({ id })\r\n\r\n    if (!existing) {\r\n      throw new RangeError('Comentario no encontrado.')\r\n    }\r\n    const comment = makeComment({ ...existing, ...changes, modifiedOn: null })\r\n    if (comment.getHash() === existing.hash) {\r\n      return existing\r\n    }\r\n    const moderated = await handleModeration({ comment })\r\n    const updated = await commentsDb.update({\r\n      id: moderated.getId(),\r\n      published: moderated.isPublished(),\r\n      modifiedOn: moderated.getModifiedOn(),\r\n      text: moderated.getText(),\r\n      hash: moderated.getHash()\r\n    })\r\n    return { ...existing, ...updated }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625586808511
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\remove-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\remove-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\remove-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\remove-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "remove-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeRemoveComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeRemoveComment({\n  commentsDb\n}) {\n  return async function removeComment({\n    id\n  } = {}) {\n    if (!id) {\n      throw new Error('You must supply a comment id.');\n    }\n\n    const commentToDelete = await commentsDb.findById({\n      id\n    });\n\n    if (!commentToDelete) {\n      return deleteNothing();\n    }\n\n    if (await hasReplies(commentToDelete)) {\n      return softDelete(commentToDelete);\n    }\n\n    if (await isOnlyReplyOfDeletedParent(commentToDelete)) {\n      return deleteCommentAndParent(commentToDelete);\n    }\n\n    return hardDelete(commentToDelete);\n  };\n\n  async function hasReplies({\n    id: commentId\n  }) {\n    const replies = await commentsDb.findReplies({\n      commentId,\n      publishedOnly: false\n    });\n    return replies.length > 0;\n  }\n\n  async function isOnlyReplyOfDeletedParent(comment) {\n    if (!comment.replyToId) {\n      return false;\n    }\n\n    const parent = await commentsDb.findById({\n      id: comment.replyToId\n    });\n\n    if (parent && (0, _comment.default)(parent).isDeleted()) {\n      const replies = await commentsDb.findReplies({\n        commentId: parent.id,\n        publishedOnly: false\n      });\n      return replies.length === 1;\n    }\n\n    return false;\n  }\n\n  function deleteNothing() {\n    return {\n      deletedCount: 0,\n      softDelete: false,\n      message: 'Comment not found, nothing to delete.'\n    };\n  }\n\n  async function softDelete(commentInfo) {\n    const toDelete = (0, _comment.default)(commentInfo);\n    toDelete.markDeleted();\n    await commentsDb.update({\n      id: toDelete.getId(),\n      author: toDelete.getAuthor(),\n      text: toDelete.getText(),\n      replyToId: toDelete.getReplyToId(),\n      postId: toDelete.getPostId()\n    });\n    return {\n      deletedCount: 1,\n      softDelete: true,\n      message: 'Comment has replies. Soft deleted.'\n    };\n  }\n\n  async function deleteCommentAndParent(comment) {\n    await Promise.all([commentsDb.remove(comment), commentsDb.remove({\n      id: comment.replyToId\n    })]);\n    return {\n      deletedCount: 2,\n      softDelete: false,\n      message: 'Comment and parent deleted.'\n    };\n  }\n\n  async function hardDelete(comment) {\n    await commentsDb.remove(comment);\n    return {\n      deletedCount: 1,\n      softDelete: false,\n      message: 'Comment deleted.'\n    };\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbW92ZS1jb21tZW50LmpzIl0sIm5hbWVzIjpbIm1ha2VSZW1vdmVDb21tZW50IiwiY29tbWVudHNEYiIsInJlbW92ZUNvbW1lbnQiLCJpZCIsIkVycm9yIiwiY29tbWVudFRvRGVsZXRlIiwiZmluZEJ5SWQiLCJkZWxldGVOb3RoaW5nIiwiaGFzUmVwbGllcyIsInNvZnREZWxldGUiLCJpc09ubHlSZXBseU9mRGVsZXRlZFBhcmVudCIsImRlbGV0ZUNvbW1lbnRBbmRQYXJlbnQiLCJoYXJkRGVsZXRlIiwiY29tbWVudElkIiwicmVwbGllcyIsImZpbmRSZXBsaWVzIiwicHVibGlzaGVkT25seSIsImxlbmd0aCIsImNvbW1lbnQiLCJyZXBseVRvSWQiLCJwYXJlbnQiLCJpc0RlbGV0ZWQiLCJkZWxldGVkQ291bnQiLCJtZXNzYWdlIiwiY29tbWVudEluZm8iLCJ0b0RlbGV0ZSIsIm1hcmtEZWxldGVkIiwidXBkYXRlIiwiZ2V0SWQiLCJhdXRob3IiLCJnZXRBdXRob3IiLCJ0ZXh0IiwiZ2V0VGV4dCIsImdldFJlcGx5VG9JZCIsInBvc3RJZCIsImdldFBvc3RJZCIsIlByb21pc2UiLCJhbGwiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVlLFNBQVNBLGlCQUFULENBQTRCO0FBQUVDLEVBQUFBO0FBQUYsQ0FBNUIsRUFBNEM7QUFDekQsU0FBTyxlQUFlQyxhQUFmLENBQThCO0FBQUVDLElBQUFBO0FBQUYsTUFBUyxFQUF2QyxFQUEyQztBQUNoRCxRQUFJLENBQUNBLEVBQUwsRUFBUztBQUNQLFlBQU0sSUFBSUMsS0FBSixDQUFVLCtCQUFWLENBQU47QUFDRDs7QUFFRCxVQUFNQyxlQUFlLEdBQUcsTUFBTUosVUFBVSxDQUFDSyxRQUFYLENBQW9CO0FBQUVILE1BQUFBO0FBQUYsS0FBcEIsQ0FBOUI7O0FBRUEsUUFBSSxDQUFDRSxlQUFMLEVBQXNCO0FBQ3BCLGFBQU9FLGFBQWEsRUFBcEI7QUFDRDs7QUFFRCxRQUFJLE1BQU1D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QkFBZVgsVUFBZixDQUEyQk0sT0FBM0IsRUFBb0M7QUFDbEMsVUFBTWpCLFVBQVUsQ0FBQ3FDLE1BQVgsQ0FBa0JwQixPQUFsQixDQUFOO0FBQ0EsV0FBTztBQUNMSSxNQUFBQSxZQUFZLEVBQUUsQ0FEVDtBQUVMYixNQUFBQSxVQUFVLEVBQUUsS0FGUDtBQUdMYyxNQUFBQSxPQUFPLEVBQUU7QUFISixLQUFQO0FBS0Q7QUFDRiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcdXNlLWNhc2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1ha2VDb21tZW50IGZyb20gJy4uL2NvbW1lbnQnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlUmVtb3ZlQ29tbWVudCAoeyBjb21tZW50c0RiIH0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gcmVtb3ZlQ29tbWVudCAoeyBpZCB9ID0ge30pIHtcclxuICAgIGlmICghaWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBzdXBwbHkgYSBjb21tZW50IGlkLicpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29tbWVudFRvRGVsZXRlID0gYXdhaXQgY29tbWVudHNEYi5maW5kQnlJZCh7IGlkIH0pXHJcblxyXG4gICAgaWYgKCFjb21tZW50VG9EZWxldGUpIHtcclxuICAgICAgcmV0dXJuIGRlbGV0ZU5vdGhpbmcoKVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChhd2FpdCBoYXNSZXBsaWVzKGNvbW1lbnRUb0RlbGV0ZSkpIHtcclxuICAgICAgcmV0dXJuIHNvZnREZWxldGUoY29tbWVudFRvRGVsZXRlKVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChhd2FpdCBpc09ubHlSZXBseU9mRGVsZXRlZFBhcmVudChjb21tZW50VG9EZWxldGUpKSB7XHJcbiAgICAgIHJldHVybiBkZWxldGVDb21tZW50QW5kUGFyZW50KGNvbW1lbnRUb0RlbGV0ZSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaGFyZERlbGV0ZShjb21tZW50VG9EZWxldGUpXHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYXNSZXBsaWVzICh7IGlkOiBjb21tZW50SWQgfSkge1xyXG4gICAgY29uc3QgcmVwbGllcyA9IGF3YWl0IGNvbW1lbnRzRGIuZmluZFJlcGxpZXMoe1xyXG4gICAgICBjb21tZW50SWQsXHJcbiAgICAgIHB1Ymxpc2hlZE9ubHk6IGZhbHNlXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIHJlcGxpZXMubGVuZ3RoID4gMFxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gaXNPbmx5UmVwbHlPZkRlbGV0ZWRQYXJlbnQgKGNvbW1lbnQpIHtcclxuICAgIGlmICghY29tbWVudC5yZXBseVRvSWQpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICBjb25zdCBwYXJlbnQgPSBhd2FpdCBjb21tZW50c0RiLmZpbmRCeUlkKHsgaWQ6IGNvbW1lbnQucmVwbHlUb0lkIH0pXHJcbiAgICBpZiAocGFyZW50ICYmIG1ha2VDb21tZW50KHBhcmVudCkuaXNEZWxldGVkKCkpIHtcclxuICAgICAgY29uc3QgcmVwbGllcyA9IGF3YWl0IGNvbW1lbnRzRGIuZmluZFJlcGxpZXMoe1xyXG4gICAgICAgIGNvbW1lbnRJZDogcGFyZW50LmlkLFxyXG4gICAgICAgIHB1Ymxpc2hlZE9ubHk6IGZhbHNlXHJcbiAgICAgIH0pXHJcbiAgICAgIHJldHVybiByZXBsaWVzLmxlbmd0aCA9PT0gMVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBkZWxldGVOb3RoaW5nICgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRlbGV0ZWRDb3VudDogMCxcclxuICAgICAgc29mdERlbGV0ZTogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICdDb21tZW50IG5vdCBmb3VuZCwgbm90aGluZyB0byBkZWxldGUuJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gc29mdERlbGV0ZSAoY29tbWVudEluZm8pIHtcclxuICAgIGNvbnN0IHRvRGVsZXRlID0gbWFrZUNvbW1lbnQoY29tbWVudEluZm8pXHJcbiAgICB0b0RlbGV0ZS5tYXJrRGVsZXRlZCgpXHJcbiAgICBhd2FpdCBjb21tZW50c0RiLnVwZGF0ZSh7XHJcbiAgICAgIGlkOiB0b0RlbGV0ZS5nZXRJZCgpLFxyXG4gICAgICBhdXRob3I6IHRvRGVsZXRlLmdldEF1dGhvcigpLFxyXG4gICAgICB0ZXh0OiB0b0RlbGV0ZS5nZXRUZXh0KCksXHJcbiAgICAgIHJlcGx5VG9JZDogdG9EZWxldGUuZ2V0UmVwbHlUb0lkKCksXHJcbiAgICAgIHBvc3RJZDogdG9EZWxldGUuZ2V0UG9zdElkKClcclxuICAgIH0pXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkZWxldGVkQ291bnQ6IDEsXHJcbiAgICAgIHNvZnREZWxldGU6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6ICdDb21tZW50IGhhcyByZXBsaWVzLiBTb2Z0IGRlbGV0ZWQuJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ29tbWVudEFuZFBhcmVudCAoY29tbWVudCkge1xyXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICBjb21tZW50c0RiLnJlbW92ZShjb21tZW50KSxcclxuICAgICAgY29tbWVudHNEYi5yZW1vdmUoeyBpZDogY29tbWVudC5yZXBseVRvSWQgfSlcclxuICAgIF0pXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkZWxldGVkQ291bnQ6IDIsXHJcbiAgICAgIHNvZnREZWxldGU6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAnQ29tbWVudCBhbmQgcGFyZW50IGRlbGV0ZWQuJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gaGFyZERlbGV0ZSAoY29tbWVudCkge1xyXG4gICAgYXdhaXQgY29tbWVudHNEYi5yZW1vdmUoY29tbWVudClcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRlbGV0ZWRDb3VudDogMSxcclxuICAgICAgc29mdERlbGV0ZTogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICdDb21tZW50IGRlbGV0ZWQuJ1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "remove-comment.js"
      ],
      "names": [
        "makeRemoveComment",
        "commentsDb",
        "removeComment",
        "id",
        "Error",
        "commentToDelete",
        "findById",
        "deleteNothing",
        "hasReplies",
        "softDelete",
        "isOnlyReplyOfDeletedParent",
        "deleteCommentAndParent",
        "hardDelete",
        "commentId",
        "replies",
        "findReplies",
        "publishedOnly",
        "length",
        "comment",
        "replyToId",
        "parent",
        "isDeleted",
        "deletedCount",
        "message",
        "commentInfo",
        "toDelete",
        "markDeleted",
        "update",
        "getId",
        "author",
        "getAuthor",
        "text",
        "getText",
        "getReplyToId",
        "postId",
        "getPostId",
        "Promise",
        "all",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\n\r\nexport default function makeRemoveComment ({ commentsDb }) {\r\n  return async function removeComment ({ id } = {}) {\r\n    if (!id) {\r\n      throw new Error('You must supply a comment id.')\r\n    }\r\n\r\n    const commentToDelete = await commentsDb.findById({ id })\r\n\r\n    if (!commentToDelete) {\r\n      return deleteNothing()\r\n    }\r\n\r\n    if (await hasReplies(commentToDelete)) {\r\n      return softDelete(commentToDelete)\r\n    }\r\n\r\n    if (await isOnlyReplyOfDeletedParent(commentToDelete)) {\r\n      return deleteCommentAndParent(commentToDelete)\r\n    }\r\n\r\n    return hardDelete(commentToDelete)\r\n  }\r\n\r\n  async function hasReplies ({ id: commentId }) {\r\n    const replies = await commentsDb.findReplies({\r\n      commentId,\r\n      publishedOnly: false\r\n    })\r\n    return replies.length > 0\r\n  }\r\n\r\n  async function isOnlyReplyOfDeletedParent (comment) {\r\n    if (!comment.replyToId) {\r\n      return false\r\n    }\r\n    const parent = await commentsDb.findById({ id: comment.replyToId })\r\n    if (parent && makeComment(parent).isDeleted()) {\r\n      const replies = await commentsDb.findReplies({\r\n        commentId: parent.id,\r\n        publishedOnly: false\r\n      })\r\n      return replies.length === 1\r\n    }\r\n    return false\r\n  }\r\n\r\n  function deleteNothing () {\r\n    return {\r\n      deletedCount: 0,\r\n      softDelete: false,\r\n      message: 'Comment not found, nothing to delete.'\r\n    }\r\n  }\r\n\r\n  async function softDelete (commentInfo) {\r\n    const toDelete = makeComment(commentInfo)\r\n    toDelete.markDeleted()\r\n    await commentsDb.update({\r\n      id: toDelete.getId(),\r\n      author: toDelete.getAuthor(),\r\n      text: toDelete.getText(),\r\n      replyToId: toDelete.getReplyToId(),\r\n      postId: toDelete.getPostId()\r\n    })\r\n    return {\r\n      deletedCount: 1,\r\n      softDelete: true,\r\n      message: 'Comment has replies. Soft deleted.'\r\n    }\r\n  }\r\n\r\n  async function deleteCommentAndParent (comment) {\r\n    await Promise.all([\r\n      commentsDb.remove(comment),\r\n      commentsDb.remove({ id: comment.replyToId })\r\n    ])\r\n    return {\r\n      deletedCount: 2,\r\n      softDelete: false,\r\n      message: 'Comment and parent deleted.'\r\n    }\r\n  }\r\n\r\n  async function hardDelete (comment) {\r\n    await commentsDb.remove(comment)\r\n    return {\r\n      deletedCount: 1,\r\n      softDelete: false,\r\n      message: 'Comment deleted.'\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671603
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\list-comments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-comments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-comments.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-comments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "list-comments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeListComments;\n\nfunction makeListComments({\n  commentsDb\n}) {\n  return async function listComments({\n    postId\n  } = {}) {\n    if (!postId) {\n      throw new Error('Debes suministrar un post id valido.');\n    }\n\n    const comments = await commentsDb.findByPostId({\n      postId,\n      omitReplies: false\n    });\n    const nestedComments = nest(comments);\n    return nestedComments; // If this gets slow introduce caching.\n\n    function nest(comments) {\n      if (comments.length === 0) {\n        return comments;\n      }\n\n      return comments.reduce((nested, comment) => {\n        comment.replies = comments.filter(reply => reply.replyToId === comment.id);\n        nest(comment.replies);\n\n        if (comment.replyToId == null) {\n          nested.push(comment);\n        }\n\n        return nested;\n      }, []);\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpc3QtY29tbWVudHMuanMiXSwibmFtZXMiOlsibWFrZUxpc3RDb21tZW50cyIsImNvbW1lbnRzRGIiLCJsaXN0Q29tbWVudHMiLCJwb3N0SWQiLCJFcnJvciIsImNvbW1lbnRzIiwiZmluZEJ5UG9zdElkIiwib21pdFJlcGxpZXMiLCJuZXN0ZWRDb21tZW50cyIsIm5lc3QiLCJsZW5ndGgiLCJyZWR1Y2UiLCJuZXN0ZWQiLCJjb21tZW50IiwicmVwbGllcyIsImZpbHRlciIsInJlcGx5IiwicmVwbHlUb0lkIiwiaWQiLCJwdXNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWUsU0FBU0EsZ0JBQVQsQ0FBMkI7QUFBRUMsRUFBQUE7QUFBRixDQUEzQixFQUEyQztBQUN4RCxTQUFPLGVBQWVDLFlBQWYsQ0FBNkI7QUFBRUMsSUFBQUE7QUFBRixNQUFhLEVBQTFDLEVBQThDO0FBQ25ELFFBQUksQ0FBQ0EsTUFBTCxFQUFhO0FBQ1gsWUFBTSxJQUFJQyxLQUFKLENBQVUsc0NBQVYsQ0FBTjtBQUNEOztBQUNELFVBQU1DLFFBQVEsR0FBRyxNQUFNSixVQUFVLENBQUNLLFlBQVgsQ0FBd0I7QUFDN0NILE1BQUFBLE1BRDZDO0FBRTdDSSxNQUFBQSxXQUFXLEVBQUU7QUFGZ0MsS0FBeEIsQ0FBdkI7QUFJQSxVQUFNQyxjQUFjLEdBQUdDLElBQUksQ0FBQ0osUUFBRCxDQUEzQjtBQUNBLFdBQU9HLGNBQVAsQ0FUbUQsQ0FXbkQ7O0FBQ0EsYUFBU0MsSUFBVCxDQUFlSixRQUFmLEVBQXlCO0FBQ3ZCLFVBQUlBLFFBQVEsQ0FBQ0ssTUFBVCxLQUFvQixDQUF4QixFQUEyQjtBQUN6QixlQUFPTCxRQUFQO0FBQ0Q7O0FBQ0QsYUFBT0EsUUFBUSxDQUFDTSxNQUFULENBQWdCLENBQUNDLE1BQUQsRUFBU0MsT0FBVCxLQUFxQjtBQUMxQ0EsUUFBQUEsT0FBTyxDQUFDQyxPQUFSLEdBQWtCVCxRQUFRLENBQUNVLE1BQVQsQ0FDaEJDLEtBQUssSUFBSUEsS0FBSyxDQUFDQyxTQUFOLEtBQW9CSixPQUFPLENBQUNLLEVBRHJCLENBQWxCO0FBR0FULFFBQUFBLElBQUksQ0FBQ0ksT0FBTyxDQUFDQyxPQUFULENBQUo7O0FBQ0EsWUFBSUQsT0FBTyxDQUFDSSxTQUFSLElBQXFCLElBQXpCLEVBQStCO0FBQzdCTCxVQUFBQSxNQUFNLENBQUNPLElBQVAsQ0FBWU4sT0FBWjtBQUNEOztBQUNELGVBQU9ELE1BQVA7QUFDRCxPQVRNLEVBU0osRUFUSSxDQUFQO0FBVUQ7QUFDRixHQTNCRDtBQTRCRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcdXNlLWNhc2VzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZUxpc3RDb21tZW50cyAoeyBjb21tZW50c0RiIH0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gbGlzdENvbW1lbnRzICh7IHBvc3RJZCB9ID0ge30pIHtcclxuICAgIGlmICghcG9zdElkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRGViZXMgc3VtaW5pc3RyYXIgdW4gcG9zdCBpZCB2YWxpZG8uJylcclxuICAgIH1cclxuICAgIGNvbnN0IGNvbW1lbnRzID0gYXdhaXQgY29tbWVudHNEYi5maW5kQnlQb3N0SWQoe1xyXG4gICAgICBwb3N0SWQsXHJcbiAgICAgIG9taXRSZXBsaWVzOiBmYWxzZVxyXG4gICAgfSlcclxuICAgIGNvbnN0IG5lc3RlZENvbW1lbnRzID0gbmVzdChjb21tZW50cylcclxuICAgIHJldHVybiBuZXN0ZWRDb21tZW50c1xyXG5cclxuICAgIC8vIElmIHRoaXMgZ2V0cyBzbG93IGludHJvZHVjZSBjYWNoaW5nLlxyXG4gICAgZnVuY3Rpb24gbmVzdCAoY29tbWVudHMpIHtcclxuICAgICAgaWYgKGNvbW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBjb21tZW50c1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBjb21tZW50cy5yZWR1Y2UoKG5lc3RlZCwgY29tbWVudCkgPT4ge1xyXG4gICAgICAgIGNvbW1lbnQucmVwbGllcyA9IGNvbW1lbnRzLmZpbHRlcihcclxuICAgICAgICAgIHJlcGx5ID0+IHJlcGx5LnJlcGx5VG9JZCA9PT0gY29tbWVudC5pZFxyXG4gICAgICAgIClcclxuICAgICAgICBuZXN0KGNvbW1lbnQucmVwbGllcylcclxuICAgICAgICBpZiAoY29tbWVudC5yZXBseVRvSWQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgbmVzdGVkLnB1c2goY29tbWVudClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5lc3RlZFxyXG4gICAgICB9LCBbXSlcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "list-comments.js"
      ],
      "names": [
        "makeListComments",
        "commentsDb",
        "listComments",
        "postId",
        "Error",
        "comments",
        "findByPostId",
        "omitReplies",
        "nestedComments",
        "nest",
        "length",
        "reduce",
        "nested",
        "comment",
        "replies",
        "filter",
        "reply",
        "replyToId",
        "id",
        "push"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,gBAAT,CAA2B;AAAEC,EAAAA;AAAF,CAA3B,EAA2C;AACxD,SAAO,eAAeC,YAAf,CAA6B;AAAEC,IAAAA;AAAF,MAAa,EAA1C,EAA8C;AACnD,QAAI,CAACA,MAAL,EAAa;AACX,YAAM,IAAIC,KAAJ,CAAU,sCAAV,CAAN;AACD;;AACD,UAAMC,QAAQ,GAAG,MAAMJ,UAAU,CAACK,YAAX,CAAwB;AAC7CH,MAAAA,MAD6C;AAE7CI,MAAAA,WAAW,EAAE;AAFgC,KAAxB,CAAvB;AAIA,UAAMC,cAAc,GAAGC,IAAI,CAACJ,QAAD,CAA3B;AACA,WAAOG,cAAP,CATmD,CAWnD;;AACA,aAASC,IAAT,CAAeJ,QAAf,EAAyB;AACvB,UAAIA,QAAQ,CAACK,MAAT,KAAoB,CAAxB,EAA2B;AACzB,eAAOL,QAAP;AACD;;AACD,aAAOA,QAAQ,CAACM,MAAT,CAAgB,CAACC,MAAD,EAASC,OAAT,KAAqB;AAC1CA,QAAAA,OAAO,CAACC,OAAR,GAAkBT,QAAQ,CAACU,MAAT,CAChBC,KAAK,IAAIA,KAAK,CAACC,SAAN,KAAoBJ,OAAO,CAACK,EADrB,CAAlB;AAGAT,QAAAA,IAAI,CAACI,OAAO,CAACC,OAAT,CAAJ;;AACA,YAAID,OAAO,CAACI,SAAR,IAAqB,IAAzB,EAA+B;AAC7BL,UAAAA,MAAM,CAACO,IAAP,CAAYN,OAAZ;AACD;;AACD,eAAOD,MAAP;AACD,OATM,EASJ,EATI,CAAP;AAUD;AACF,GA3BD;AA4BD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "export default function makeListComments ({ commentsDb }) {\r\n  return async function listComments ({ postId } = {}) {\r\n    if (!postId) {\r\n      throw new Error('Debes suministrar un post id valido.')\r\n    }\r\n    const comments = await commentsDb.findByPostId({\r\n      postId,\r\n      omitReplies: false\r\n    })\r\n    const nestedComments = nest(comments)\r\n    return nestedComments\r\n\r\n    // If this gets slow introduce caching.\r\n    function nest (comments) {\r\n      if (comments.length === 0) {\r\n        return comments\r\n      }\r\n      return comments.reduce((nested, comment) => {\r\n        comment.replies = comments.filter(\r\n          reply => reply.replyToId === comment.id\r\n        )\r\n        nest(comment.replies)\r\n        if (comment.replyToId == null) {\r\n          nested.push(comment)\r\n        }\r\n        return nested\r\n      }, [])\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625162326286
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\handle-moderation.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\handle-moderation.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\handle-moderation.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\handle-moderation.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "handle-moderation.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeHandleModeration;\n\nfunction makeHandleModeration({\n  initiateReview\n}) {\n  return async function handleModeration({\n    comment\n  }) {\n    const moderated = { ...comment\n    };\n    initiateReview({\n      id: moderated.getId(),\n      content: moderated.getText()\n    });\n    return moderated;\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhbmRsZS1tb2RlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIm1ha2VIYW5kbGVNb2RlcmF0aW9uIiwiaW5pdGlhdGVSZXZpZXciLCJoYW5kbGVNb2RlcmF0aW9uIiwiY29tbWVudCIsIm1vZGVyYXRlZCIsImlkIiwiZ2V0SWQiLCJjb250ZW50IiwiZ2V0VGV4dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLG9CQUFULENBQStCO0FBQzVDQyxFQUFBQTtBQUQ0QyxDQUEvQixFQUVaO0FBQ0QsU0FBTyxlQUFlQyxnQkFBZixDQUFpQztBQUFFQyxJQUFBQTtBQUFGLEdBQWpDLEVBQThDO0FBQ25ELFVBQU1DLFNBQVMsR0FBRyxFQUFFLEdBQUdEO0FBQUwsS0FBbEI7QUFDQUYsSUFBQUEsY0FBYyxDQUFDO0FBQUVJLE1BQUFBLEVBQUUsRUFBRUQsU0FBUyxDQUFDRSxLQUFWLEVBQU47QUFBeUJDLE1BQUFBLE9BQU8sRUFBRUgsU0FBUyxDQUFDSSxPQUFWO0FBQWxDLEtBQUQsQ0FBZDtBQUNBLFdBQU9KLFNBQVA7QUFDRCxHQUpEO0FBS0QiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXHVzZS1jYXNlcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VIYW5kbGVNb2RlcmF0aW9uICh7XHJcbiAgaW5pdGlhdGVSZXZpZXdcclxufSkge1xyXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBoYW5kbGVNb2RlcmF0aW9uICh7IGNvbW1lbnQgfSkge1xyXG4gICAgY29uc3QgbW9kZXJhdGVkID0geyAuLi5jb21tZW50IH1cclxuICAgIGluaXRpYXRlUmV2aWV3KHsgaWQ6IG1vZGVyYXRlZC5nZXRJZCgpLCBjb250ZW50OiBtb2RlcmF0ZWQuZ2V0VGV4dCgpIH0pXHJcbiAgICByZXR1cm4gbW9kZXJhdGVkXHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "handle-moderation.js"
      ],
      "names": [
        "makeHandleModeration",
        "initiateReview",
        "handleModeration",
        "comment",
        "moderated",
        "id",
        "getId",
        "content",
        "getText"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,oBAAT,CAA+B;AAC5CC,EAAAA;AAD4C,CAA/B,EAEZ;AACD,SAAO,eAAeC,gBAAf,CAAiC;AAAEC,IAAAA;AAAF,GAAjC,EAA8C;AACnD,UAAMC,SAAS,GAAG,EAAE,GAAGD;AAAL,KAAlB;AACAF,IAAAA,cAAc,CAAC;AAAEI,MAAAA,EAAE,EAAED,SAAS,CAACE,KAAV,EAAN;AAAyBC,MAAAA,OAAO,EAAEH,SAAS,CAACI,OAAV;AAAlC,KAAD,CAAd;AACA,WAAOJ,SAAP;AACD,GAJD;AAKD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "export default function makeHandleModeration ({\r\n  initiateReview\r\n}) {\r\n  return async function handleModeration ({ comment }) {\r\n    const moderated = { ...comment }\r\n    initiateReview({ id: moderated.getId(), content: moderated.getText() })\r\n    return moderated\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671602
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\data-access\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\data-access\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeDb = makeDb;\nexports.default = void 0;\n\nvar _commentsDb = _interopRequireDefault(require(\"./comments-db\"));\n\nvar _mongodb = _interopRequireDefault(require(\"mongodb\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst MongoClient = _mongodb.default.MongoClient;\nconst url = process && process.env && process.env.DM_COMMENTS_DB_URL || \"mongodb://localhost:27017\";\nconst dbName = process && process.env && process.env.DM_COMMENTS_DB_NAME || \"dm_comments_api\";\nconst client = new MongoClient(url, {\n  useNewUrlParser: true\n});\n\nasync function makeDb() {\n  if (!client.isConnected()) {\n    await client.connect();\n  }\n\n  return client.db(dbName);\n}\n\nconst commentsDb = (0, _commentsDb.default)({\n  makeDb\n});\nvar _default = commentsDb;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwibW9uZ29kYiIsInVybCIsImRiTmFtZSIsImNsaWVudCIsInVzZU5ld1VybFBhcnNlciIsIm1ha2VEYiIsImlzQ29ubmVjdGVkIiwiY29ubmVjdCIsImRiIiwiY29tbWVudHNEYiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLFdBQVcsR0FBR0MsaUJBQVFELFdBQTVCO0FBQ0EsTUFBTUUsR0FBRywwRkFBVDtBQUNBLE1BQU1DLE1BQU0saUZBQVo7QUFDQSxNQUFNQyxNQUFNLEdBQUcsSUFBSUosV0FBSixDQUFnQkUsR0FBaEIsRUFBcUI7QUFBRUcsRUFBQUEsZUFBZSxFQUFFO0FBQW5CLENBQXJCLENBQWY7O0FBRU8sZUFBZUMsTUFBZixHQUF5QjtBQUM5QixNQUFJLENBQUNGLE1BQU0sQ0FBQ0csV0FBUCxFQUFMLEVBQTJCO0FBQ3pCLFVBQU1ILE1BQU0sQ0FBQ0ksT0FBUCxFQUFOO0FBQ0Q7O0FBQ0QsU0FBT0osTUFBTSxDQUFDSyxFQUFQLENBQVVOLE1BQVYsQ0FBUDtBQUNEOztBQUVELE1BQU1PLFVBQVUsR0FBRyx5QkFBZTtBQUFFSixFQUFBQTtBQUFGLENBQWYsQ0FBbkI7ZUFDZUksVSIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcZGF0YS1hY2Nlc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFrZUNvbW1lbnRzRGIgZnJvbSAnLi9jb21tZW50cy1kYidcclxuaW1wb3J0IG1vbmdvZGIgZnJvbSAnbW9uZ29kYidcclxuXHJcbmNvbnN0IE1vbmdvQ2xpZW50ID0gbW9uZ29kYi5Nb25nb0NsaWVudFxyXG5jb25zdCB1cmwgPSBwcm9jZXNzLmVudi5ETV9DT01NRU5UU19EQl9VUkxcclxuY29uc3QgZGJOYW1lID0gcHJvY2Vzcy5lbnYuRE1fQ09NTUVOVFNfREJfTkFNRVxyXG5jb25zdCBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQodXJsLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSB9KVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1ha2VEYiAoKSB7XHJcbiAgaWYgKCFjbGllbnQuaXNDb25uZWN0ZWQoKSkge1xyXG4gICAgYXdhaXQgY2xpZW50LmNvbm5lY3QoKVxyXG4gIH1cclxuICByZXR1cm4gY2xpZW50LmRiKGRiTmFtZSlcclxufVxyXG5cclxuY29uc3QgY29tbWVudHNEYiA9IG1ha2VDb21tZW50c0RiKHsgbWFrZURiIH0pXHJcbmV4cG9ydCBkZWZhdWx0IGNvbW1lbnRzRGJcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "MongoClient",
        "mongodb",
        "url",
        "dbName",
        "client",
        "useNewUrlParser",
        "makeDb",
        "isConnected",
        "connect",
        "db",
        "commentsDb"
      ],
      "mappings": ";;;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,WAAW,GAAGC,iBAAQD,WAA5B;AACA,MAAME,GAAG,0FAAT;AACA,MAAMC,MAAM,iFAAZ;AACA,MAAMC,MAAM,GAAG,IAAIJ,WAAJ,CAAgBE,GAAhB,EAAqB;AAAEG,EAAAA,eAAe,EAAE;AAAnB,CAArB,CAAf;;AAEO,eAAeC,MAAf,GAAyB;AAC9B,MAAI,CAACF,MAAM,CAACG,WAAP,EAAL,EAA2B;AACzB,UAAMH,MAAM,CAACI,OAAP,EAAN;AACD;;AACD,SAAOJ,MAAM,CAACK,EAAP,CAAUN,MAAV,CAAP;AACD;;AAED,MAAMO,UAAU,GAAG,yBAAe;AAAEJ,EAAAA;AAAF,CAAf,CAAnB;eACeI,U",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
      "sourcesContent": [
        "import makeCommentsDb from './comments-db'\r\nimport mongodb from 'mongodb'\r\n\r\nconst MongoClient = mongodb.MongoClient\r\nconst url = process.env.DM_COMMENTS_DB_URL\r\nconst dbName = process.env.DM_COMMENTS_DB_NAME\r\nconst client = new MongoClient(url, { useNewUrlParser: true })\r\n\r\nexport async function makeDb () {\r\n  if (!client.isConnected()) {\r\n    await client.connect()\r\n  }\r\n  return client.db(dbName)\r\n}\r\n\r\nconst commentsDb = makeCommentsDb({ makeDb })\r\nexport default commentsDb\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671599
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\data-access\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\data-access\\\\comments-db.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\comments-db.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\comments-db.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\comments-db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
        "sourceFileName": "comments-db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeCommentsDb;\n\nvar _Id = _interopRequireDefault(require(\"../Id\"));\n\nvar _rxjs = require(\"rxjs\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeCommentsDb({\n  makeDb\n}) {\n  return Object.freeze({\n    findAll,\n    findByHash,\n    findById,\n    findByPostId,\n    findReplies,\n    insert,\n    remove,\n    update,\n    findMainComments\n  });\n  /*async function findAll ({ publishedOnly = true } = {}) {\r\n    const db = await makeDb()\r\n    const query = publishedOnly ? { published: true } : {}\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n  }*/\n\n  async function findAll({\n    publishedOnly = true\n  } = {}) {\n    const db = (0, _rxjs.of)(makeDb());\n    const query = publishedOnly ? {\n      published: true\n    } : {};\n    const source = (0, _rxjs.of)(db.subscribe(base => base.collection('comments').find(query)));\n    return source.subscribe(val => val.toArray().map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    })));\n  }\n\n  async function findMainComments({\n    publishedOnly = true\n  } = {}) {\n    const db = (0, _rxjs.of)(makeDb());\n    const query = publishedOnly ? {\n      replyToId: null\n    } : {};\n    const source = (0, _rxjs.of)(db.subscribe(base => base.collection('comments').find(query)));\n    return source.subscribe(val => val.toArray().map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    })));\n  }\n\n  async function findById({\n    id: _id\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').find({\n      _id\n    });\n    const found = await result.toArray();\n\n    if (found.length === 0) {\n      return null;\n    }\n\n    const {\n      _id: id,\n      ...info\n    } = found[0];\n    return {\n      id,\n      ...info\n    };\n  }\n\n  async function findByPostId({\n    postId,\n    omitReplies = true\n  }) {\n    const db = await makeDb();\n    const query = {\n      postId: postId\n    };\n\n    if (omitReplies) {\n      query.replyToId = null;\n    }\n\n    const result = await db.collection('comments').find(query);\n    return (await result.toArray()).map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    }));\n  }\n\n  async function findReplies({\n    commentId,\n    publishedOnly = true\n  }) {\n    const db = await makeDb();\n    const query = publishedOnly ? {\n      published: true,\n      replyToId: commentId\n    } : {\n      replyToId: commentId\n    };\n    const result = await db.collection('comments').find(query);\n    return (await result.toArray()).map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    }));\n  }\n\n  async function insert({\n    id: _id = _Id.default.makeId(),\n    ...commentInfo\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').insertOne({\n      _id,\n      ...commentInfo\n    });\n    const {\n      _id: id,\n      ...insertedInfo\n    } = result.ops[0];\n    return {\n      id,\n      ...insertedInfo\n    };\n  }\n\n  async function update({\n    id: _id,\n    ...commentInfo\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').updateOne({\n      _id\n    }, {\n      $set: { ...commentInfo\n      }\n    });\n    return result.modifiedCount > 0 ? {\n      id: _id,\n      ...commentInfo\n    } : null;\n  }\n\n  async function remove({\n    id: _id\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').deleteOne({\n      _id\n    });\n    return result.deletedCount;\n  }\n\n  async function findByHash(comment) {\n    const db = await makeDb();\n    const result = await db.collection('comments').find({\n      hash: comment.hash\n    });\n    const found = await result.toArray();\n\n    if (found.length === 0) {\n      return null;\n    }\n\n    const {\n      _id: id,\n      ...insertedInfo\n    } = found[0];\n    return {\n      id,\n      ...insertedInfo\n    };\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRzLWRiLmpzIl0sIm5hbWVzIjpbIm1ha2VDb21tZW50c0RiIiwibWFrZURiIiwiT2JqZWN0IiwiZnJlZXplIiwiZmluZEFsbCIsImZpbmRCeUhhc2giLCJmaW5kQnlJZCIsImZpbmRCeVBvc3RJZCIsImZpbmRSZXBsaWVzIiwiaW5zZXJ0IiwicmVtb3ZlIiwidXBkYXRlIiwiZmluZE1haW5Db21tZW50cyIsInB1Ymxpc2hlZE9ubHkiLCJkYiIsInF1ZXJ5IiwicHVibGlzaGVkIiwic291cmNlIiwic3Vic2NyaWJlIiwiYmFzZSIsImNvbGxlY3Rpb24iLCJmaW5kIiwidmFsIiwidG9BcnJheSIsIm1hcCIsIl9pZCIsImlkIiwiZm91bmQiLCJyZXBseVRvSWQiLCJyZXN1bHQiLCJsZW5ndGgiLCJpbmZvIiwicG9zdElkIiwib21pdFJlcGxpZXMiLCJjb21tZW50SWQiLCJJZCIsIm1ha2VJZCIsImNvbW1lbnRJbmZvIiwiaW5zZXJ0T25lIiwiaW5zZXJ0ZWRJbmZvIiwib3BzIiwidXBkYXRlT25lIiwiJHNldCIsIm1vZGlmaWVkQ291bnQiLCJkZWxldGVPbmUiLCJkZWxldGVkQ291bnQiLCJjb21tZW50IiwiaGFzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRWUsU0FBU0EsY0FBVCxDQUF5QjtBQUFFQyxFQUFBQTtBQUFGLENBQXpCLEVBQXFDO0FBQ2xELFNBQU9DLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjO0FBQ25CQyxJQUFBQSxPQURtQjtBQUVuQkMsSUFBQUEsVUFGbUI7QUFHbkJDLElBQUFBLFFBSG1CO0FBSW5CQyxJQUFBQSxZQUptQjtBQUtuQkMsSUFBQUEsV0FMbUI7QUFNbkJDLElBQUFBLE1BTm1CO0FBT25CQyxJQUFBQSxNQVBtQjtBQVFuQkMsSUFBQUEsTUFSbUI7QUFTbkJDLElBQUFBO0FBVG1CLEdBQWQsQ0FBUDtBQVdBOzs7Ozs7Ozs7O0FBVUEsaUJBQWVSLE9BQWYsQ0FBd0I7QUFBRVMsSUFBQUEsYUFBYSxH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R0FBRyxNQUFNYixNQUFNLEVBQXZCO0FBQ0EsVUFBTTRCLE1BQU0sR0FBRyxNQUFNZixFQUFFLENBQUNNLFVBQUgsQ0FBYyxVQUFkLEVBQTBCQyxJQUExQixDQUErQjtBQUFFMEIsTUFBQUEsSUFBSSxFQUFFRCxPQUFPLENBQUNDO0FBQWhCLEtBQS9CLENBQXJCO0FBQ0EsVUFBTXBCLEtBQUssR0FBRyxNQUFNRSxNQUFNLENBQUNOLE9BQVAsRUFBcEI7O0FBQ0EsUUFBSUksS0FBSyxDQUFDRyxNQUFOLEtBQWlCLENBQXJCLEVBQXdCO0FBQ3RCLGFBQU8sSUFBUDtBQUNEOztBQUNELFVBQU07QUFBRUwsTUFBQUEsR0FBRyxFQUFFQyxFQUFQO0FBQVcsU0FBR2E7QUFBZCxRQUErQlosS0FBSyxDQUFDLENBQUQsQ0FBMUM7QUFDQSxXQUFPO0FBQUVELE1BQUFBLEVBQUY7QUFBTSxTQUFHYTtBQUFULEtBQVA7QUFDRDtBQUNGIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFxkYXRhLWFjY2VzcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJZCBmcm9tICcuLi9JZCdcclxuaW1wb3J0IHtvZn0gZnJvbSAncnhqcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VDb21tZW50c0RiICh7IG1ha2VEYiB9KSB7XHJcbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xyXG4gICAgZmluZEFsbCxcclxuICAgIGZpbmRCeUhhc2gsXHJcbiAgICBmaW5kQnlJZCxcclxuICAgIGZpbmRCeVBvc3RJZCxcclxuICAgIGZpbmRSZXBsaWVzLFxyXG4gICAgaW5zZXJ0LFxyXG4gICAgcmVtb3ZlLFxyXG4gICAgdXBkYXRlLFxyXG4gICAgZmluZE1haW5Db21tZW50c1xyXG4gIH0pXHJcbiAgLyphc3luYyBmdW5jdGlvbiBmaW5kQWxsICh7IHB1Ymxpc2hlZE9ubHkgPSB0cnVlIH0gPSB7fSkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBtYWtlRGIoKVxyXG4gICAgY29uc3QgcXVlcnkgPSBwdWJsaXNoZWRPbmx5ID8geyBwdWJsaXNoZWQ6IHRydWUgfSA6IHt9XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdjb21tZW50cycpLmZpbmQocXVlcnkpXHJcbiAgICByZXR1cm4gKGF3YWl0IHJlc3VsdC50b0FycmF5KCkpLm1hcCgoeyBfaWQ6IGlkLCAuLi5mb3VuZCB9KSA9PiAoe1xyXG4gICAgICBpZCxcclxuICAgICAgLi4uZm91bmRcclxuICAgIH0pKVxyXG4gIH0qL1xyXG5cclxuICBhc3luYyBmdW5jdGlvbiBmaW5kQWxsICh7IHB1Ymxpc2hlZE9ubHkgPSB0cnVlIH0gPSB7fSkge1xyXG4gICAgY29uc3QgZGIgPSBvZihtYWtlRGIoKSlcclxuICAgIGNvbnN0IHF1ZXJ5ID0gcHVibGlzaGVkT25seSA/IHsgcHVibGlzaGVkOiB0cnVlIH0gOiB7fVxyXG4gICAgY29uc3Qgc291cmNlID0gb2YoZGIuc3Vic2NyaWJlKGJhc2UgPT4gYmFzZS5jb2xsZWN0aW9uKCdjb21tZW50cycpLmZpbmQocXVlcnkpKSlcclxuICAgIHJldHVybiAoc291cmNlLnN1YnNjcmliZSh2YWwgPT4gdmFsLnRvQXJyYXkoKS5tYXAoKHsgX2lkOiBpZCwgLi4uZm91bmQgfSkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIC4uLmZvdW5kXHJcbiAgICB9KSkpKVxyXG4gIH1cclxuXHJcbiAgXHJcbiAgYXN5bmMgZnVuY3Rpb24gZmluZE1haW5Db21tZW50cyAoeyBwdWJsaXNoZWRPbmx5ID0gdHJ1ZSB9ID0ge30pIHtcclxuICAgIGNvbnN0IGRiID0gb2YobWFrZURiKCkpXHJcbiAgICBjb25zdCBxdWVyeSA9IHB1Ymxpc2hlZE9ubHkgPyB7IHJlcGx5VG9JZDogbnVsbCB9IDoge31cclxuICAgIGNvbnN0IHNvdXJjZSA9IG9mKGRiLnN1YnNjcmliZShiYXNlID0+IGJhc2UuY29sbGVjdGlvbignY29tbWVudHMnKS5maW5kKHF1ZXJ5KSkpXHJcbiAgICByZXR1cm4gKHNvdXJjZS5zdWJzY3JpYmUodmFsID0+IHZhbC50b0FycmF5KCkubWFwKCh7IF9pZDogaWQsIC4uLmZvdW5kIH0pID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICAuLi5mb3VuZFxyXG4gICAgfSkpKSlcclxuXHJcbiAgfVxyXG4gIGFzeW5jIGZ1bmN0aW9uIGZpbmRCeUlkICh7IGlkOiBfaWQgfSkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBtYWtlRGIoKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbignY29tbWVudHMnKS5maW5kKHsgX2lkIH0pXHJcbiAgICBjb25zdCBmb3VuZCA9IGF3YWl0IHJlc3VsdC50b0FycmF5KClcclxuICAgIGlmIChmb3VuZC5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICAgIGNvbnN0IHsgX2lkOiBpZCwgLi4uaW5mbyB9ID0gZm91bmRbMF1cclxuICAgIHJldHVybiB7IGlkLCAuLi5pbmZvIH1cclxuICB9XHJcbiAgYXN5bmMgZnVuY3Rpb24gZmluZEJ5UG9zdElkICh7IHBvc3RJZCwgb21pdFJlcGxpZXMgPSB0cnVlIH0pIHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgbWFrZURiKClcclxuICAgIGNvbnN0IHF1ZXJ5ID0geyBwb3N0SWQ6IHBvc3RJZCB9XHJcbiAgICBpZiAob21pdFJlcGxpZXMpIHtcclxuICAgICAgcXVlcnkucmVwbHlUb0lkID0gbnVsbFxyXG4gICAgfVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbignY29tbWVudHMnKS5maW5kKHF1ZXJ5KVxyXG4gICAgcmV0dXJuIChhd2FpdCByZXN1bHQudG9BcnJheSgpKS5tYXAoKHsgX2lkOiBpZCwgLi4uZm91bmQgfSkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIC4uLmZvdW5kXHJcbiAgICB9KSlcclxuICB9XHJcbiAgYXN5bmMgZnVuY3Rpb24gZmluZFJlcGxpZXMgKHsgY29tbWVudElkLCBwdWJsaXNoZWRPbmx5ID0gdHJ1ZSB9KSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IG1ha2VEYigpXHJcbiAgICBjb25zdCBxdWVyeSA9IHB1Ymxpc2hlZE9ubHlcclxuICAgICAgPyB7IHB1Ymxpc2hlZDogdHJ1ZSwgcmVwbHlUb0lkOiBjb21tZW50SWQgfVxyXG4gICAgICA6IHsgcmVwbHlUb0lkOiBjb21tZW50SWQgfVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbignY29tbWVudHMnKS5maW5kKHF1ZXJ5KVxyXG4gICAgcmV0dXJuIChhd2FpdCByZXN1bHQudG9BcnJheSgpKS5tYXAoKHsgX2lkOiBpZCwgLi4uZm91bmQgfSkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIC4uLmZvdW5kXHJcbiAgICB9KSlcclxuICB9XHJcbiAgYXN5bmMgZnVuY3Rpb24gaW5zZXJ0ICh7IGlkOiBfaWQgPSBJZC5tYWtlSWQoKSwgLi4uY29tbWVudEluZm8gfSkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBtYWtlRGIoKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGJcclxuICAgICAgLmNvbGxlY3Rpb24oJ2NvbW1lbnRzJylcclxuICAgICAgLmluc2VydE9uZSh7IF9pZCwgLi4uY29tbWVudEluZm8gfSlcclxuICAgIGNvbnN0IHsgX2lkOiBpZCwgLi4uaW5zZXJ0ZWRJbmZvIH0gPSByZXN1bHQub3BzWzBdXHJcbiAgICByZXR1cm4geyBpZCwgLi4uaW5zZXJ0ZWRJbmZvIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZSAoeyBpZDogX2lkLCAuLi5jb21tZW50SW5mbyB9KSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IG1ha2VEYigpXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYlxyXG4gICAgICAuY29sbGVjdGlvbignY29tbWVudHMnKVxyXG4gICAgICAudXBkYXRlT25lKHsgX2lkIH0sIHsgJHNldDogeyAuLi5jb21tZW50SW5mbyB9IH0pXHJcbiAgICByZXR1cm4gcmVzdWx0Lm1vZGlmaWVkQ291bnQgPiAwID8geyBpZDogX2lkLCAuLi5jb21tZW50SW5mbyB9IDogbnVsbFxyXG4gIH1cclxuICBhc3luYyBmdW5jdGlvbiByZW1vdmUgKHsgaWQ6IF9pZCB9KSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IG1ha2VEYigpXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdjb21tZW50cycpLmRlbGV0ZU9uZSh7IF9pZCB9KVxyXG4gICAgcmV0dXJuIHJlc3VsdC5kZWxldGVkQ291bnRcclxuICB9XHJcbiAgYXN5bmMgZnVuY3Rpb24gZmluZEJ5SGFzaCAoY29tbWVudCkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBtYWtlRGIoKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbignY29tbWVudHMnKS5maW5kKHsgaGFzaDogY29tbWVudC5oYXNoIH0pXHJcbiAgICBjb25zdCBmb3VuZCA9IGF3YWl0IHJlc3VsdC50b0FycmF5KClcclxuICAgIGlmIChmb3VuZC5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICAgIGNvbnN0IHsgX2lkOiBpZCwgLi4uaW5zZXJ0ZWRJbmZvIH0gPSBmb3VuZFswXVxyXG4gICAgcmV0dXJuIHsgaWQsIC4uLmluc2VydGVkSW5mbyB9XHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "comments-db.js"
      ],
      "names": [
        "makeCommentsDb",
        "makeDb",
        "Object",
        "freeze",
        "findAll",
        "findByHash",
        "findById",
        "findByPostId",
        "findReplies",
        "insert",
        "remove",
        "update",
        "findMainComments",
        "publishedOnly",
        "db",
        "query",
        "published",
        "source",
        "subscribe",
        "base",
        "collection",
        "find",
        "val",
        "toArray",
        "map",
        "_id",
        "id",
        "found",
        "replyToId",
        "result",
        "length",
        "info",
        "postId",
        "omitReplies",
        "commentId",
        "Id",
        "makeId",
        "commentInfo",
        "insertOne",
        "insertedInfo",
        "ops",
        "updateOne",
        "$set",
        "modifiedCount",
        "deleteOne",
        "deletedCount",
        "comment",
        "hash"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
      "sourcesContent": [
        "import Id from '../Id'\r\nimport {of} from 'rxjs'\r\n\r\nexport default function makeCommentsDb ({ makeDb }) {\r\n  return Object.freeze({\r\n    findAll,\r\n    findByHash,\r\n    findById,\r\n    findByPostId,\r\n    findReplies,\r\n    insert,\r\n    remove,\r\n    update,\r\n    findMainComments\r\n  })\r\n  /*async function findAll ({ publishedOnly = true } = {}) {\r\n    const db = await makeDb()\r\n    const query = publishedOnly ? { published: true } : {}\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n  }*/\r\n\r\n  async function findAll ({ publishedOnly = true } = {}) {\r\n    const db = of(makeDb())\r\n    const query = publishedOnly ? { published: true } : {}\r\n    const source = of(db.subscribe(base => base.collection('comments').find(query)))\r\n    return (source.subscribe(val => val.toArray().map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))))\r\n  }\r\n\r\n  \r\n  async function findMainComments ({ publishedOnly = true } = {}) {\r\n    const db = of(makeDb())\r\n    const query = publishedOnly ? { replyToId: null } : {}\r\n    const source = of(db.subscribe(base => base.collection('comments').find(query)))\r\n    return (source.subscribe(val => val.toArray().map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))))\r\n\r\n  }\r\n  async function findById ({ id: _id }) {\r\n    const db = await makeDb()\r\n    const result = await db.collection('comments').find({ _id })\r\n    const found = await result.toArray()\r\n    if (found.length === 0) {\r\n      return null\r\n    }\r\n    const { _id: id, ...info } = found[0]\r\n    return { id, ...info }\r\n  }\r\n  async function findByPostId ({ postId, omitReplies = true }) {\r\n    const db = await makeDb()\r\n    const query = { postId: postId }\r\n    if (omitReplies) {\r\n      query.replyToId = null\r\n    }\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n  }\r\n  async function findReplies ({ commentId, publishedOnly = true }) {\r\n    const db = await makeDb()\r\n    const query = publishedOnly\r\n      ? { published: true, replyToId: commentId }\r\n      : { replyToId: commentId }\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n  }\r\n  async function insert ({ id: _id = Id.makeId(), ...commentInfo }) {\r\n    const db = await makeDb()\r\n    const result = await db\r\n      .collection('comments')\r\n      .insertOne({ _id, ...commentInfo })\r\n    const { _id: id, ...insertedInfo } = result.ops[0]\r\n    return { id, ...insertedInfo }\r\n  }\r\n\r\n  async function update ({ id: _id, ...commentInfo }) {\r\n    const db = await makeDb()\r\n    const result = await db\r\n      .collection('comments')\r\n      .updateOne({ _id }, { $set: { ...commentInfo } })\r\n    return result.modifiedCount > 0 ? { id: _id, ...commentInfo } : null\r\n  }\r\n  async function remove ({ id: _id }) {\r\n    const db = await makeDb()\r\n    const result = await db.collection('comments').deleteOne({ _id })\r\n    return result.deletedCount\r\n  }\r\n  async function findByHash (comment) {\r\n    const db = await makeDb()\r\n    const result = await db.collection('comments').find({ hash: comment.hash })\r\n    const found = await result.toArray()\r\n    if (found.length === 0) {\r\n      return null\r\n    }\r\n    const { _id: id, ...insertedInfo } = found[0]\r\n    return { id, ...insertedInfo }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625586274107
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\delete-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\delete-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\delete-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\delete-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "delete-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeDeleteComment;\n\nfunction makeDeleteComment({\n  removeComment\n}) {\n  return async function deleteComment(httpRequest) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n\n    try {\n      const deleted = await removeComment({\n        id: httpRequest.params.id\n      });\n      return {\n        headers,\n        statusCode: deleted.deletedCount === 0 ? 404 : 200,\n        body: {\n          deleted\n        }\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers,\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlbGV0ZS1jb21tZW50LmpzIl0sIm5hbWVzIjpbIm1ha2VEZWxldGVDb21tZW50IiwicmVtb3ZlQ29tbWVudCIsImRlbGV0ZUNvbW1lbnQiLCJodHRwUmVxdWVzdCIsImhlYWRlcnMiLCJkZWxldGVkIiwiaWQiLCJwYXJhbXMiLCJzdGF0dXNDb2RlIiwiZGVsZXRlZENvdW50IiwiYm9keSIsImUiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWUsU0FBU0EsaUJBQVQsQ0FBNEI7QUFBRUMsRUFBQUE7QUFBRixDQUE1QixFQUErQztBQUM1RCxTQUFPLGVBQWVDLGFBQWYsQ0FBOEJDLFdBQTlCLEVBQTJDO0FBQ2hELFVBQU1DLE9BQU8sR0FBRztBQUNkLHNCQUFnQjtBQURGLEtBQWhCOztBQUdBLFFBQUk7QUFDRixZQUFNQyxPQUFPLEdBQUcsTUFBTUosYUFBYSxDQUFDO0FBQUVLLFFBQUFBLEVBQUUsRUFBRUgsV0FBVyxDQUFDSSxNQUFaLENBQW1CRDtBQUF6QixPQUFELENBQW5DO0FBQ0EsYUFBTztBQUNMRixRQUFBQSxPQURLO0FBRUxJLFFBQUFBLFVBQVUsRUFBRUgsT0FBTyxDQUFDSSxZQUFSLEtBQXlCLENBQXpCLEdBQTZCLEdBQTdCLEdBQW1DLEdBRjFDO0FBR0xDLFFBQUFBLElBQUksRUFBRTtBQUFFTCxVQUFBQTtBQUFGO0FBSEQsT0FBUDtBQUtELEtBUEQsQ0FPRSxPQUFPTSxDQUFQLEVBQVU7QUFDVjtBQUNBQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsQ0FBWjtBQUNBLGFBQU87QUFDTFAsUUFBQUEsT0FESztBQUVMSSxRQUFBQSxVQUFVLEVBQUUsR0FGUDtBQUdMRSxRQUFBQSxJQUFJLEVBQUU7QUFDSkksVUFBQUEsS0FBSyxFQUFFSCxDQUFDLENBQUNJO0FBREw7QUFIRCxPQUFQO0FBT0Q7QUFDRixHQXRCRDtBQXVCRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlRGVsZXRlQ29tbWVudCAoeyByZW1vdmVDb21tZW50IH0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ29tbWVudCAoaHR0cFJlcXVlc3QpIHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRlbGV0ZWQgPSBhd2FpdCByZW1vdmVDb21tZW50KHsgaWQ6IGh0dHBSZXF1ZXN0LnBhcmFtcy5pZCB9KVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGhlYWRlcnMsXHJcbiAgICAgICAgc3RhdHVzQ29kZTogZGVsZXRlZC5kZWxldGVkQ291bnQgPT09IDAgPyA0MDQgOiAyMDAsXHJcbiAgICAgICAgYm9keTogeyBkZWxldGVkIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAvLyBUT0RPOiBFcnJvciBsb2dnaW5nXHJcbiAgICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVycyxcclxuICAgICAgICBzdGF0dXNDb2RlOiA0MDAsXHJcbiAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgZXJyb3I6IGUubWVzc2FnZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "delete-comment.js"
      ],
      "names": [
        "makeDeleteComment",
        "removeComment",
        "deleteComment",
        "httpRequest",
        "headers",
        "deleted",
        "id",
        "params",
        "statusCode",
        "deletedCount",
        "body",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,iBAAT,CAA4B;AAAEC,EAAAA;AAAF,CAA5B,EAA+C;AAC5D,SAAO,eAAeC,aAAf,CAA8BC,WAA9B,EAA2C;AAChD,UAAMC,OAAO,GAAG;AACd,sBAAgB;AADF,KAAhB;;AAGA,QAAI;AACF,YAAMC,OAAO,GAAG,MAAMJ,aAAa,CAAC;AAAEK,QAAAA,EAAE,EAAEH,WAAW,CAACI,MAAZ,CAAmBD;AAAzB,OAAD,CAAnC;AACA,aAAO;AACLF,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAEH,OAAO,CAACI,YAAR,KAAyB,CAAzB,GAA6B,GAA7B,GAAmC,GAF1C;AAGLC,QAAAA,IAAI,EAAE;AAAEL,UAAAA;AAAF;AAHD,OAAP;AAKD,KAPD,CAOE,OAAOM,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,aAAO;AACLP,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLE,QAAAA,IAAI,EAAE;AACJI,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AAHD,OAAP;AAOD;AACF,GAtBD;AAuBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default function makeDeleteComment ({ removeComment }) {\r\n  return async function deleteComment (httpRequest) {\r\n    const headers = {\r\n      'Content-Type': 'application/json'\r\n    }\r\n    try {\r\n      const deleted = await removeComment({ id: httpRequest.params.id })\r\n      return {\r\n        headers,\r\n        statusCode: deleted.deletedCount === 0 ? 404 : 200,\r\n        body: { deleted }\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n      return {\r\n        headers,\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625185754730
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\get-comments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-comments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-comments.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-comments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "get-comments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeGetComments;\n\nfunction makeGetComments({\n  listComments\n}) {\n  return async function getComments(httpRequest) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n\n    try {\n      const postComments = await listComments({\n        postId: httpRequest.query.postId\n      });\n      return {\n        headers,\n        statusCode: 200,\n        body: postComments\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers,\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldC1jb21tZW50cy5qcyJdLCJuYW1lcyI6WyJtYWtlR2V0Q29tbWVudHMiLCJsaXN0Q29tbWVudHMiLCJnZXRDb21tZW50cyIsImh0dHBSZXF1ZXN0IiwiaGVhZGVycyIsInBvc3RDb21tZW50cyIsInBvc3RJZCIsInF1ZXJ5Iiwic3RhdHVzQ29kZSIsImJvZHkiLCJlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGVBQVQsQ0FBMEI7QUFBRUMsRUFBQUE7QUFBRixDQUExQixFQUE0QztBQUN6RCxTQUFPLGVBQWVDLFdBQWYsQ0FBNEJDLFdBQTVCLEVBQXlDO0FBQzlDLFVBQU1DLE9BQU8sR0FBRztBQUNkLHNCQUFnQjtBQURGLEtBQWhCOztBQUdBLFFBQUk7QUFDRixZQUFNQyxZQUFZLEdBQUcsTUFBTUosWUFBWSxDQUFDO0FBQ3RDSyxRQUFBQSxNQUFNLEVBQUVILFdBQVcsQ0FBQ0ksS0FBWixDQUFrQkQ7QUFEWSxPQUFELENBQXZDO0FBR0EsYUFBTztBQUNMRixRQUFBQSxPQURLO0FBRUxJLFFBQUFBLFVBQVUsRUFBRSxHQUZQO0FBR0xDLFFBQUFBLElBQUksRUFBRUo7QUFIRCxPQUFQO0FBS0QsS0FURCxDQVNFLE9BQU9LLENBQVAsRUFBVTtBQUNWO0FBQ0FDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixDQUFaO0FBQ0EsYUFBTztBQUNMTixRQUFBQSxPQURLO0FBRUxJLFFBQUFBLFVBQVUsRUFBRSxHQUZQO0FBR0xDLFFBQUFBLElBQUksRUFBRTtBQUNKSSxVQUFBQSxLQUFLLEVBQUVILENBQUMsQ0FBQ0k7QUFETDtBQUhELE9BQVA7QUFPRDtBQUNGLEdBeEJEO0FBeUJEIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFxjb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VHZXRDb21tZW50cyAoeyBsaXN0Q29tbWVudHMgfSkge1xyXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBnZXRDb21tZW50cyAoaHR0cFJlcXVlc3QpIHtcclxuICAgIGNvbnN0IGhlYWRlcnMgPSB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHBvc3RDb21tZW50cyA9IGF3YWl0IGxpc3RDb21tZW50cyh7XHJcbiAgICAgICAgcG9zdElkOiBodHRwUmVxdWVzdC5xdWVyeS5wb3N0SWRcclxuICAgICAgfSlcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFkZXJzLFxyXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcclxuICAgICAgICBib2R5OiBwb3N0Q29tbWVudHNcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAvLyBUT0RPOiBFcnJvciBsb2dnaW5nXHJcbiAgICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVycyxcclxuICAgICAgICBzdGF0dXNDb2RlOiA0MDAsXHJcbiAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgZXJyb3I6IGUubWVzc2FnZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "get-comments.js"
      ],
      "names": [
        "makeGetComments",
        "listComments",
        "getComments",
        "httpRequest",
        "headers",
        "postComments",
        "postId",
        "query",
        "statusCode",
        "body",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,eAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAA4C;AACzD,SAAO,eAAeC,WAAf,CAA4BC,WAA5B,EAAyC;AAC9C,UAAMC,OAAO,GAAG;AACd,sBAAgB;AADF,KAAhB;;AAGA,QAAI;AACF,YAAMC,YAAY,GAAG,MAAMJ,YAAY,CAAC;AACtCK,QAAAA,MAAM,EAAEH,WAAW,CAACI,KAAZ,CAAkBD;AADY,OAAD,CAAvC;AAGA,aAAO;AACLF,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLC,QAAAA,IAAI,EAAEJ;AAHD,OAAP;AAKD,KATD,CASE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,aAAO;AACLN,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLC,QAAAA,IAAI,EAAE;AACJI,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AAHD,OAAP;AAOD;AACF,GAxBD;AAyBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default function makeGetComments ({ listComments }) {\r\n  return async function getComments (httpRequest) {\r\n    const headers = {\r\n      'Content-Type': 'application/json'\r\n    }\r\n    try {\r\n      const postComments = await listComments({\r\n        postId: httpRequest.query.postId\r\n      })\r\n      return {\r\n        headers,\r\n        statusCode: 200,\r\n        body: postComments\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n      return {\r\n        headers,\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671595
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\post-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\post-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\post-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\post-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "post-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makePostComment;\n\nfunction makePostComment({\n  addComment\n}) {\n  return async function postComment(httpRequest) {\n    try {\n      const {\n        source = {},\n        ...commentInfo\n      } = httpRequest.body;\n      source.ip = httpRequest.ip;\n      source.browser = httpRequest.headers['User-Agent'];\n\n      if (httpRequest.headers['Referer']) {\n        source.referrer = httpRequest.headers['Referer'];\n      }\n\n      const posted = await addComment({ ...commentInfo,\n        source\n      });\n      return {\n        headers: {\n          'Content-Type': 'application/json',\n          'Last-Modified': new Date(posted.modifiedOn).toUTCString()\n        },\n        statusCode: 201,\n        body: {\n          posted\n        }\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QtY29tbWVudC5qcyJdLCJuYW1lcyI6WyJtYWtlUG9zdENvbW1lbnQiLCJhZGRDb21tZW50IiwicG9zdENvbW1lbnQiLCJodHRwUmVxdWVzdCIsInNvdXJjZSIsImNvbW1lbnRJbmZvIiwiYm9keSIsImlwIiwiYnJvd3NlciIsImhlYWRlcnMiLCJyZWZlcnJlciIsInBvc3RlZCIsIkRhdGUiLCJtb2RpZmllZE9uIiwidG9VVENTdHJpbmciLCJzdGF0dXNDb2RlIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZSxTQUFTQSxlQUFULENBQTBCO0FBQUVDLEVBQUFBO0FBQUYsQ0FBMUIsRUFBMEM7QUFDdkQsU0FBTyxlQUFlQyxXQUFmLENBQTRCQyxXQUE1QixFQUF5QztBQUM5QyxRQUFJO0FBQ0YsWUFBTTtBQUFFQyxRQUFBQSxNQUFNLEdBQUcsRUFBWDtBQUFlLFdBQUdDO0FBQWxCLFVBQWtDRixXQUFXLENBQUNHLElBQXBEO0FBQ0FGLE1BQUFBLE1BQU0sQ0FBQ0csRUFBUCxHQUFZSixXQUFXLENBQUNJLEVBQXhCO0FBQ0FILE1BQUFBLE1BQU0sQ0FBQ0ksT0FBUCxHQUFpQkwsV0FBVyxDQUFDTSxPQUFaLENBQW9CLFlBQXBCLENBQWpCOztBQUNBLFVBQUlOLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFKLEVBQW9DO0FBQ2xDTCxRQUFBQSxNQUFNLENBQUNNLFFBQVAsR0FBa0JQLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFsQjtBQUNEOztBQUNELFlBQU1FLE1BQU0sR0FBRyxNQUFNVixVQUFVLENBQUMsRUFDOUIsR0FBR0ksV0FEMkI7QUFFOUJELFFBQUFBO0FBRjhCLE9BQUQsQ0FBL0I7QUFJQSxhQUFPO0FBQ0xLLFFBQUFBLE9BQU8sRUFBRTtBQUNQLDBCQUFnQixrQkFEVDtBQUVQLDJCQUFpQixJQUFJRyxJQUFKLENBQVNELE1BQU0sQ0FBQ0UsVUFBaEIsRUFBNEJDLFdBQTVCO0FBRlYsU0FESjtBQUtMQyxRQUFBQSxVQUFVLEVBQUUsR0FMUDtBQU1MVCxRQUFBQSxJQUFJLEVBQUU7QUFBRUssVUFBQUE7QUFBRjtBQU5ELE9BQVA7QUFRRCxLQW5CRCxDQW1CRSxPQUFPSyxDQUFQLEVBQVU7QUFDVjtBQUNBQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsQ0FBWjtBQUVBLGFBQU87QUFDTFAsUUFBQUEsT0FBTyxFQUFFO0FBQ1AsMEJBQWdCO0FBRFQsU0FESjtBQUlMTSxRQUFBQSxVQUFVLEVBQUUsR0FKUDtBQUtMVCxRQUFBQSxJQUFJLEVBQUU7QUFDSmEsVUFBQUEsS0FBSyxFQUFFSCxDQUFDLENBQUNJO0FBREw7QUFMRCxPQUFQO0FBU0Q7QUFDRixHQWxDRDtBQW1DRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlUG9zdENvbW1lbnQgKHsgYWRkQ29tbWVudCB9KSB7XHJcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHBvc3RDb21tZW50IChodHRwUmVxdWVzdCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBzb3VyY2UgPSB7fSwgLi4uY29tbWVudEluZm8gfSA9IGh0dHBSZXF1ZXN0LmJvZHlcclxuICAgICAgc291cmNlLmlwID0gaHR0cFJlcXVlc3QuaXBcclxuICAgICAgc291cmNlLmJyb3dzZXIgPSBodHRwUmVxdWVzdC5oZWFkZXJzWydVc2VyLUFnZW50J11cclxuICAgICAgaWYgKGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ1JlZmVyZXInXSkge1xyXG4gICAgICAgIHNvdXJjZS5yZWZlcnJlciA9IGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ1JlZmVyZXInXVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHBvc3RlZCA9IGF3YWl0IGFkZENvbW1lbnQoe1xyXG4gICAgICAgIC4uLmNvbW1lbnRJbmZvLFxyXG4gICAgICAgIHNvdXJjZVxyXG4gICAgICB9KVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAnTGFzdC1Nb2RpZmllZCc6IG5ldyBEYXRlKHBvc3RlZC5tb2RpZmllZE9uKS50b1VUQ1N0cmluZygpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdGF0dXNDb2RlOiAyMDEsXHJcbiAgICAgICAgYm9keTogeyBwb3N0ZWQgfVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIC8vIFRPRE86IEVycm9yIGxvZ2dpbmdcclxuICAgICAgY29uc29sZS5sb2coZSlcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RhdHVzQ29kZTogNDAwLFxyXG4gICAgICAgIGJvZHk6IHtcclxuICAgICAgICAgIGVycm9yOiBlLm1lc3NhZ2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "post-comment.js"
      ],
      "names": [
        "makePostComment",
        "addComment",
        "postComment",
        "httpRequest",
        "source",
        "commentInfo",
        "body",
        "ip",
        "browser",
        "headers",
        "referrer",
        "posted",
        "Date",
        "modifiedOn",
        "toUTCString",
        "statusCode",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,eAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAA0C;AACvD,SAAO,eAAeC,WAAf,CAA4BC,WAA5B,EAAyC;AAC9C,QAAI;AACF,YAAM;AAAEC,QAAAA,MAAM,GAAG,EAAX;AAAe,WAAGC;AAAlB,UAAkCF,WAAW,CAACG,IAApD;AACAF,MAAAA,MAAM,CAACG,EAAP,GAAYJ,WAAW,CAACI,EAAxB;AACAH,MAAAA,MAAM,CAACI,OAAP,GAAiBL,WAAW,CAACM,OAAZ,CAAoB,YAApB,CAAjB;;AACA,UAAIN,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAJ,EAAoC;AAClCL,QAAAA,MAAM,CAACM,QAAP,GAAkBP,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAlB;AACD;;AACD,YAAME,MAAM,GAAG,MAAMV,UAAU,CAAC,EAC9B,GAAGI,WAD2B;AAE9BD,QAAAA;AAF8B,OAAD,CAA/B;AAIA,aAAO;AACLK,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,2BAAiB,IAAIG,IAAJ,CAASD,MAAM,CAACE,UAAhB,EAA4BC,WAA5B;AAFV,SADJ;AAKLC,QAAAA,UAAU,EAAE,GALP;AAMLT,QAAAA,IAAI,EAAE;AAAEK,UAAAA;AAAF;AAND,OAAP;AAQD,KAnBD,CAmBE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AAEA,aAAO;AACLP,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SADJ;AAILM,QAAAA,UAAU,EAAE,GAJP;AAKLT,QAAAA,IAAI,EAAE;AACJa,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AALD,OAAP;AASD;AACF,GAlCD;AAmCD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default function makePostComment ({ addComment }) {\r\n  return async function postComment (httpRequest) {\r\n    try {\r\n      const { source = {}, ...commentInfo } = httpRequest.body\r\n      source.ip = httpRequest.ip\r\n      source.browser = httpRequest.headers['User-Agent']\r\n      if (httpRequest.headers['Referer']) {\r\n        source.referrer = httpRequest.headers['Referer']\r\n      }\r\n      const posted = await addComment({\r\n        ...commentInfo,\r\n        source\r\n      })\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Last-Modified': new Date(posted.modifiedOn).toUTCString()\r\n        },\r\n        statusCode: 201,\r\n        body: { posted }\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671598
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\patch-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\patch-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\patch-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\patch-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "patch-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makePatchComment;\n\nfunction makePatchComment({\n  editComment\n}) {\n  return async function patchComment(httpRequest) {\n    try {\n      const {\n        source = {},\n        ...commentInfo\n      } = httpRequest.body;\n      source.ip = httpRequest.ip;\n      source.browser = httpRequest.headers['User-Agent'];\n\n      if (httpRequest.headers['Referer']) {\n        source.referrer = httpRequest.headers['Referer'];\n      }\n\n      const toEdit = { ...commentInfo,\n        source,\n        id: httpRequest.params.id\n      };\n      const patched = await editComment(toEdit);\n      return {\n        headers: {\n          'Content-Type': 'application/json',\n          'Last-Modified': new Date(patched.modifiedOn).toUTCString()\n        },\n        statusCode: 200,\n        body: {\n          patched\n        }\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n\n      if (e.name === 'RangeError') {\n        return {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          statusCode: 404,\n          body: {\n            error: e.message\n          }\n        };\n      }\n\n      return {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhdGNoLWNvbW1lbnQuanMiXSwibmFtZXMiOlsibWFrZVBhdGNoQ29tbWVudCIsImVkaXRDb21tZW50IiwicGF0Y2hDb21tZW50IiwiaHR0cFJlcXVlc3QiLCJzb3VyY2UiLCJjb21tZW50SW5mbyIsImJvZHkiLCJpcCIsImJyb3dzZXIiLCJoZWFkZXJzIiwicmVmZXJyZXIiLCJ0b0VkaXQiLCJpZCIsInBhcmFtcyIsInBhdGNoZWQiLCJEYXRlIiwibW9kaWZpZWRPbiIsInRvVVRDU3RyaW5nIiwic3RhdHVzQ29kZSIsImUiLCJjb25zb2xlIiwibG9nIiwibmFtZSIsImVycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGdCQUFULENBQTJCO0FBQUVDLEVBQUFBO0FBQUYsQ0FBM0IsRUFBNEM7QUFDekQsU0FBTyxlQUFlQyxZQUFmLENBQTZCQyxXQUE3QixFQUEwQztBQUMvQyxRQUFJO0FBQ0YsWUFBTTtBQUFFQyxRQUFBQSxNQUFNLEdBQUcsRUFBWDtBQUFlLFdBQUdDO0FBQWxCLFVBQWtDRixXQUFXLENBQUNHLElBQXBEO0FBQ0FGLE1BQUFBLE1BQU0sQ0FBQ0csRUFBUCxHQUFZSixXQUFXLENBQUNJLEVBQXhCO0FBQ0FILE1BQUFBLE1BQU0sQ0FBQ0ksT0FBUCxHQUFpQkwsV0FBVyxDQUFDTSxPQUFaLENBQW9CLFlBQXBCLENBQWpCOztBQUNBLFVBQUlOLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFKLEVBQW9DO0FBQ2xDTCxRQUFBQSxNQUFNLENBQUNNLFFBQVAsR0FBa0JQLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFsQjtBQUNEOztBQUNELFlBQU1FLE1BQU0sR0FBRyxFQUNiLEdBQUdOLFdBRFU7QUFFYkQsUUFBQUEsTUFGYTtBQUdiUSxRQUFBQSxFQUFFLEVBQUVULFdBQVcsQ0FBQ1UsTUFBWixDQUFtQkQ7QUFIVixPQUFmO0FBS0EsWUFBTUUsT0FBTyxHQUFHLE1BQU1iLFdBQVcsQ0FBQ1UsTUFBRCxDQUFqQztBQUNBLGFBQU87QUFDTEYsUUFBQUEsT0FBTyxFQUFFO0FBQ1AsMEJBQWdCLGtCQURUO0FBRVAsMkJBQWlCLElBQUlNLElBQUosQ0FBU0QsT0FBTyxDQUFDRSxVQUFqQixFQUE2QkMsV0FBN0I7QUFGVixTQURKO0FBS0xDLFFBQUFBLFVBQVUsRUFBRSxHQUxQO0FBTUxaLFFBQUFBLElBQUksRUFBRTtBQUFFUSxVQUFBQTtBQUFGO0FBTkQsT0FBUDtBQVFELEtBckJELENBcUJFLE9BQU9LLENBQVAsRUFBVTtBQUNWO0FBQ0FDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixDQUFaOztBQUNBLFVBQUlBLENBQUMsQ0FBQ0csSUFBRixLQUFXLFlBQWYsRUFBNkI7QUFDM0IsZUFBTztBQUNMYixVQUFBQSxPQUFPLEVBQUU7QUFDUCw0QkFBZ0I7QUFEVCxXQURKO0FBSUxTLFVBQUFBLFVBQVUsRUFBRSxHQUpQO0FBS0xaLFVBQUFBLElBQUksRUFBRTtBQUNKaUIsWUFBQUEsS0FBSyxFQUFFSixDQUFDLENBQUNLO0FBREw7QUFMRCxTQUFQO0FBU0Q7O0FBQ0QsYUFBTztBQUNMZixRQUFBQSxPQUFPLEVBQUU7QUFDUCwwQkFBZ0I7QUFEVCxTQURKO0FBSUxTLFFBQUFBLFVBQVUsRUFBRSxHQUpQO0FBS0xaLFFBQUFBLElBQUksRUFBRTtBQUNKaUIsVUFBQUEsS0FBSyxFQUFFSixDQUFDLENBQUNLO0FBREw7QUFMRCxPQUFQO0FBU0Q7QUFDRixHQTlDRDtBQStDRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXGFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlUGF0Y2hDb21tZW50ICh7IGVkaXRDb21tZW50IH0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gcGF0Y2hDb21tZW50IChodHRwUmVxdWVzdCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBzb3VyY2UgPSB7fSwgLi4uY29tbWVudEluZm8gfSA9IGh0dHBSZXF1ZXN0LmJvZHlcclxuICAgICAgc291cmNlLmlwID0gaHR0cFJlcXVlc3QuaXBcclxuICAgICAgc291cmNlLmJyb3dzZXIgPSBodHRwUmVxdWVzdC5oZWFkZXJzWydVc2VyLUFnZW50J11cclxuICAgICAgaWYgKGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ1JlZmVyZXInXSkge1xyXG4gICAgICAgIHNvdXJjZS5yZWZlcnJlciA9IGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ1JlZmVyZXInXVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHRvRWRpdCA9IHtcclxuICAgICAgICAuLi5jb21tZW50SW5mbyxcclxuICAgICAgICBzb3VyY2UsXHJcbiAgICAgICAgaWQ6IGh0dHBSZXF1ZXN0LnBhcmFtcy5pZFxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHBhdGNoZWQgPSBhd2FpdCBlZGl0Q29tbWVudCh0b0VkaXQpXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICdMYXN0LU1vZGlmaWVkJzogbmV3IERhdGUocGF0Y2hlZC5tb2RpZmllZE9uKS50b1VUQ1N0cmluZygpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXHJcbiAgICAgICAgYm9keTogeyBwYXRjaGVkIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAvLyBUT0RPOiBFcnJvciBsb2dnaW5nXHJcbiAgICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICAgIGlmIChlLm5hbWUgPT09ICdSYW5nZUVycm9yJykge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzdGF0dXNDb2RlOiA0MDQsXHJcbiAgICAgICAgICBib2R5OiB7XHJcbiAgICAgICAgICAgIGVycm9yOiBlLm1lc3NhZ2VcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdGF0dXNDb2RlOiA0MDAsXHJcbiAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgZXJyb3I6IGUubWVzc2FnZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "patch-comment.js"
      ],
      "names": [
        "makePatchComment",
        "editComment",
        "patchComment",
        "httpRequest",
        "source",
        "commentInfo",
        "body",
        "ip",
        "browser",
        "headers",
        "referrer",
        "toEdit",
        "id",
        "params",
        "patched",
        "Date",
        "modifiedOn",
        "toUTCString",
        "statusCode",
        "e",
        "console",
        "log",
        "name",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,gBAAT,CAA2B;AAAEC,EAAAA;AAAF,CAA3B,EAA4C;AACzD,SAAO,eAAeC,YAAf,CAA6BC,WAA7B,EAA0C;AAC/C,QAAI;AACF,YAAM;AAAEC,QAAAA,MAAM,GAAG,EAAX;AAAe,WAAGC;AAAlB,UAAkCF,WAAW,CAACG,IAApD;AACAF,MAAAA,MAAM,CAACG,EAAP,GAAYJ,WAAW,CAACI,EAAxB;AACAH,MAAAA,MAAM,CAACI,OAAP,GAAiBL,WAAW,CAACM,OAAZ,CAAoB,YAApB,CAAjB;;AACA,UAAIN,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAJ,EAAoC;AAClCL,QAAAA,MAAM,CAACM,QAAP,GAAkBP,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAlB;AACD;;AACD,YAAME,MAAM,GAAG,EACb,GAAGN,WADU;AAEbD,QAAAA,MAFa;AAGbQ,QAAAA,EAAE,EAAET,WAAW,CAACU,MAAZ,CAAmBD;AAHV,OAAf;AAKA,YAAME,OAAO,GAAG,MAAMb,WAAW,CAACU,MAAD,CAAjC;AACA,aAAO;AACLF,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,2BAAiB,IAAIM,IAAJ,CAASD,OAAO,CAACE,UAAjB,EAA6BC,WAA7B;AAFV,SADJ;AAKLC,QAAAA,UAAU,EAAE,GALP;AAMLZ,QAAAA,IAAI,EAAE;AAAEQ,UAAAA;AAAF;AAND,OAAP;AAQD,KArBD,CAqBE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;;AACA,UAAIA,CAAC,CAACG,IAAF,KAAW,YAAf,EAA6B;AAC3B,eAAO;AACLb,UAAAA,OAAO,EAAE;AACP,4BAAgB;AADT,WADJ;AAILS,UAAAA,UAAU,EAAE,GAJP;AAKLZ,UAAAA,IAAI,EAAE;AACJiB,YAAAA,KAAK,EAAEJ,CAAC,CAACK;AADL;AALD,SAAP;AASD;;AACD,aAAO;AACLf,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SADJ;AAILS,QAAAA,UAAU,EAAE,GAJP;AAKLZ,QAAAA,IAAI,EAAE;AACJiB,UAAAA,KAAK,EAAEJ,CAAC,CAACK;AADL;AALD,OAAP;AASD;AACF,GA9CD;AA+CD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default function makePatchComment ({ editComment }) {\r\n  return async function patchComment (httpRequest) {\r\n    try {\r\n      const { source = {}, ...commentInfo } = httpRequest.body\r\n      source.ip = httpRequest.ip\r\n      source.browser = httpRequest.headers['User-Agent']\r\n      if (httpRequest.headers['Referer']) {\r\n        source.referrer = httpRequest.headers['Referer']\r\n      }\r\n      const toEdit = {\r\n        ...commentInfo,\r\n        source,\r\n        id: httpRequest.params.id\r\n      }\r\n      const patched = await editComment(toEdit)\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Last-Modified': new Date(patched.modifiedOn).toUTCString()\r\n        },\r\n        statusCode: 200,\r\n        body: { patched }\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n      if (e.name === 'RangeError') {\r\n        return {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          statusCode: 404,\r\n          body: {\r\n            error: e.message\r\n          }\r\n        }\r\n      }\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671597
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\not-found.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\not-found.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\not-found.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\not-found.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "not-found.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = notFound;\n\nasync function notFound() {\n  return {\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: {\n      error: 'Not found.'\n    },\n    statusCode: 404\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdC1mb3VuZC5qcyJdLCJuYW1lcyI6WyJub3RGb3VuZCIsImhlYWRlcnMiLCJib2R5IiwiZXJyb3IiLCJzdGF0dXNDb2RlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWUsZUFBZUEsUUFBZixHQUEyQjtBQUN4QyxTQUFPO0FBQ0xDLElBQUFBLE9BQU8sRUFBRTtBQUNQLHNCQUFnQjtBQURULEtBREo7QUFJTEMsSUFBQUEsSUFBSSxFQUFFO0FBQUVDLE1BQUFBLEtBQUssRUFBRTtBQUFULEtBSkQ7QUFLTEMsSUFBQUEsVUFBVSxFQUFFO0FBTFAsR0FBUDtBQU9EIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFxjb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIG5vdEZvdW5kICgpIHtcclxuICByZXR1cm4ge1xyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9LFxyXG4gICAgYm9keTogeyBlcnJvcjogJ05vdCBmb3VuZC4nIH0sXHJcbiAgICBzdGF0dXNDb2RlOiA0MDRcclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "not-found.js"
      ],
      "names": [
        "notFound",
        "headers",
        "body",
        "error",
        "statusCode"
      ],
      "mappings": ";;;;;;;AAAe,eAAeA,QAAf,GAA2B;AACxC,SAAO;AACLC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KADJ;AAILC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAJD;AAKLC,IAAAA,UAAU,EAAE;AALP,GAAP;AAOD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default async function notFound () {\r\n  return {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: { error: 'Not found.' },\r\n    statusCode: 404\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625079671596
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\express-callback\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\express-callback\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\express-callback",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\express-callback\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\express-callback\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\express-callback\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\express-callback",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nmodule.exports = function makeExpressCallback(controller) {\n  return (req, res) => {\n    const httpRequest = {\n      body: req.body,\n      query: req.query,\n      params: req.params,\n      ip: req.ip,\n      method: req.method,\n      path: req.path,\n      headers: {\n        'Content-Type': req.get('Content-Type'),\n        Referer: req.get('referer'),\n        'User-Agent': req.get('User-Agent')\n      }\n    };\n    controller(httpRequest).then(httpResponse => {\n      if (httpResponse.headers) {\n        res.set(httpResponse.headers);\n      }\n\n      res.type('json');\n      res.status(httpResponse.statusCode).send(httpResponse.body);\n    }).catch(e => res.status(500).send({\n      error: 'An unkown error occurred.'\n    }));\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJtYWtlRXhwcmVzc0NhbGxiYWNrIiwiY29udHJvbGxlciIsInJlcSIsInJlcyIsImh0dHBSZXF1ZXN0IiwiYm9keSIsInF1ZXJ5IiwicGFyYW1zIiwiaXAiLCJtZXRob2QiLCJwYXRoIiwiaGVhZGVycyIsImdldCIsIlJlZmVyZXIiLCJ0aGVuIiwiaHR0cFJlc3BvbnNlIiwic2V0IiwidHlwZSIsInN0YXR1cyIsInN0YXR1c0NvZGUiLCJzZW5kIiwiY2F0Y2giLCJlIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixTQUFTQyxtQkFBVCxDQUE4QkMsVUFBOUIsRUFBMEM7QUFDekQsU0FBTyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUNuQixVQUFNQyxXQUFXLEdBQUc7QUFDbEJDLE1BQUFBLElBQUksRUFBRUgsR0FBRyxDQUFDRyxJQURRO0FBRWxCQyxNQUFBQSxLQUFLLEVBQUVKLEdBQUcsQ0FBQ0ksS0FGTztBQUdsQkMsTUFBQUEsTUFBTSxFQUFFTCxHQUFHLENBQUNLLE1BSE07QUFJbEJDLE1BQUFBLEVBQUUsRUFBRU4sR0FBRyxDQUFDTSxFQUpVO0FBS2xCQyxNQUFBQSxNQUFNLEVBQUVQLEdBQUcsQ0FBQ08sTUFMTTtBQU1sQkMsTUFBQUEsSUFBSSxFQUFFUixHQUFHLENBQUNRLElBTlE7QUFPbEJDLE1BQUFBLE9BQU8sRUFBRTtBQUNQLHdCQUFnQlQsR0FBRyxDQUFDVSxHQUFKLENBQVEsY0FBUixDQURUO0FBRVBDLFFBQUFBLE9BQU8sRUFBRVgsR0FBRyxDQUFDVSxHQUFKLENBQVEsU0FBUixDQUZGO0FBR1Asc0JBQWNWLEdBQUcsQ0FBQ1UsR0FBSixDQUFRLFlBQVI7QUFIUDtBQVBTLEtBQXBCO0FBYUFYLElBQUFBLFVBQVUsQ0FBQ0csV0FBRCxDQUFWLENBQ0dVLElBREgsQ0FDUUMsWUFBWSxJQUFJO0FBQ3BCLFVBQUlBLFlBQVksQ0FBQ0osT0FBakIsRUFBMEI7QUFDeEJSLFFBQUFBLEdBQUcsQ0FBQ2EsR0FBSixDQUFRRCxZQUFZLENBQUNKLE9BQXJCO0FBQ0Q7O0FBQ0RSLE1BQUFBLEdBQUcsQ0FBQ2MsSUFBSixDQUFTLE1BQVQ7QUFDQWQsTUFBQUEsR0FBRyxDQUFDZSxNQUFKLENBQVdILFlBQVksQ0FBQ0ksVUFBeEIsRUFBb0NDLElBQXBDLENBQXlDTCxZQUFZLENBQUNWLElBQXREO0FBQ0QsS0FQSCxFQVFHZ0IsS0FSSCxDQVFTQyxDQUFDLElBQUluQixHQUFHLENBQUNlLE1BQUosQ0FBVyxHQUFYLEVBQWdCRSxJQUFoQixDQUFxQjtBQUFFRyxNQUFBQSxLQUFLLEVBQUU7QUFBVCxLQUFyQixDQVJkO0FBU0QsR0F2QkQ7QUF3QkQsQ0F6QkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGV4cHJlc3MtY2FsbGJhY2siLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1ha2VFeHByZXNzQ2FsbGJhY2sgKGNvbnRyb2xsZXIpIHtcclxuICByZXR1cm4gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBodHRwUmVxdWVzdCA9IHtcclxuICAgICAgYm9keTogcmVxLmJvZHksXHJcbiAgICAgIHF1ZXJ5OiByZXEucXVlcnksXHJcbiAgICAgIHBhcmFtczogcmVxLnBhcmFtcyxcclxuICAgICAgaXA6IHJlcS5pcCxcclxuICAgICAgbWV0aG9kOiByZXEubWV0aG9kLFxyXG4gICAgICBwYXRoOiByZXEucGF0aCxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiByZXEuZ2V0KCdDb250ZW50LVR5cGUnKSxcclxuICAgICAgICBSZWZlcmVyOiByZXEuZ2V0KCdyZWZlcmVyJyksXHJcbiAgICAgICAgJ1VzZXItQWdlbnQnOiByZXEuZ2V0KCdVc2VyLUFnZW50JylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29udHJvbGxlcihodHRwUmVxdWVzdClcclxuICAgICAgLnRoZW4oaHR0cFJlc3BvbnNlID0+IHtcclxuICAgICAgICBpZiAoaHR0cFJlc3BvbnNlLmhlYWRlcnMpIHtcclxuICAgICAgICAgIHJlcy5zZXQoaHR0cFJlc3BvbnNlLmhlYWRlcnMpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcy50eXBlKCdqc29uJylcclxuICAgICAgICByZXMuc3RhdHVzKGh0dHBSZXNwb25zZS5zdGF0dXNDb2RlKS5zZW5kKGh0dHBSZXNwb25zZS5ib2R5KVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZSA9PiByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IGVycm9yOiAnQW4gdW5rb3duIGVycm9yIG9jY3VycmVkLicgfSkpXHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "module",
        "exports",
        "makeExpressCallback",
        "controller",
        "req",
        "res",
        "httpRequest",
        "body",
        "query",
        "params",
        "ip",
        "method",
        "path",
        "headers",
        "get",
        "Referer",
        "then",
        "httpResponse",
        "set",
        "type",
        "status",
        "statusCode",
        "send",
        "catch",
        "e",
        "error"
      ],
      "mappings": ";;AAAAA,MAAM,CAACC,OAAP,GAAiB,SAASC,mBAAT,CAA8BC,UAA9B,EAA0C;AACzD,SAAO,CAACC,GAAD,EAAMC,GAAN,KAAc;AACnB,UAAMC,WAAW,GAAG;AAClBC,MAAAA,IAAI,EAAEH,GAAG,CAACG,IADQ;AAElBC,MAAAA,KAAK,EAAEJ,GAAG,CAACI,KAFO;AAGlBC,MAAAA,MAAM,EAAEL,GAAG,CAACK,MAHM;AAIlBC,MAAAA,EAAE,EAAEN,GAAG,CAACM,EAJU;AAKlBC,MAAAA,MAAM,EAAEP,GAAG,CAACO,MALM;AAMlBC,MAAAA,IAAI,EAAER,GAAG,CAACQ,IANQ;AAOlBC,MAAAA,OAAO,EAAE;AACP,wBAAgBT,GAAG,CAACU,GAAJ,CAAQ,cAAR,CADT;AAEPC,QAAAA,OAAO,EAAEX,GAAG,CAACU,GAAJ,CAAQ,SAAR,CAFF;AAGP,sBAAcV,GAAG,CAACU,GAAJ,CAAQ,YAAR;AAHP;AAPS,KAApB;AAaAX,IAAAA,UAAU,CAACG,WAAD,CAAV,CACGU,IADH,CACQC,YAAY,IAAI;AACpB,UAAIA,YAAY,CAACJ,OAAjB,EAA0B;AACxBR,QAAAA,GAAG,CAACa,GAAJ,CAAQD,YAAY,CAACJ,OAArB;AACD;;AACDR,MAAAA,GAAG,CAACc,IAAJ,CAAS,MAAT;AACAd,MAAAA,GAAG,CAACe,MAAJ,CAAWH,YAAY,CAACI,UAAxB,EAAoCC,IAApC,CAAyCL,YAAY,CAACV,IAAtD;AACD,KAPH,EAQGgB,KARH,CAQSC,CAAC,IAAInB,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB;AAAEG,MAAAA,KAAK,EAAE;AAAT,KAArB,CARd;AASD,GAvBD;AAwBD,CAzBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\express-callback",
      "sourcesContent": [
        "module.exports = function makeExpressCallback (controller) {\r\n  return (req, res) => {\r\n    const httpRequest = {\r\n      body: req.body,\r\n      query: req.query,\r\n      params: req.params,\r\n      ip: req.ip,\r\n      method: req.method,\r\n      path: req.path,\r\n      headers: {\r\n        'Content-Type': req.get('Content-Type'),\r\n        Referer: req.get('referer'),\r\n        'User-Agent': req.get('User-Agent')\r\n      }\r\n    }\r\n    controller(httpRequest)\r\n      .then(httpResponse => {\r\n        if (httpResponse.headers) {\r\n          res.set(httpResponse.headers)\r\n        }\r\n        res.type('json')\r\n        res.status(httpResponse.statusCode).send(httpResponse.body)\r\n      })\r\n      .catch(e => res.status(500).send({ error: 'An unkown error occurred.' }))\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625186128436
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\list-main-comments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-main-comments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-main-comments.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-main-comments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "list-main-comments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeListMainComments;\n\nfunction makeListMainComments({\n  commentsDb\n}) {\n  return async function listComments({\n    postId\n  } = {}) {\n    const comments = await commentsDb.findMainComments();\n    const nestedComments = nest(comments);\n    return nestedComments; // If this gets slow introduce caching.\n\n    function nest(comments) {\n      if (comments.length === 0) {\n        return comments;\n      }\n\n      return comments.reduce((nested, comment) => {\n        comment.replies = comments.filter(reply => reply.replyToId === comment.id);\n        nest(comment.replies);\n\n        if (comment.replyToId == null) {\n          nested.push(comment);\n        }\n\n        return nested;\n      }, []);\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpc3QtbWFpbi1jb21tZW50cy5qcyJdLCJuYW1lcyI6WyJtYWtlTGlzdE1haW5Db21tZW50cyIsImNvbW1lbnRzRGIiLCJsaXN0Q29tbWVudHMiLCJwb3N0SWQiLCJjb21tZW50cyIsImZpbmRNYWluQ29tbWVudHMiLCJuZXN0ZWRDb21tZW50cyIsIm5lc3QiLCJsZW5ndGgiLCJyZWR1Y2UiLCJuZXN0ZWQiLCJjb21tZW50IiwicmVwbGllcyIsImZpbHRlciIsInJlcGx5IiwicmVwbHlUb0lkIiwiaWQiLCJwdXNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWUsU0FBU0Esb0JBQVQsQ0FBK0I7QUFBRUMsRUFBQUE7QUFBRixDQUEvQixFQUErQztBQUMxRCxTQUFPLGVBQWVDLFlBQWYsQ0FBNkI7QUFBRUMsSUFBQUE7QUFBRixNQUFhLEVBQTFDLEVBQThDO0FBQ25ELFVBQU1DLFFBQVEsR0FBRyxNQUFNSCxVQUFVLENBQUNJLGdCQUFYLEVBQXZCO0FBQ0EsVUFBTUMsY0FBYyxHQUFHQyxJQUFJLENBQUNILFFBQUQsQ0FBM0I7QUFDQSxXQUFPRSxjQUFQLENBSG1ELENBS25EOztBQUNBLGFBQVNDLElBQVQsQ0FBZUgsUUFBZixFQUF5QjtBQUN2QixVQUFJQSxRQUFRLENBQUNJLE1BQVQsS0FBb0IsQ0FBeEIsRUFBMkI7QUFDekIsZUFBT0osUUFBUDtBQUNEOztBQUNELGFBQU9BLFFBQVEsQ0FBQ0ssTUFBVCxDQUFnQixDQUFDQyxNQUFELEVBQVNDLE9BQVQsS0FBcUI7QUFDMUNBLFFBQUFBLE9BQU8sQ0FBQ0MsT0FBUixHQUFrQlIsUUFBUSxDQUFDUyxNQUFULENBQ2hCQyxLQUFLLElBQUlBLEtBQUssQ0FBQ0MsU0FBTixLQUFvQkosT0FBTyxDQUFDSyxFQURyQixDQUFsQjtBQUdBVCxRQUFBQSxJQUFJLENBQUNJLE9BQU8sQ0FBQ0MsT0FBVCxDQUFKOztBQUNBLFlBQUlELE9BQU8sQ0FBQ0ksU0FBUixJQUFxQixJQUF6QixFQUErQjtBQUM3QkwsVUFBQUEsTUFBTSxDQUFDTyxJQUFQLENBQVlOLE9BQVo7QUFDRDs7QUFDRCxlQUFPRCxNQUFQO0FBQ0QsT0FUTSxFQVNKLEVBVEksQ0FBUDtBQVVEO0FBQ0YsR0FyQkQ7QUFzQkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXHVzZS1jYXNlcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VMaXN0TWFpbkNvbW1lbnRzICh7IGNvbW1lbnRzRGIgfSkge1xyXG4gICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGxpc3RDb21tZW50cyAoeyBwb3N0SWQgfSA9IHt9KSB7XHJcbiAgICAgIGNvbnN0IGNvbW1lbnRzID0gYXdhaXQgY29tbWVudHNEYi5maW5kTWFpbkNvbW1lbnRzKClcclxuICAgICAgY29uc3QgbmVzdGVkQ29tbWVudHMgPSBuZXN0KGNvbW1lbnRzKVxyXG4gICAgICByZXR1cm4gbmVzdGVkQ29tbWVudHNcclxuICBcclxuICAgICAgLy8gSWYgdGhpcyBnZXRzIHNsb3cgaW50cm9kdWNlIGNhY2hpbmcuXHJcbiAgICAgIGZ1bmN0aW9uIG5lc3QgKGNvbW1lbnRzKSB7XHJcbiAgICAgICAgaWYgKGNvbW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgcmV0dXJuIGNvbW1lbnRzXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb21tZW50cy5yZWR1Y2UoKG5lc3RlZCwgY29tbWVudCkgPT4ge1xyXG4gICAgICAgICAgY29tbWVudC5yZXBsaWVzID0gY29tbWVudHMuZmlsdGVyKFxyXG4gICAgICAgICAgICByZXBseSA9PiByZXBseS5yZXBseVRvSWQgPT09IGNvbW1lbnQuaWRcclxuICAgICAgICAgIClcclxuICAgICAgICAgIG5lc3QoY29tbWVudC5yZXBsaWVzKVxyXG4gICAgICAgICAgaWYgKGNvbW1lbnQucmVwbHlUb0lkID09IG51bGwpIHtcclxuICAgICAgICAgICAgbmVzdGVkLnB1c2goY29tbWVudClcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBuZXN0ZWRcclxuICAgICAgICB9LCBbXSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICAiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "list-main-comments.js"
      ],
      "names": [
        "makeListMainComments",
        "commentsDb",
        "listComments",
        "postId",
        "comments",
        "findMainComments",
        "nestedComments",
        "nest",
        "length",
        "reduce",
        "nested",
        "comment",
        "replies",
        "filter",
        "reply",
        "replyToId",
        "id",
        "push"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,oBAAT,CAA+B;AAAEC,EAAAA;AAAF,CAA/B,EAA+C;AAC1D,SAAO,eAAeC,YAAf,CAA6B;AAAEC,IAAAA;AAAF,MAAa,EAA1C,EAA8C;AACnD,UAAMC,QAAQ,GAAG,MAAMH,UAAU,CAACI,gBAAX,EAAvB;AACA,UAAMC,cAAc,GAAGC,IAAI,CAACH,QAAD,CAA3B;AACA,WAAOE,cAAP,CAHmD,CAKnD;;AACA,aAASC,IAAT,CAAeH,QAAf,EAAyB;AACvB,UAAIA,QAAQ,CAACI,MAAT,KAAoB,CAAxB,EAA2B;AACzB,eAAOJ,QAAP;AACD;;AACD,aAAOA,QAAQ,CAACK,MAAT,CAAgB,CAACC,MAAD,EAASC,OAAT,KAAqB;AAC1CA,QAAAA,OAAO,CAACC,OAAR,GAAkBR,QAAQ,CAACS,MAAT,CAChBC,KAAK,IAAIA,KAAK,CAACC,SAAN,KAAoBJ,OAAO,CAACK,EADrB,CAAlB;AAGAT,QAAAA,IAAI,CAACI,OAAO,CAACC,OAAT,CAAJ;;AACA,YAAID,OAAO,CAACI,SAAR,IAAqB,IAAzB,EAA+B;AAC7BL,UAAAA,MAAM,CAACO,IAAP,CAAYN,OAAZ;AACD;;AACD,eAAOD,MAAP;AACD,OATM,EASJ,EATI,CAAP;AAUD;AACF,GArBD;AAsBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "export default function makeListMainComments ({ commentsDb }) {\r\n    return async function listComments ({ postId } = {}) {\r\n      const comments = await commentsDb.findMainComments()\r\n      const nestedComments = nest(comments)\r\n      return nestedComments\r\n  \r\n      // If this gets slow introduce caching.\r\n      function nest (comments) {\r\n        if (comments.length === 0) {\r\n          return comments\r\n        }\r\n        return comments.reduce((nested, comment) => {\r\n          comment.replies = comments.filter(\r\n            reply => reply.replyToId === comment.id\r\n          )\r\n          nest(comment.replies)\r\n          if (comment.replyToId == null) {\r\n            nested.push(comment)\r\n          }\r\n          return nested\r\n        }, [])\r\n      }\r\n    }\r\n  }\r\n  "
      ]
    },
    "sourceType": "script",
    "mtime": 1625159964605
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\list-main-comments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-main-comments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-main-comments.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-main-comments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "list-main-comments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeListMainComments;\n\nfunction makeListMainComments({\n  commentsDb\n}) {\n  return async function listComments({\n    postId\n  } = {}) {\n    const comments = await commentsDb.findMainComments();\n    const nestedComments = nest(comments);\n    return nestedComments; // If this gets slow introduce caching.\n\n    function nest(comments) {\n      if (comments.length === 0) {\n        return comments;\n      }\n\n      return comments.reduce((nested, comment) => {\n        comment.replies = comments.filter(reply => reply.replyToId === comment.id);\n        nest(comment.replies);\n\n        if (comment.replyToId == null) {\n          nested.push(comment);\n        }\n\n        return nested;\n      }, []);\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpc3QtbWFpbi1jb21tZW50cy5qcyJdLCJuYW1lcyI6WyJtYWtlTGlzdE1haW5Db21tZW50cyIsImNvbW1lbnRzRGIiLCJsaXN0Q29tbWVudHMiLCJwb3N0SWQiLCJjb21tZW50cyIsImZpbmRNYWluQ29tbWVudHMiLCJuZXN0ZWRDb21tZW50cyIsIm5lc3QiLCJsZW5ndGgiLCJyZWR1Y2UiLCJuZXN0ZWQiLCJjb21tZW50IiwicmVwbGllcyIsImZpbHRlciIsInJlcGx5IiwicmVwbHlUb0lkIiwiaWQiLCJwdXNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWUsU0FBU0Esb0JBQVQsQ0FBK0I7QUFBRUMsRUFBQUE7QUFBRixDQUEvQixFQUErQztBQUMxRCxTQUFPLGVBQWVDLFlBQWYsQ0FBNkI7QUFBRUMsSUFBQUE7QUFBRixNQUFhLEVBQTFDLEVBQThDO0FBQ25ELFVBQU1DLFFBQVEsR0FBRyxNQUFNSCxVQUFVLENBQUNJLGdCQUFYLEVBQXZCO0FBQ0EsVUFBTUMsY0FBYyxHQUFHQyxJQUFJLENBQUNILFFBQUQsQ0FBM0I7QUFDQSxXQUFPRSxjQUFQLENBSG1ELENBS25EOztBQUNBLGFBQVNDLElBQVQsQ0FBZUgsUUFBZixFQUF5QjtBQUN2QixVQUFJQSxRQUFRLENBQUNJLE1BQVQsS0FBb0IsQ0FBeEIsRUFBMkI7QUFDekIsZUFBT0osUUFBUDtBQUNEOztBQUNELGFBQU9BLFFBQVEsQ0FBQ0ssTUFBVCxDQUFnQixDQUFDQyxNQUFELEVBQVNDLE9BQVQsS0FBcUI7QUFDMUNBLFFBQUFBLE9BQU8sQ0FBQ0MsT0FBUixHQUFrQlIsUUFBUSxDQUFDUyxNQUFULENBQ2hCQyxLQUFLLElBQUlBLEtBQUssQ0FBQ0MsU0FBTixLQUFvQkosT0FBTyxDQUFDSyxFQURyQixDQUFsQjtBQUdBVCxRQUFBQSxJQUFJLENBQUNJLE9BQU8sQ0FBQ0MsT0FBVCxDQUFKOztBQUNBLFlBQUlELE9BQU8sQ0FBQ0ksU0FBUixJQUFxQixJQUF6QixFQUErQjtBQUM3QkwsVUFBQUEsTUFBTSxDQUFDTyxJQUFQLENBQVlOLE9BQVo7QUFDRDs7QUFDRCxlQUFPRCxNQUFQO0FBQ0QsT0FUTSxFQVNKLEVBVEksQ0FBUDtBQVVEO0FBQ0YsR0FyQkQ7QUFzQkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXHVzZS1jYXNlcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VMaXN0TWFpbkNvbW1lbnRzICh7IGNvbW1lbnRzRGIgfSkge1xyXG4gICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGxpc3RDb21tZW50cyAoeyBwb3N0SWQgfSA9IHt9KSB7XHJcbiAgICAgIGNvbnN0IGNvbW1lbnRzID0gYXdhaXQgY29tbWVudHNEYi5maW5kTWFpbkNvbW1lbnRzKClcclxuICAgICAgY29uc3QgbmVzdGVkQ29tbWVudHMgPSBuZXN0KGNvbW1lbnRzKVxyXG4gICAgICByZXR1cm4gbmVzdGVkQ29tbWVudHNcclxuICBcclxuICAgICAgLy8gSWYgdGhpcyBnZXRzIHNsb3cgaW50cm9kdWNlIGNhY2hpbmcuXHJcbiAgICAgIGZ1bmN0aW9uIG5lc3QgKGNvbW1lbnRzKSB7XHJcbiAgICAgICAgaWYgKGNvbW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgcmV0dXJuIGNvbW1lbnRzXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb21tZW50cy5yZWR1Y2UoKG5lc3RlZCwgY29tbWVudCkgPT4ge1xyXG4gICAgICAgICAgY29tbWVudC5yZXBsaWVzID0gY29tbWVudHMuZmlsdGVyKFxyXG4gICAgICAgICAgICByZXBseSA9PiByZXBseS5yZXBseVRvSWQgPT09IGNvbW1lbnQuaWRcclxuICAgICAgICAgIClcclxuICAgICAgICAgIG5lc3QoY29tbWVudC5yZXBsaWVzKVxyXG4gICAgICAgICAgaWYgKGNvbW1lbnQucmVwbHlUb0lkID09IG51bGwpIHtcclxuICAgICAgICAgICAgbmVzdGVkLnB1c2goY29tbWVudClcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBuZXN0ZWRcclxuICAgICAgICB9LCBbXSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICAiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "list-main-comments.js"
      ],
      "names": [
        "makeListMainComments",
        "commentsDb",
        "listComments",
        "postId",
        "comments",
        "findMainComments",
        "nestedComments",
        "nest",
        "length",
        "reduce",
        "nested",
        "comment",
        "replies",
        "filter",
        "reply",
        "replyToId",
        "id",
        "push"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,oBAAT,CAA+B;AAAEC,EAAAA;AAAF,CAA/B,EAA+C;AAC1D,SAAO,eAAeC,YAAf,CAA6B;AAAEC,IAAAA;AAAF,MAAa,EAA1C,EAA8C;AACnD,UAAMC,QAAQ,GAAG,MAAMH,UAAU,CAACI,gBAAX,EAAvB;AACA,UAAMC,cAAc,GAAGC,IAAI,CAACH,QAAD,CAA3B;AACA,WAAOE,cAAP,CAHmD,CAKnD;;AACA,aAASC,IAAT,CAAeH,QAAf,EAAyB;AACvB,UAAIA,QAAQ,CAACI,MAAT,KAAoB,CAAxB,EAA2B;AACzB,eAAOJ,QAAP;AACD;;AACD,aAAOA,QAAQ,CAACK,MAAT,CAAgB,CAACC,MAAD,EAASC,OAAT,KAAqB;AAC1CA,QAAAA,OAAO,CAACC,OAAR,GAAkBR,QAAQ,CAACS,MAAT,CAChBC,KAAK,IAAIA,KAAK,CAACC,SAAN,KAAoBJ,OAAO,CAACK,EADrB,CAAlB;AAGAT,QAAAA,IAAI,CAACI,OAAO,CAACC,OAAT,CAAJ;;AACA,YAAID,OAAO,CAACI,SAAR,IAAqB,IAAzB,EAA+B;AAC7BL,UAAAA,MAAM,CAACO,IAAP,CAAYN,OAAZ;AACD;;AACD,eAAOD,MAAP;AACD,OATM,EASJ,EATI,CAAP;AAUD;AACF,GArBD;AAsBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "export default function makeListMainComments ({ commentsDb }) {\r\n    return async function listComments ({ postId } = {}) {\r\n      const comments = await commentsDb.findMainComments()\r\n      const nestedComments = nest(comments)\r\n      return nestedComments\r\n  \r\n      // If this gets slow introduce caching.\r\n      function nest (comments) {\r\n        if (comments.length === 0) {\r\n          return comments\r\n        }\r\n        return comments.reduce((nested, comment) => {\r\n          comment.replies = comments.filter(\r\n            reply => reply.replyToId === comment.id\r\n          )\r\n          nest(comment.replies)\r\n          if (comment.replyToId == null) {\r\n            nested.push(comment)\r\n          }\r\n          return nested\r\n        }, [])\r\n      }\r\n    }\r\n  }\r\n  "
      ]
    },
    "sourceType": "script",
    "mtime": 1625159964605
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\get-main-comments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-main-comments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-main-comments.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-main-comments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "get-main-comments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeGetMainComments;\n\nfunction makeGetMainComments({\n  listMainComments\n}) {\n  return async function getComments(httpRequest) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n\n    try {\n      const postComments = await listMainComments({\n        postId: httpRequest.query.postId\n      });\n      return {\n        headers,\n        statusCode: 200,\n        body: postComments\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers,\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldC1tYWluLWNvbW1lbnRzLmpzIl0sIm5hbWVzIjpbIm1ha2VHZXRNYWluQ29tbWVudHMiLCJsaXN0TWFpbkNvbW1lbnRzIiwiZ2V0Q29tbWVudHMiLCJodHRwUmVxdWVzdCIsImhlYWRlcnMiLCJwb3N0Q29tbWVudHMiLCJwb3N0SWQiLCJxdWVyeSIsInN0YXR1c0NvZGUiLCJib2R5IiwiZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZSxTQUFTQSxtQkFBVCxDQUE4QjtBQUFFQyxFQUFBQTtBQUFGLENBQTlCLEVBQW9EO0FBQy9ELFNBQU8sZUFBZUMsV0FBZixDQUE0QkMsV0FBNUIsRUFBeUM7QUFDOUMsVUFBTUMsT0FBTyxHQUFHO0FBQ2Qsc0JBQWdCO0FBREYsS0FBaEI7O0FBR0EsUUFBSTtBQUNGLFlBQU1DLFlBQVksR0FBRyxNQUFNSixnQkFBZ0IsQ0FBQztBQUMxQ0ssUUFBQUEsTUFBTSxFQUFFSCxXQUFXLENBQUNJLEtBQVosQ0FBa0JEO0FBRGdCLE9BQUQsQ0FBM0M7QUFHQSxhQUFPO0FBQ0xGLFFBQUFBLE9BREs7QUFFTEksUUFBQUEsVUFBVSxFQUFFLEdBRlA7QUFHTEMsUUFBQUEsSUFBSSxFQUFFSjtBQUhELE9BQVA7QUFLRCxLQVRELENBU0UsT0FBT0ssQ0FBUCxFQUFVO0FBQ1Y7QUFDQUMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlGLENBQVo7QUFDQSxhQUFPO0FBQ0xOLFFBQUFBLE9BREs7QUFFTEksUUFBQUEsVUFBVSxFQUFFLEdBRlA7QUFHTEMsUUFBQUEsSUFBSSxFQUFFO0FBQ0pJLFVBQUFBLEtBQUssRUFBRUgsQ0FBQyxDQUFDSTtBQURMO0FBSEQsT0FBUDtBQU9EO0FBQ0YsR0F4QkQ7QUF5QkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGNvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZUdldE1haW5Db21tZW50cyAoeyBsaXN0TWFpbkNvbW1lbnRzIH0pIHtcclxuICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiBnZXRDb21tZW50cyAoaHR0cFJlcXVlc3QpIHtcclxuICAgICAgY29uc3QgaGVhZGVycyA9IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgIH1cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwb3N0Q29tbWVudHMgPSBhd2FpdCBsaXN0TWFpbkNvbW1lbnRzKHtcclxuICAgICAgICAgIHBvc3RJZDogaHR0cFJlcXVlc3QucXVlcnkucG9zdElkXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaGVhZGVycyxcclxuICAgICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcclxuICAgICAgICAgIGJvZHk6IHBvc3RDb21tZW50c1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8vIFRPRE86IEVycm9yIGxvZ2dpbmdcclxuICAgICAgICBjb25zb2xlLmxvZyhlKVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBoZWFkZXJzLFxyXG4gICAgICAgICAgc3RhdHVzQ29kZTogNDAwLFxyXG4gICAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgICBlcnJvcjogZS5tZXNzYWdlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gICJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "get-main-comments.js"
      ],
      "names": [
        "makeGetMainComments",
        "listMainComments",
        "getComments",
        "httpRequest",
        "headers",
        "postComments",
        "postId",
        "query",
        "statusCode",
        "body",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,mBAAT,CAA8B;AAAEC,EAAAA;AAAF,CAA9B,EAAoD;AAC/D,SAAO,eAAeC,WAAf,CAA4BC,WAA5B,EAAyC;AAC9C,UAAMC,OAAO,GAAG;AACd,sBAAgB;AADF,KAAhB;;AAGA,QAAI;AACF,YAAMC,YAAY,GAAG,MAAMJ,gBAAgB,CAAC;AAC1CK,QAAAA,MAAM,EAAEH,WAAW,CAACI,KAAZ,CAAkBD;AADgB,OAAD,CAA3C;AAGA,aAAO;AACLF,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLC,QAAAA,IAAI,EAAEJ;AAHD,OAAP;AAKD,KATD,CASE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,aAAO;AACLN,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLC,QAAAA,IAAI,EAAE;AACJI,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AAHD,OAAP;AAOD;AACF,GAxBD;AAyBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default function makeGetMainComments ({ listMainComments }) {\r\n    return async function getComments (httpRequest) {\r\n      const headers = {\r\n        'Content-Type': 'application/json'\r\n      }\r\n      try {\r\n        const postComments = await listMainComments({\r\n          postId: httpRequest.query.postId\r\n        })\r\n        return {\r\n          headers,\r\n          statusCode: 200,\r\n          body: postComments\r\n        }\r\n      } catch (e) {\r\n        // TODO: Error logging\r\n        console.log(e)\r\n        return {\r\n          headers,\r\n          statusCode: 400,\r\n          body: {\r\n            error: e.message\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  "
      ]
    },
    "sourceType": "script",
    "mtime": 1625160382295
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\get-main-comments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-main-comments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-main-comments.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-main-comments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "get-main-comments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeGetMainComments;\n\nfunction makeGetMainComments({\n  listMainComments\n}) {\n  return async function getComments(httpRequest) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n\n    try {\n      const postComments = await listMainComments({\n        postId: httpRequest.query.postId\n      });\n      return {\n        headers,\n        statusCode: 200,\n        body: postComments\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers,\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldC1tYWluLWNvbW1lbnRzLmpzIl0sIm5hbWVzIjpbIm1ha2VHZXRNYWluQ29tbWVudHMiLCJsaXN0TWFpbkNvbW1lbnRzIiwiZ2V0Q29tbWVudHMiLCJodHRwUmVxdWVzdCIsImhlYWRlcnMiLCJwb3N0Q29tbWVudHMiLCJwb3N0SWQiLCJxdWVyeSIsInN0YXR1c0NvZGUiLCJib2R5IiwiZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZSxTQUFTQSxtQkFBVCxDQUE4QjtBQUFFQyxFQUFBQTtBQUFGLENBQTlCLEVBQW9EO0FBQy9ELFNBQU8sZUFBZUMsV0FBZixDQUE0QkMsV0FBNUIsRUFBeUM7QUFDOUMsVUFBTUMsT0FBTyxHQUFHO0FBQ2Qsc0JBQWdCO0FBREYsS0FBaEI7O0FBR0EsUUFBSTtBQUNGLFlBQU1DLFlBQVksR0FBRyxNQUFNSixnQkFBZ0IsQ0FBQztBQUMxQ0ssUUFBQUEsTUFBTSxFQUFFSCxXQUFXLENBQUNJLEtBQVosQ0FBa0JEO0FBRGdCLE9BQUQsQ0FBM0M7QUFHQSxhQUFPO0FBQ0xGLFFBQUFBLE9BREs7QUFFTEksUUFBQUEsVUFBVSxFQUFFLEdBRlA7QUFHTEMsUUFBQUEsSUFBSSxFQUFFSjtBQUhELE9BQVA7QUFLRCxLQVRELENBU0UsT0FBT0ssQ0FBUCxFQUFVO0FBQ1Y7QUFDQUMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlGLENBQVo7QUFDQSxhQUFPO0FBQ0xOLFFBQUFBLE9BREs7QUFFTEksUUFBQUEsVUFBVSxFQUFFLEdBRlA7QUFHTEMsUUFBQUEsSUFBSSxFQUFFO0FBQ0pJLFVBQUFBLEtBQUssRUFBRUgsQ0FBQyxDQUFDSTtBQURMO0FBSEQsT0FBUDtBQU9EO0FBQ0YsR0F4QkQ7QUF5QkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxhcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGNvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZUdldE1haW5Db21tZW50cyAoeyBsaXN0TWFpbkNvbW1lbnRzIH0pIHtcclxuICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiBnZXRDb21tZW50cyAoaHR0cFJlcXVlc3QpIHtcclxuICAgICAgY29uc3QgaGVhZGVycyA9IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgIH1cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwb3N0Q29tbWVudHMgPSBhd2FpdCBsaXN0TWFpbkNvbW1lbnRzKHtcclxuICAgICAgICAgIHBvc3RJZDogaHR0cFJlcXVlc3QucXVlcnkucG9zdElkXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaGVhZGVycyxcclxuICAgICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcclxuICAgICAgICAgIGJvZHk6IHBvc3RDb21tZW50c1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8vIFRPRE86IEVycm9yIGxvZ2dpbmdcclxuICAgICAgICBjb25zb2xlLmxvZyhlKVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBoZWFkZXJzLFxyXG4gICAgICAgICAgc3RhdHVzQ29kZTogNDAwLFxyXG4gICAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgICBlcnJvcjogZS5tZXNzYWdlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gICJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "get-main-comments.js"
      ],
      "names": [
        "makeGetMainComments",
        "listMainComments",
        "getComments",
        "httpRequest",
        "headers",
        "postComments",
        "postId",
        "query",
        "statusCode",
        "body",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,mBAAT,CAA8B;AAAEC,EAAAA;AAAF,CAA9B,EAAoD;AAC/D,SAAO,eAAeC,WAAf,CAA4BC,WAA5B,EAAyC;AAC9C,UAAMC,OAAO,GAAG;AACd,sBAAgB;AADF,KAAhB;;AAGA,QAAI;AACF,YAAMC,YAAY,GAAG,MAAMJ,gBAAgB,CAAC;AAC1CK,QAAAA,MAAM,EAAEH,WAAW,CAACI,KAAZ,CAAkBD;AADgB,OAAD,CAA3C;AAGA,aAAO;AACLF,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLC,QAAAA,IAAI,EAAEJ;AAHD,OAAP;AAKD,KATD,CASE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,aAAO;AACLN,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLC,QAAAA,IAAI,EAAE;AACJI,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AAHD,OAAP;AAOD;AACF,GAxBD;AAyBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default function makeGetMainComments ({ listMainComments }) {\r\n    return async function getComments (httpRequest) {\r\n      const headers = {\r\n        'Content-Type': 'application/json'\r\n      }\r\n      try {\r\n        const postComments = await listMainComments({\r\n          postId: httpRequest.query.postId\r\n        })\r\n        return {\r\n          headers,\r\n          statusCode: 200,\r\n          body: postComments\r\n        }\r\n      } catch (e) {\r\n        // TODO: Error logging\r\n        console.log(e)\r\n        return {\r\n          headers,\r\n          statusCode: 400,\r\n          body: {\r\n            error: e.message\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  "
      ]
    },
    "sourceType": "script",
    "mtime": 1625160382295
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _controllers = require(\"./controllers\");\n\nvar _expressCallback = _interopRequireDefault(require(\"./express-callback\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst apiRoot = process && process.env && process.env.DM_API_ROOT || undefined || \"\";\nconst app = (0, _express.default)();\napp.use(_bodyParser.default.json()); // TODO: figure out DNT compliance.\n\napp.use((_, res, next) => {\n  res.set({\n    Tk: '!'\n  });\n  next();\n});\napp.post(`${apiRoot}/comments`, (0, _expressCallback.default)(_controllers.postComment));\napp.delete(`${apiRoot}/comments/:id`, (0, _expressCallback.default)(_controllers.deleteComment));\napp.delete(`${apiRoot}/comments`, (0, _expressCallback.default)(_controllers.deleteComment));\napp.patch(`${apiRoot}/comments/:id`, (0, _expressCallback.default)(_controllers.patchComment));\napp.patch(`${apiRoot}/comments`, (0, _expressCallback.default)(_controllers.patchComment));\napp.get(`${apiRoot}/comments`, (0, _expressCallback.default)(_controllers.getComments));\napp.get(`${apiRoot}/main-comments`, (0, _expressCallback.default)(_controllers.getMainComments));\napp.use((0, _expressCallback.default)(_controllers.notFound)); // listen for requests\n\napp.listen(3000, () => {\n  console.log('Server is listening on port http://localhost:3000');\n});\nvar _default = app;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsImFwaVJvb3QiLCJhcHAiLCJ1c2UiLCJib2R5UGFyc2VyIiwianNvbiIsIl8iLCJyZXMiLCJuZXh0Iiwic2V0IiwiVGsiLCJwb3N0IiwicG9zdENvbW1lbnQiLCJkZWxldGUiLCJkZWxldGVDb21tZW50IiwicGF0Y2giLCJwYXRjaENvbW1lbnQiLCJnZXQiLCJnZXRDb21tZW50cyIsImdldE1haW5Db21tZW50cyIsIm5vdEZvdW5kIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQVFBOzs7O0FBRUFBLGdCQUFPQyxNQUFQOztBQUVBLE1BQU1DLE9BQU8sR0FBRyxrRUFBMkIsRUFBM0M7QUFFQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVFDLG9CQUFXQyxJQUFYLEVBQVIsRSxDQUNBOztBQUNBSCxHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDRyxDQUFELEVBQUlDLEdBQUosRUFBU0MsSUFBVCxLQUFrQjtBQUN4QkQsRUFBQUEsR0FBRyxDQUFDRSxHQUFKLENBQVE7QUFBRUMsSUFBQUEsRUFBRSxFQUFFO0FBQU4sR0FBUjtBQUNBRixFQUFBQSxJQUFJO0FBQ0wsQ0FIRDtBQUlBTixHQUFHLENBQUNTLElBQUosQ0FBVSxHQUFFVixPQUFRLFdBQXBCLEVBQWdDLDhCQUFhVyx3QkFBYixDQUFoQztBQUNBVixHQUFHLENBQUNXLE1BQUosQ0FBWSxHQUFFWixPQUFRLGVBQXRCLEVBQXNDLDhCQUFhYSwwQkFBYixDQUF0QztBQUNBWixHQUFHLENBQUNXLE1BQUosQ0FBWSxHQUFFWixPQUFRLFdBQXRCLEVBQWtDLDhCQUFhYSwwQkFBYixDQUFsQztBQUNBWixHQUFHLENBQUNhLEtBQUosQ0FBVyxHQUFFZCxPQUFRLGVBQXJCLEVBQXFDLDhCQUFhZSx5QkFBYixDQUFyQztBQUNBZCxHQUFHLENBQUNhLEtBQUosQ0FBVyxHQUFFZCxPQUFRLFdBQXJCLEVBQWlDLDhCQUFhZSx5QkFBYixDQUFqQztBQUNBZCxHQUFHLENBQUNlLEdBQUosQ0FBUyxHQUFFaEIsT0FBUSxXQUFuQixFQUErQiw4QkFBYWlCLHdCQUFiLENBQS9CO0FBRUFoQixHQUFHLENBQUNlLEdBQUosQ0FBUyxHQUFFaEIsT0FBUSxnQkFBbkIsRUFBbUMsOEJBQWFrQiw0QkFBYixDQUFuQztBQUVBakIsR0FBRyxDQUFDQyxHQUFKLENBQVEsOEJBQWFpQixxQkFBYixDQUFSLEUsQ0FFRTs7QUFDQWxCLEdBQUcsQ0FBQ21CLE1BQUosQ0FBVyxJQUFYLEVBQWlCLE1BQU07QUFDckJDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG1EQUFaO0FBQ0QsQ0FGRDtlQUthckIsRyIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXEFwbGljYWNpb25FbXByZXNhcmlhbFxcc3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcclxuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInXHJcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52J1xyXG5pbXBvcnQge1xyXG4gIGRlbGV0ZUNvbW1lbnQsXHJcbiAgZ2V0Q29tbWVudHMsXHJcbiAgbm90Rm91bmQsXHJcbiAgcG9zdENvbW1lbnQsXHJcbiAgcGF0Y2hDb21tZW50LFxyXG4gIGdldE1haW5Db21tZW50c1xyXG59IGZyb20gJy4vY29udHJvbGxlcnMnXHJcbmltcG9ydCBtYWtlQ2FsbGJhY2sgZnJvbSAnLi9leHByZXNzLWNhbGxiYWNrJ1xyXG5cclxuZG90ZW52LmNvbmZpZygpXHJcblxyXG5jb25zdCBhcGlSb290ID0gcHJvY2Vzcy5lbnYuRE1fQVBJX1JPT1QgfHwgXCJcIlxyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpXHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpXHJcbi8vIFRPRE86IGZpZ3VyZSBvdXQgRE5UIGNvbXBsaWFuY2UuXHJcbmFwcC51c2UoKF8sIHJlcywgbmV4dCkgPT4ge1xyXG4gIHJlcy5zZXQoeyBUazogJyEnIH0pXHJcbiAgbmV4dCgpXHJcbn0pXHJcbmFwcC5wb3N0KGAke2FwaVJvb3R9L2NvbW1lbnRzYCwgbWFrZUNhbGxiYWNrKHBvc3RDb21tZW50KSlcclxuYXBwLmRlbGV0ZShgJHthcGlSb290fS9jb21tZW50cy86aWRgLCBtYWtlQ2FsbGJhY2soZGVsZXRlQ29tbWVudCkpXHJcbmFwcC5kZWxldGUoYCR7YXBpUm9vdH0vY29tbWVudHNgLCBtYWtlQ2FsbGJhY2soZGVsZXRlQ29tbWVudCkpXHJcbmFwcC5wYXRjaChgJHthcGlSb290fS9jb21tZW50cy86aWRgLCBtYWtlQ2FsbGJhY2socGF0Y2hDb21tZW50KSlcclxuYXBwLnBhdGNoKGAke2FwaVJvb3R9L2NvbW1lbnRzYCwgbWFrZUNhbGxiYWNrKHBhdGNoQ29tbWVudCkpXHJcbmFwcC5nZXQoYCR7YXBpUm9vdH0vY29tbWVudHNgLCBtYWtlQ2FsbGJhY2soZ2V0Q29tbWVudHMpKVxyXG5cclxuYXBwLmdldChgJHthcGlSb290fS9tYWluLWNvbW1lbnRzYCxtYWtlQ2FsbGJhY2soZ2V0TWFpbkNvbW1lbnRzKSlcclxuXHJcbmFwcC51c2UobWFrZUNhbGxiYWNrKG5vdEZvdW5kKSlcclxuXHJcbiAgLy8gbGlzdGVuIGZvciByZXF1ZXN0c1xyXG4gIGFwcC5saXN0ZW4oMzAwMCwgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ1NlcnZlciBpcyBsaXN0ZW5pbmcgb24gcG9ydCBodHRwOi8vbG9jYWxob3N0OjMwMDAnKVxyXG4gIH0pXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXBwXHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "dotenv",
        "config",
        "apiRoot",
        "app",
        "use",
        "bodyParser",
        "json",
        "_",
        "res",
        "next",
        "set",
        "Tk",
        "post",
        "postComment",
        "delete",
        "deleteComment",
        "patch",
        "patchComment",
        "get",
        "getComments",
        "getMainComments",
        "notFound",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AAQA;;;;AAEAA,gBAAOC,MAAP;;AAEA,MAAMC,OAAO,GAAG,kEAA2B,EAA3C;AAEA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR,E,CACA;;AACAH,GAAG,CAACC,GAAJ,CAAQ,CAACG,CAAD,EAAIC,GAAJ,EAASC,IAAT,KAAkB;AACxBD,EAAAA,GAAG,CAACE,GAAJ,CAAQ;AAAEC,IAAAA,EAAE,EAAE;AAAN,GAAR;AACAF,EAAAA,IAAI;AACL,CAHD;AAIAN,GAAG,CAACS,IAAJ,CAAU,GAAEV,OAAQ,WAApB,EAAgC,8BAAaW,wBAAb,CAAhC;AACAV,GAAG,CAACW,MAAJ,CAAY,GAAEZ,OAAQ,eAAtB,EAAsC,8BAAaa,0BAAb,CAAtC;AACAZ,GAAG,CAACW,MAAJ,CAAY,GAAEZ,OAAQ,WAAtB,EAAkC,8BAAaa,0BAAb,CAAlC;AACAZ,GAAG,CAACa,KAAJ,CAAW,GAAEd,OAAQ,eAArB,EAAqC,8BAAae,yBAAb,CAArC;AACAd,GAAG,CAACa,KAAJ,CAAW,GAAEd,OAAQ,WAArB,EAAiC,8BAAae,yBAAb,CAAjC;AACAd,GAAG,CAACe,GAAJ,CAAS,GAAEhB,OAAQ,WAAnB,EAA+B,8BAAaiB,wBAAb,CAA/B;AAEAhB,GAAG,CAACe,GAAJ,CAAS,GAAEhB,OAAQ,gBAAnB,EAAmC,8BAAakB,4BAAb,CAAnC;AAEAjB,GAAG,CAACC,GAAJ,CAAQ,8BAAaiB,qBAAb,CAAR,E,CAEE;;AACAlB,GAAG,CAACmB,MAAJ,CAAW,IAAX,EAAiB,MAAM;AACrBC,EAAAA,OAAO,CAACC,GAAR,CAAY,mDAAZ;AACD,CAFD;eAKarB,G",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src",
      "sourcesContent": [
        "import express from 'express'\r\nimport bodyParser from 'body-parser'\r\nimport dotenv from 'dotenv'\r\nimport {\r\n  deleteComment,\r\n  getComments,\r\n  notFound,\r\n  postComment,\r\n  patchComment,\r\n  getMainComments\r\n} from './controllers'\r\nimport makeCallback from './express-callback'\r\n\r\ndotenv.config()\r\n\r\nconst apiRoot = process.env.DM_API_ROOT || \"\"\r\n\r\nconst app = express()\r\napp.use(bodyParser.json())\r\n// TODO: figure out DNT compliance.\r\napp.use((_, res, next) => {\r\n  res.set({ Tk: '!' })\r\n  next()\r\n})\r\napp.post(`${apiRoot}/comments`, makeCallback(postComment))\r\napp.delete(`${apiRoot}/comments/:id`, makeCallback(deleteComment))\r\napp.delete(`${apiRoot}/comments`, makeCallback(deleteComment))\r\napp.patch(`${apiRoot}/comments/:id`, makeCallback(patchComment))\r\napp.patch(`${apiRoot}/comments`, makeCallback(patchComment))\r\napp.get(`${apiRoot}/comments`, makeCallback(getComments))\r\n\r\napp.get(`${apiRoot}/main-comments`,makeCallback(getMainComments))\r\n\r\napp.use(makeCallback(notFound))\r\n\r\n  // listen for requests\r\n  app.listen(3000, () => {\r\n    console.log('Server is listening on port http://localhost:3000')\r\n  })\r\n\r\n\r\nexport default app\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969709
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"notFound\", {\n  enumerable: true,\n  get: function () {\n    return _notFound.default;\n  }\n});\nexports.getMainComments = exports.patchComment = exports.postComment = exports.getComments = exports.deleteComment = exports.default = void 0;\n\nvar _useCases = require(\"../use-cases\");\n\nvar _deleteComment = _interopRequireDefault(require(\"./delete-comment\"));\n\nvar _getComments = _interopRequireDefault(require(\"./get-comments\"));\n\nvar _postComment = _interopRequireDefault(require(\"./post-comment\"));\n\nvar _patchComment = _interopRequireDefault(require(\"./patch-comment\"));\n\nvar _notFound = _interopRequireDefault(require(\"./not-found\"));\n\nvar _getMainComments = _interopRequireDefault(require(\"./get-main-comments\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst deleteComment = (0, _deleteComment.default)({\n  removeComment: _useCases.removeComment\n});\nexports.deleteComment = deleteComment;\nconst getComments = (0, _getComments.default)({\n  listComments: _useCases.listComments\n});\nexports.getComments = getComments;\nconst postComment = (0, _postComment.default)({\n  addComment: _useCases.addComment\n});\nexports.postComment = postComment;\nconst patchComment = (0, _patchComment.default)({\n  editComment: _useCases.editComment\n});\nexports.patchComment = patchComment;\nconst getMainComments = (0, _getMainComments.default)({\n  listMainComments: _useCases.listMainComments\n});\nexports.getMainComments = getMainComments;\nconst commentController = Object.freeze({\n  deleteComment,\n  getComments,\n  notFound: _notFound.default,\n  postComment,\n  patchComment,\n  getMainComments\n});\nvar _default = commentController;\n/*@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http postComment\r\nservice -> controller: add-comment\r\ncontroller -> comment: create-comment\r\ncomment  -> controller: comment\r\ncontroller -> dataAcces: save-comment\r\ndataAcces-> mongoDB: save\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml\r\n\r\n\r\n\r\n@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http getMainComments\r\nservice -> controller: get-main-comments\r\ncontroller -> dataAcces: getMainComments\r\ndataAcces-> mongoDB: getComments\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml*/\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRlbGV0ZUNvbW1lbnQiLCJyZW1vdmVDb21tZW50IiwiZ2V0Q29tbWVudHMiLCJsaXN0Q29tbWVudHMiLCJwb3N0Q29tbWVudCIsImFkZENvbW1lbnQiLCJwYXRjaENvbW1lbnQiLCJlZGl0Q29tbWVudCIsImdldE1haW5Db21tZW50cyIsImxpc3RNYWluQ29tbWVudHMiLCJjb21tZW50Q29udHJvbGxlciIsIk9iamVjdCIsImZyZWV6ZSIsIm5vdEZvdW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7O0FBT0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxhQUFhLEdBQUcsNEJBQWtCO0FBQUVDLEVBQUFBLGFBQWEsRUFBYkE7QUFBRixDQUFsQixDQUF0Qjs7QUFDQSxNQUFNQyxXQUFXLEdBQUcsMEJBQWdCO0FBQ2xDQyxFQUFBQSxZQUFZLEVBQVpBO0FBRGtDLENBQWhCLENBQXBCOztBQUdBLE1BQU1DLFdBQVcsR0FBRywwQkFBZ0I7QUFBRUMsRUFBQUEsVUFBVSxFQUFWQTtBQUFGLENBQWhCLENBQXBCOztBQUNBLE1BQU1DLFlBQVksR0FBRywyQkFBaUI7QUFBRUMsRUFBQUEsV0FBVyxFQUFYQTtBQUFGLENBQWpCLENBQXJCOztBQUVBLE1BQU1DLGVBQWUsR0FBRyw4QkFBb0I7QUFBQ0MsRUFBQUEsZ0JBQWdCLEVBQWhCQTtBQUFELENBQXBCLENBQXhCOztBQUVBLE1BQU1DLGlCQUFpQixHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUN0Q1osRUFBQUEsYUFEc0M7QUFFdENFLEVBQUFBLFdBRnNDO0FBR3RDVyxFQUFBQSxRQUFRLEVBQVJBLGlCQUhzQztBQUl0Q1QsRUFBQUEsV0FKc0M7QUFLdENFLEVBQUFBLFlBTHNDO0FBTXRDRSxFQUFBQTtBQU5zQyxDQUFkLENBQTFCO2VBU2VFLGlCO0FBR2YiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxBcGxpY2FjaW9uRW1wcmVzYXJpYWxcXHNyY1xcY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIGFkZENvbW1lbnQsXHJcbiAgZWRpdENvbW1lbnQsXHJcbiAgbGlzdENvbW1lbnRzLFxyXG4gIHJlbW92ZUNvbW1lbnQsXHJcbiAgbGlzdE1haW5Db21tZW50c1xyXG59IGZyb20gJy4uL3VzZS1jYXNlcydcclxuaW1wb3J0IG1ha2VEZWxldGVDb21tZW50IGZyb20gJy4vZGVsZXRlLWNvbW1lbnQnXHJcbmltcG9ydCBtYWtlR2V0Q29tbWVudHMgZnJvbSAnLi9nZXQtY29tbWVudHMnXHJcbmltcG9ydCBtYWtlUG9zdENvbW1lbnQgZnJvbSAnLi9wb3N0LWNvbW1lbnQnXHJcbmltcG9ydCBtYWtlUGF0Y2hDb21tZW50IGZyb20gJy4vcGF0Y2gtY29tbWVudCdcclxuaW1wb3J0IG5vdEZvdW5kIGZyb20gJy4vbm90LWZvdW5kJ1xyXG5pbXBvcnQgbWFrZUdldE1haW5Db21tZW50cyBmcm9tICcuL2dldC1tYWluLWNvbW1lbnRzJ1xyXG5cclxuY29uc3QgZGVsZXRlQ29tbWVudCA9IG1ha2VEZWxldGVDb21tZW50KHsgcmVtb3ZlQ29tbWVudCB9KVxyXG5jb25zdCBnZXRDb21tZW50cyA9IG1ha2VHZXRDb21tZW50cyh7XHJcbiAgbGlzdENvbW1lbnRzXHJcbn0pXHJcbmNvbnN0IHBvc3RDb21tZW50ID0gbWFrZVBvc3RDb21tZW50KHsgYWRkQ29tbWVudCB9KVxyXG5jb25zdCBwYXRjaENvbW1lbnQgPSBtYWtlUGF0Y2hDb21tZW50KHsgZWRpdENvbW1lbnQgfSlcclxuXHJcbmNvbnN0IGdldE1haW5Db21tZW50cyA9IG1ha2VHZXRNYWluQ29tbWVudHMoe2xpc3RNYWluQ29tbWVudHMgfSlcclxuXHJcbmNvbnN0IGNvbW1lbnRDb250cm9sbGVyID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgZGVsZXRlQ29tbWVudCxcclxuICBnZXRDb21tZW50cyxcclxuICBub3RGb3VuZCxcclxuICBwb3N0Q29tbWVudCxcclxuICBwYXRjaENvbW1lbnQsXHJcbiAgZ2V0TWFpbkNvbW1lbnRzXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb21tZW50Q29udHJvbGxlclxyXG5leHBvcnQgeyBkZWxldGVDb21tZW50LCBnZXRDb21tZW50cywgbm90Rm91bmQsIHBvc3RDb21tZW50LCBwYXRjaENvbW1lbnQsIGdldE1haW5Db21tZW50cyB9XHJcblxyXG4vKkBzdGFydHVtbFxyXG5hY3RvciB1c2VyXHJcbmJvdW5kYXJ5IHNlcnZpY2VcclxuY29udHJvbCBjb250cm9sbGVyXHJcbmVudGl0eSBjb21tZW50XHJcbmJvdW5kYXJ5IGRhdGFBY2Nlc1xyXG5kYXRhYmFzZSBtb25nb0RCXHJcblxyXG51c2VyIC0+ICBzZXJ2aWNlIDogSHR0cCBwb3N0Q29tbWVudFxyXG5zZXJ2aWNlIC0+IGNvbnRyb2xsZXI6IGFkZC1jb21tZW50XHJcbmNvbnRyb2xsZXIgLT4gY29tbWVudDogY3JlYXRlLWNvbW1lbnRcclxuY29tbWVudCAgLT4gY29udHJvbGxlcjogY29tbWVudFxyXG5jb250cm9sbGVyIC0+IGRhdGFBY2Nlczogc2F2ZS1jb21tZW50XHJcbmRhdGFBY2Nlcy0+IG1vbmdvREI6IHNhdmVcclxubW9uZ29EQiAtPiBkYXRhQWNjZXMgOiByZXR1cm4tcmVzdWx0XHJcbmRhdGFBY2NlcyAtPiBjb250cm9sbGVyOiByZXR1cm4tcmVzdWx0XHJcbmNvbnRyb2xsZXItPnNlcnZpY2U6IHJldHVybi1yZXN1bHRcclxuc2VydmljZSAtPiB1c2VyIDogcmV0dXJuIHJlc3VsdFxyXG5AZW5kdW1sXHJcblxyXG5cclxuXHJcbkBzdGFydHVtbFxyXG5hY3RvciB1c2VyXHJcbmJvdW5kYXJ5IHNlcnZpY2VcclxuY29udHJvbCBjb250cm9sbGVyXHJcbmVudGl0eSBjb21tZW50XHJcbmJvdW5kYXJ5IGRhdGFBY2Nlc1xyXG5kYXRhYmFzZSBtb25nb0RCXHJcblxyXG51c2VyIC0+ICBzZXJ2aWNlIDogSHR0cCBnZXRNYWluQ29tbWVudHNcclxuc2VydmljZSAtPiBjb250cm9sbGVyOiBnZXQtbWFpbi1jb21tZW50c1xyXG5jb250cm9sbGVyIC0+IGRhdGFBY2NlczogZ2V0TWFpbkNvbW1lbnRzXHJcbmRhdGFBY2Nlcy0+IG1vbmdvREI6IGdldENvbW1lbnRzXHJcbm1vbmdvREIgLT4gZGF0YUFjY2VzIDogcmV0dXJuLXJlc3VsdFxyXG5kYXRhQWNjZXMgLT4gY29udHJvbGxlcjogcmV0dXJuLXJlc3VsdFxyXG5jb250cm9sbGVyLT5zZXJ2aWNlOiByZXR1cm4tcmVzdWx0XHJcbnNlcnZpY2UgLT4gdXNlciA6IHJldHVybiByZXN1bHRcclxuQGVuZHVtbCovIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "deleteComment",
        "removeComment",
        "getComments",
        "listComments",
        "postComment",
        "addComment",
        "patchComment",
        "editComment",
        "getMainComments",
        "listMainComments",
        "commentController",
        "Object",
        "freeze",
        "notFound"
      ],
      "mappings": ";;;;;;;;;;;;;AAAA;;AAOA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,4BAAkB;AAAEC,EAAAA,aAAa,EAAbA;AAAF,CAAlB,CAAtB;;AACA,MAAMC,WAAW,GAAG,0BAAgB;AAClCC,EAAAA,YAAY,EAAZA;AADkC,CAAhB,CAApB;;AAGA,MAAMC,WAAW,GAAG,0BAAgB;AAAEC,EAAAA,UAAU,EAAVA;AAAF,CAAhB,CAApB;;AACA,MAAMC,YAAY,GAAG,2BAAiB;AAAEC,EAAAA,WAAW,EAAXA;AAAF,CAAjB,CAArB;;AAEA,MAAMC,eAAe,GAAG,8BAAoB;AAACC,EAAAA,gBAAgB,EAAhBA;AAAD,CAApB,CAAxB;;AAEA,MAAMC,iBAAiB,GAAGC,MAAM,CAACC,MAAP,CAAc;AACtCZ,EAAAA,aADsC;AAEtCE,EAAAA,WAFsC;AAGtCW,EAAAA,QAAQ,EAARA,iBAHsC;AAItCT,EAAAA,WAJsC;AAKtCE,EAAAA,YALsC;AAMtCE,EAAAA;AANsC,CAAd,CAA1B;eASeE,iB;AAGf",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "sourcesContent": [
        "import {\r\n  addComment,\r\n  editComment,\r\n  listComments,\r\n  removeComment,\r\n  listMainComments\r\n} from '../use-cases'\r\nimport makeDeleteComment from './delete-comment'\r\nimport makeGetComments from './get-comments'\r\nimport makePostComment from './post-comment'\r\nimport makePatchComment from './patch-comment'\r\nimport notFound from './not-found'\r\nimport makeGetMainComments from './get-main-comments'\r\n\r\nconst deleteComment = makeDeleteComment({ removeComment })\r\nconst getComments = makeGetComments({\r\n  listComments\r\n})\r\nconst postComment = makePostComment({ addComment })\r\nconst patchComment = makePatchComment({ editComment })\r\n\r\nconst getMainComments = makeGetMainComments({listMainComments })\r\n\r\nconst commentController = Object.freeze({\r\n  deleteComment,\r\n  getComments,\r\n  notFound,\r\n  postComment,\r\n  patchComment,\r\n  getMainComments\r\n})\r\n\r\nexport default commentController\r\nexport { deleteComment, getComments, notFound, postComment, patchComment, getMainComments }\r\n\r\n/*@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http postComment\r\nservice -> controller: add-comment\r\ncontroller -> comment: create-comment\r\ncomment  -> controller: comment\r\ncontroller -> dataAcces: save-comment\r\ndataAcces-> mongoDB: save\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml\r\n\r\n\r\n\r\n@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http getMainComments\r\nservice -> controller: get-main-comments\r\ncontroller -> dataAcces: getMainComments\r\ndataAcces-> mongoDB: getComments\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml*/"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969706
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.listMainComments = exports.removeComment = exports.listComments = exports.editComment = exports.addComment = exports.default = void 0;\n\nvar _addComment = _interopRequireDefault(require(\"./add-comment\"));\n\nvar _editComment = _interopRequireDefault(require(\"./edit-comment\"));\n\nvar _removeComment = _interopRequireDefault(require(\"./remove-comment\"));\n\nvar _listComments = _interopRequireDefault(require(\"./list-comments\"));\n\nvar _handleModeration = _interopRequireDefault(require(\"./handle-moderation\"));\n\nvar _listMainComments = _interopRequireDefault(require(\"./list-main-comments\"));\n\nvar _dataAccess = _interopRequireDefault(require(\"../data-access\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst handleModeration = (0, _handleModeration.default)({\n  initiateReview: async () => {} // TODO: Make real initiate review function.\n\n});\nconst addComment = (0, _addComment.default)({\n  commentsDb: _dataAccess.default,\n  handleModeration\n});\nexports.addComment = addComment;\nconst editComment = (0, _editComment.default)({\n  commentsDb: _dataAccess.default,\n  handleModeration\n});\nexports.editComment = editComment;\nconst listComments = (0, _listComments.default)({\n  commentsDb: _dataAccess.default\n});\nexports.listComments = listComments;\nconst removeComment = (0, _removeComment.default)({\n  commentsDb: _dataAccess.default\n});\nexports.removeComment = removeComment;\nconst listMainComments = (0, _listMainComments.default)({\n  commentsDb: _dataAccess.default\n});\nexports.listMainComments = listMainComments;\nconst commentService = Object.freeze({\n  addComment,\n  editComment,\n  handleModeration,\n  listComments,\n  removeComment,\n  listMainComments\n});\nvar _default = commentService;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImhhbmRsZU1vZGVyYXRpb24iLCJpbml0aWF0ZVJldmlldyIsImFkZENvbW1lbnQiLCJjb21tZW50c0RiIiwiZWRpdENvbW1lbnQiLCJsaXN0Q29tbWVudHMiLCJyZW1vdmVDb21tZW50IiwibGlzdE1haW5Db21tZW50cyIsImNvbW1lbnRTZXJ2aWNlIiwiT2JqZWN0IiwiZnJlZXplIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxnQkFBZ0IsR0FBRywrQkFBcUI7QUFDNUNDLEVBQUFBLGNBQWMsRUFBRSxZQUFZLENBQUUsQ0FEYyxDQUNiOztBQURhLENBQXJCLENBQXpCO0FBR0EsTUFBTUMsVUFBVSxHQUFHLHlCQUFlO0FBQUVDLEVBQUFBLFVBQVUsRUFBVkEsbUJBQUY7QUFBY0gsRUFBQUE7QUFBZCxDQUFmLENBQW5COztBQUNBLE1BQU1JLFdBQVcsR0FBRywwQkFBZ0I7QUFBRUQsRUFBQUEsVUFBVSxFQUFWQSxtQkFBRjtBQUFjSCxFQUFBQTtBQUFkLENBQWhCLENBQXBCOztBQUNBLE1BQU1LLFlBQVksR0FBRywyQkFBaUI7QUFBRUYsRUFBQUEsVUFBVSxFQUFWQTtBQUFGLENBQWpCLENBQXJCOztBQUNBLE1BQU1HLGFBQWEsR0FBRyw0QkFBa0I7QUFBRUgsRUFBQUEsVUFBVSxFQUFWQTtBQUFGLENBQWxCLENBQXRCOztBQUNBLE1BQU1JLGdCQUFnQixHQUFHLCtCQUFxQjtBQUFFSixFQUFBQSxVQUFVLEVBQVZBO0FBQUYsQ0FBckIsQ0FBekI7O0FBRUEsTUFBTUssY0FBYyxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUNuQ1IsRUFBQUEsVUFEbUM7QUFFbkNFLEVBQUFBLFdBRm1DO0FBR25DSixFQUFBQSxnQkFIbUM7QUFJbkNLLEVBQUFBLFlBSm1DO0FBS25DQyxFQUFBQSxhQUxtQztBQU1uQ0MsRUFBQUE7QUFObUMsQ0FBZCxDQUF2QjtlQVNlQyxjIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcQXBsaWNhY2lvbkVtcHJlc2FyaWFsXFxzcmNcXHVzZS1jYXNlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtYWtlQWRkQ29tbWVudCBmcm9tICcuL2FkZC1jb21tZW50J1xyXG5pbXBvcnQgbWFrZUVkaXRDb21tZW50IGZyb20gJy4vZWRpdC1jb21tZW50J1xyXG5pbXBvcnQgbWFrZVJlbW92ZUNvbW1lbnQgZnJvbSAnLi9yZW1vdmUtY29tbWVudCdcclxuaW1wb3J0IG1ha2VMaXN0Q29tbWVudHMgZnJvbSAnLi9saXN0LWNvbW1lbnRzJ1xyXG5pbXBvcnQgbWFrZUhhbmRsZU1vZGVyYXRpb24gZnJvbSAnLi9oYW5kbGUtbW9kZXJhdGlvbidcclxuaW1wb3J0IG1ha2VMaXN0TWFpbkNvbW1lbnRzIGZyb20gJy4vbGlzdC1tYWluLWNvbW1lbnRzJ1xyXG5pbXBvcnQgY29tbWVudHNEYiBmcm9tICcuLi9kYXRhLWFjY2VzcydcclxuXHJcbmNvbnN0IGhhbmRsZU1vZGVyYXRpb24gPSBtYWtlSGFuZGxlTW9kZXJhdGlvbih7XHJcbiAgaW5pdGlhdGVSZXZpZXc6IGFzeW5jICgpID0+IHt9IC8vIFRPRE86IE1ha2UgcmVhbCBpbml0aWF0ZSByZXZpZXcgZnVuY3Rpb24uXHJcbn0pXHJcbmNvbnN0IGFkZENvbW1lbnQgPSBtYWtlQWRkQ29tbWVudCh7IGNvbW1lbnRzRGIsIGhhbmRsZU1vZGVyYXRpb24gfSlcclxuY29uc3QgZWRpdENvbW1lbnQgPSBtYWtlRWRpdENvbW1lbnQoeyBjb21tZW50c0RiLCBoYW5kbGVNb2RlcmF0aW9uIH0pXHJcbmNvbnN0IGxpc3RDb21tZW50cyA9IG1ha2VMaXN0Q29tbWVudHMoeyBjb21tZW50c0RiIH0pXHJcbmNvbnN0IHJlbW92ZUNvbW1lbnQgPSBtYWtlUmVtb3ZlQ29tbWVudCh7IGNvbW1lbnRzRGIgfSlcclxuY29uc3QgbGlzdE1haW5Db21tZW50cyA9IG1ha2VMaXN0TWFpbkNvbW1lbnRzKHsgY29tbWVudHNEYiB9KVxyXG5cclxuY29uc3QgY29tbWVudFNlcnZpY2UgPSBPYmplY3QuZnJlZXplKHtcclxuICBhZGRDb21tZW50LFxyXG4gIGVkaXRDb21tZW50LFxyXG4gIGhhbmRsZU1vZGVyYXRpb24sXHJcbiAgbGlzdENvbW1lbnRzLFxyXG4gIHJlbW92ZUNvbW1lbnQsXHJcbiAgbGlzdE1haW5Db21tZW50c1xyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29tbWVudFNlcnZpY2VcclxuZXhwb3J0IHsgYWRkQ29tbWVudCwgZWRpdENvbW1lbnQsIGxpc3RDb21tZW50cywgcmVtb3ZlQ29tbWVudCwgbGlzdE1haW5Db21tZW50cyB9XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "handleModeration",
        "initiateReview",
        "addComment",
        "commentsDb",
        "editComment",
        "listComments",
        "removeComment",
        "listMainComments",
        "commentService",
        "Object",
        "freeze"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,gBAAgB,GAAG,+BAAqB;AAC5CC,EAAAA,cAAc,EAAE,YAAY,CAAE,CADc,CACb;;AADa,CAArB,CAAzB;AAGA,MAAMC,UAAU,GAAG,yBAAe;AAAEC,EAAAA,UAAU,EAAVA,mBAAF;AAAcH,EAAAA;AAAd,CAAf,CAAnB;;AACA,MAAMI,WAAW,GAAG,0BAAgB;AAAED,EAAAA,UAAU,EAAVA,mBAAF;AAAcH,EAAAA;AAAd,CAAhB,CAApB;;AACA,MAAMK,YAAY,GAAG,2BAAiB;AAAEF,EAAAA,UAAU,EAAVA;AAAF,CAAjB,CAArB;;AACA,MAAMG,aAAa,GAAG,4BAAkB;AAAEH,EAAAA,UAAU,EAAVA;AAAF,CAAlB,CAAtB;;AACA,MAAMI,gBAAgB,GAAG,+BAAqB;AAAEJ,EAAAA,UAAU,EAAVA;AAAF,CAArB,CAAzB;;AAEA,MAAMK,cAAc,GAAGC,MAAM,CAACC,MAAP,CAAc;AACnCR,EAAAA,UADmC;AAEnCE,EAAAA,WAFmC;AAGnCJ,EAAAA,gBAHmC;AAInCK,EAAAA,YAJmC;AAKnCC,EAAAA,aALmC;AAMnCC,EAAAA;AANmC,CAAd,CAAvB;eASeC,c",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "sourcesContent": [
        "import makeAddComment from './add-comment'\r\nimport makeEditComment from './edit-comment'\r\nimport makeRemoveComment from './remove-comment'\r\nimport makeListComments from './list-comments'\r\nimport makeHandleModeration from './handle-moderation'\r\nimport makeListMainComments from './list-main-comments'\r\nimport commentsDb from '../data-access'\r\n\r\nconst handleModeration = makeHandleModeration({\r\n  initiateReview: async () => {} // TODO: Make real initiate review function.\r\n})\r\nconst addComment = makeAddComment({ commentsDb, handleModeration })\r\nconst editComment = makeEditComment({ commentsDb, handleModeration })\r\nconst listComments = makeListComments({ commentsDb })\r\nconst removeComment = makeRemoveComment({ commentsDb })\r\nconst listMainComments = makeListMainComments({ commentsDb })\r\n\r\nconst commentService = Object.freeze({\r\n  addComment,\r\n  editComment,\r\n  handleModeration,\r\n  listComments,\r\n  removeComment,\r\n  listMainComments\r\n})\r\n\r\nexport default commentService\r\nexport { addComment, editComment, listComments, removeComment, listMainComments }\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969713
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\\\\add-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\add-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\add-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\add-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
        "sourceFileName": "add-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeAddComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeAddComment({\n  commentsDb,\n  handleModeration\n}) {\n  return async function addComment(commentInfo) {\n    const comment = (0, _comment.default)(commentInfo);\n    const exists = await commentsDb.findByHash({\n      hash: comment.getHash()\n    });\n\n    if (exists) {\n      return exists;\n    }\n\n    const moderated = await handleModeration({\n      comment\n    });\n    const commentSource = moderated.getSource();\n    return commentsDb.insert({\n      author: moderated.getAuthor(),\n      createdOn: moderated.getCreatedOn(),\n      hash: moderated.getHash(),\n      id: moderated.getId(),\n      modifiedOn: moderated.getModifiedOn(),\n      postId: moderated.getPostId(),\n      published: moderated.isPublished(),\n      replyToId: moderated.getReplyToId(),\n      source: {\n        ip: commentSource.getIp(),\n        browser: commentSource.getBrowser(),\n        referrer: commentSource.getReferrer()\n      },\n      text: moderated.getText()\n    });\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1jb21tZW50LmpzIl0sIm5hbWVzIjpbIm1ha2VBZGRDb21tZW50IiwiY29tbWVudHNEYiIsImhhbmRsZU1vZGVyYXRpb24iLCJhZGRDb21tZW50IiwiY29tbWVudEluZm8iLCJjb21tZW50IiwiZXhpc3RzIiwiZmluZEJ5SGFzaCIsImhhc2giLCJnZXRIYXNoIiwibW9kZXJhdGVkIiwiY29tbWVudFNvdXJjZSIsImdldFNvdXJjZSIsImluc2VydCIsImF1dGhvciIsImdldEF1dGhvciIsImNyZWF0ZWRPbiIsImdldENyZWF0ZWRPbiIsImlkIiwiZ2V0SWQiLCJtb2RpZmllZE9uIiwiZ2V0TW9kaWZpZWRPbiIsInBvc3RJZCIsImdldFBvc3RJZCIsInB1Ymxpc2hlZCIsImlzUHVibGlzaGVkIiwicmVwbHlUb0lkIiwiZ2V0UmVwbHlUb0lkIiwic291cmNlIiwiaXAiLCJnZXRJcCIsImJyb3dzZXIiLCJnZXRCcm93c2VyIiwicmVmZXJyZXIiLCJnZXRSZWZlcnJlciIsInRleHQiLCJnZXRUZXh0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFDZSxTQUFTQSxjQUFULENBQXlCO0FBQUVDLEVBQUFBLFVBQUY7QUFBY0MsRUFBQUE7QUFBZCxDQUF6QixFQUEyRDtBQUN4RSxTQUFPLGVBQWVDLFVBQWYsQ0FBMkJDLFdBQTNCLEVBQXdDO0FBQzdDLFVBQU1DLE9BQU8sR0FBRyxzQkFBWUQsV0FBWixDQUFoQjtBQUNBLFVBQU1FLE1BQU0sR0FBRyxNQUFNTCxVQUFVLENBQUNNLFVBQVgsQ0FBc0I7QUFBRUMsTUFBQUEsSUFBSSxFQUFFSCxPQUFPLENBQUNJLE9BQVI7QUFBUixLQUF0QixDQUFyQjs7QUFDQSxRQUFJSCxNQUFKLEVBQVk7QUFDVixhQUFPQSxNQUFQO0FBQ0Q7O0FBRUQsVUFBTUksU0FBUyxHQUFHLE1BQU1SLGdCQUFnQixDQUFDO0FBQUVHLE1BQUFBO0FBQUYsS0FBRCxDQUF4QztBQUNBLFVBQU1NLGFBQWEsR0FBR0QsU0FBUyxDQUFDRSxTQUFWLEVBQXRCO0FBQ0EsV0FBT1gsVUFBVSxDQUFDWSxNQUFYLENBQWtCO0FBQ3ZCQyxNQUFBQSxNQUFNLEVBQUVKLFNBQVMsQ0FBQ0ssU0FBVixFQURlO0FBRXZCQyxNQUFBQSxTQUFTLEVBQUVOLFNBQVMsQ0FBQ08sWUFBVixFQUZZO0FBR3ZCVCxNQUFBQSxJQUFJLEVBQUVFLFNBQVMsQ0FBQ0QsT0FBVixFQUhpQjtBQUl2QlMsTUFBQUEsRUFBRSxFQUFFUixTQUFTLENBQUNTLEtBQVYsRUFKbUI7QUFLdkJDLE1BQUFBLFVBQVUsRUFBRVYsU0FBUyxDQUFDVyxhQUFWLEVBTFc7QUFNdkJDLE1BQUFBLE1BQU0sRUFBRVosU0FBUyxDQUFDYSxTQUFWLEVBTmU7QUFPdkJDLE1BQUFBLFNBQVMsRUFBRWQsU0FBUyxDQUFDZSxXQUFWLEVBUFk7QUFRdkJDLE1BQUFBLFNBQVMsRUFBRWhCLFNBQVMsQ0FBQ2lCLFlBQVYsRUFSWTtBQVN2QkMsTUFBQUEsTUFBTSxFQUFFO0FBQ05DLFFBQUFBLEVBQUUsRUFBRWxCLGFBQWEsQ0FBQ21CLEtBQWQsRUFERTtBQUVOQyxRQUFBQSxPQUFPLEVBQUVwQixhQUFhLENBQUNxQixVQUFkLEVBRkg7QUFHTkMsUUFBQUEsUUFBUSxFQUFFdEIsYUFBYSxDQUFDdUIsV0FBZDtBQUhKLE9BVGU7QUFjdkJDLE1BQUFBLElBQUksRUFBRXpCLFNBQVMsQ0FBQzBCLE9BQVY7QUFkaUIsS0FBbEIsQ0FBUDtBQWdCRCxHQXpCRDtBQTBCRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXEFwbGljYWNpb25FbXByZXNhcmlhbFxcc3JjXFx1c2UtY2FzZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFrZUNvbW1lbnQgZnJvbSAnLi4vY29tbWVudCdcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZUFkZENvbW1lbnQgKHsgY29tbWVudHNEYiwgaGFuZGxlTW9kZXJhdGlvbiB9KSB7XHJcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGFkZENvbW1lbnQgKGNvbW1lbnRJbmZvKSB7XHJcbiAgICBjb25zdCBjb21tZW50ID0gbWFrZUNvbW1lbnQoY29tbWVudEluZm8pXHJcbiAgICBjb25zdCBleGlzdHMgPSBhd2FpdCBjb21tZW50c0RiLmZpbmRCeUhhc2goeyBoYXNoOiBjb21tZW50LmdldEhhc2goKSB9KVxyXG4gICAgaWYgKGV4aXN0cykge1xyXG4gICAgICByZXR1cm4gZXhpc3RzXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbW9kZXJhdGVkID0gYXdhaXQgaGFuZGxlTW9kZXJhdGlvbih7IGNvbW1lbnQgfSlcclxuICAgIGNvbnN0IGNvbW1lbnRTb3VyY2UgPSBtb2RlcmF0ZWQuZ2V0U291cmNlKClcclxuICAgIHJldHVybiBjb21tZW50c0RiLmluc2VydCh7XHJcbiAgICAgIGF1dGhvcjogbW9kZXJhdGVkLmdldEF1dGhvcigpLFxyXG4gICAgICBjcmVhdGVkT246IG1vZGVyYXRlZC5nZXRDcmVhdGVkT24oKSxcclxuICAgICAgaGFzaDogbW9kZXJhdGVkLmdldEhhc2goKSxcclxuICAgICAgaWQ6IG1vZGVyYXRlZC5nZXRJZCgpLFxyXG4gICAgICBtb2RpZmllZE9uOiBtb2RlcmF0ZWQuZ2V0TW9kaWZpZWRPbigpLFxyXG4gICAgICBwb3N0SWQ6IG1vZGVyYXRlZC5nZXRQb3N0SWQoKSxcclxuICAgICAgcHVibGlzaGVkOiBtb2RlcmF0ZWQuaXNQdWJsaXNoZWQoKSxcclxuICAgICAgcmVwbHlUb0lkOiBtb2RlcmF0ZWQuZ2V0UmVwbHlUb0lkKCksXHJcbiAgICAgIHNvdXJjZToge1xyXG4gICAgICAgIGlwOiBjb21tZW50U291cmNlLmdldElwKCksXHJcbiAgICAgICAgYnJvd3NlcjogY29tbWVudFNvdXJjZS5nZXRCcm93c2VyKCksXHJcbiAgICAgICAgcmVmZXJyZXI6IGNvbW1lbnRTb3VyY2UuZ2V0UmVmZXJyZXIoKVxyXG4gICAgICB9LFxyXG4gICAgICB0ZXh0OiBtb2RlcmF0ZWQuZ2V0VGV4dCgpXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "add-comment.js"
      ],
      "names": [
        "makeAddComment",
        "commentsDb",
        "handleModeration",
        "addComment",
        "commentInfo",
        "comment",
        "exists",
        "findByHash",
        "hash",
        "getHash",
        "moderated",
        "commentSource",
        "getSource",
        "insert",
        "author",
        "getAuthor",
        "createdOn",
        "getCreatedOn",
        "id",
        "getId",
        "modifiedOn",
        "getModifiedOn",
        "postId",
        "getPostId",
        "published",
        "isPublished",
        "replyToId",
        "getReplyToId",
        "source",
        "ip",
        "getIp",
        "browser",
        "getBrowser",
        "referrer",
        "getReferrer",
        "text",
        "getText"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACe,SAASA,cAAT,CAAyB;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAAzB,EAA2D;AACxE,SAAO,eAAeC,UAAf,CAA2BC,WAA3B,EAAwC;AAC7C,UAAMC,OAAO,GAAG,sBAAYD,WAAZ,CAAhB;AACA,UAAME,MAAM,GAAG,MAAML,UAAU,CAACM,UAAX,CAAsB;AAAEC,MAAAA,IAAI,EAAEH,OAAO,CAACI,OAAR;AAAR,KAAtB,CAArB;;AACA,QAAIH,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;;AAED,UAAMI,SAAS,GAAG,MAAMR,gBAAgB,CAAC;AAAEG,MAAAA;AAAF,KAAD,CAAxC;AACA,UAAMM,aAAa,GAAGD,SAAS,CAACE,SAAV,EAAtB;AACA,WAAOX,UAAU,CAACY,MAAX,CAAkB;AACvBC,MAAAA,MAAM,EAAEJ,SAAS,CAACK,SAAV,EADe;AAEvBC,MAAAA,SAAS,EAAEN,SAAS,CAACO,YAAV,EAFY;AAGvBT,MAAAA,IAAI,EAAEE,SAAS,CAACD,OAAV,EAHiB;AAIvBS,MAAAA,EAAE,EAAER,SAAS,CAACS,KAAV,EAJmB;AAKvBC,MAAAA,UAAU,EAAEV,SAAS,CAACW,aAAV,EALW;AAMvBC,MAAAA,MAAM,EAAEZ,SAAS,CAACa,SAAV,EANe;AAOvBC,MAAAA,SAAS,EAAEd,SAAS,CAACe,WAAV,EAPY;AAQvBC,MAAAA,SAAS,EAAEhB,SAAS,CAACiB,YAAV,EARY;AASvBC,MAAAA,MAAM,EAAE;AACNC,QAAAA,EAAE,EAAElB,aAAa,CAACmB,KAAd,EADE;AAENC,QAAAA,OAAO,EAAEpB,aAAa,CAACqB,UAAd,EAFH;AAGNC,QAAAA,QAAQ,EAAEtB,aAAa,CAACuB,WAAd;AAHJ,OATe;AAcvBC,MAAAA,IAAI,EAAEzB,SAAS,CAAC0B,OAAV;AAdiB,KAAlB,CAAP;AAgBD,GAzBD;AA0BD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\nexport default function makeAddComment ({ commentsDb, handleModeration }) {\r\n  return async function addComment (commentInfo) {\r\n    const comment = makeComment(commentInfo)\r\n    const exists = await commentsDb.findByHash({ hash: comment.getHash() })\r\n    if (exists) {\r\n      return exists\r\n    }\r\n\r\n    const moderated = await handleModeration({ comment })\r\n    const commentSource = moderated.getSource()\r\n    return commentsDb.insert({\r\n      author: moderated.getAuthor(),\r\n      createdOn: moderated.getCreatedOn(),\r\n      hash: moderated.getHash(),\r\n      id: moderated.getId(),\r\n      modifiedOn: moderated.getModifiedOn(),\r\n      postId: moderated.getPostId(),\r\n      published: moderated.isPublished(),\r\n      replyToId: moderated.getReplyToId(),\r\n      source: {\r\n        ip: commentSource.getIp(),\r\n        browser: commentSource.getBrowser(),\r\n        referrer: commentSource.getReferrer()\r\n      },\r\n      text: moderated.getText()\r\n    })\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969710
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\comment\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nvar _Id = _interopRequireDefault(require(\"../Id\"));\n\nvar _ipRegex = _interopRequireDefault(require(\"ip-regex\"));\n\nvar _sanitizeHtml = _interopRequireDefault(require(\"sanitize-html\"));\n\nvar _comment = _interopRequireDefault(require(\"./comment\"));\n\nvar _source = _interopRequireDefault(require(\"./source\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst makeSource = (0, _source.default)({\n  isValidIp\n});\nconst makeComment = (0, _comment.default)({\n  Id: _Id.default,\n  md5,\n  sanitize,\n  makeSource\n});\nvar _default = makeComment;\nexports.default = _default;\n\nfunction isValidIp(ip) {\n  return (0, _ipRegex.default)({\n    exact: true\n  }).test(ip);\n}\n\nfunction md5(text) {\n  return _crypto.default.createHash('md5').update(text, 'utf-8').digest('hex');\n}\n\nfunction sanitize(text) {\n  // TODO: allow more coding embeds\n  return (0, _sanitizeHtml.default)(text, {\n    allowedIframeHostnames: ['codesandbox.io', 'repl.it']\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1ha2VTb3VyY2UiLCJpc1ZhbGlkSXAiLCJtYWtlQ29tbWVudCIsIklkIiwibWQ1Iiwic2FuaXRpemUiLCJpcCIsImV4YWN0IiwidGVzdCIsInRleHQiLCJjcnlwdG8iLCJjcmVhdGVIYXNoIiwidXBkYXRlIiwiZGlnZXN0IiwiYWxsb3dlZElmcmFtZUhvc3RuYW1lcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLHFCQUFnQjtBQUFFQyxFQUFBQTtBQUFGLENBQWhCLENBQW5CO0FBQ0EsTUFBTUMsV0FBVyxHQUFHLHNCQUFpQjtBQUFFQyxFQUFBQSxFQUFFLEVBQUZBLFdBQUY7QUFBTUMsRUFBQUEsR0FBTjtBQUFXQyxFQUFBQSxRQUFYO0FBQXFCTCxFQUFBQTtBQUFyQixDQUFqQixDQUFwQjtlQUVlRSxXOzs7QUFFZixTQUFTRCxTQUFULENBQW9CSyxFQUFwQixFQUF3QjtBQUN0QixTQUFPLHNCQUFRO0FBQUVDLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQVIsRUFBeUJDLElBQXpCLENBQThCRixFQUE5QixDQUFQO0FBQ0Q7O0FBRUQsU0FBU0YsR0FBVCxDQUFjSyxJQUFkLEVBQW9CO0FBQ2xCLFNBQU9DLGdCQUNKQyxVQURJLENBQ08sS0FEUCxFQUVKQyxNQUZJLENBRUdILElBRkgsRUFFUyxPQUZULEVBR0pJLE1BSEksQ0FHRyxLQUhILENBQVA7QUFJRDs7QUFFRCxTQUFTUixRQUFULENBQW1CSSxJQUFuQixFQUF5QjtBQUN2QjtBQUNBLFNBQU8sMkJBQWFBLElBQWIsRUFBbUI7QUFDeEJLLElBQUFBLHNCQUFzQixFQUFFLENBQUMsZ0JBQUQsRUFBbUIsU0FBbkI7QUFEQSxHQUFuQixDQUFQO0FBR0QiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxBcGxpY2FjaW9uRW1wcmVzYXJpYWxcXHNyY1xcY29tbWVudCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJ1xyXG5pbXBvcnQgSWQgZnJvbSAnLi4vSWQnXHJcbmltcG9ydCBpcFJlZ2V4IGZyb20gJ2lwLXJlZ2V4J1xyXG5pbXBvcnQgc2FuaXRpemVIdG1sIGZyb20gJ3Nhbml0aXplLWh0bWwnXHJcbmltcG9ydCBidWlsZE1ha2VDb21tZW50IGZyb20gJy4vY29tbWVudCdcclxuaW1wb3J0IGJ1aWxkTWFrZVNvdXJjZSBmcm9tICcuL3NvdXJjZSdcclxuXHJcbmNvbnN0IG1ha2VTb3VyY2UgPSBidWlsZE1ha2VTb3VyY2UoeyBpc1ZhbGlkSXAgfSlcclxuY29uc3QgbWFrZUNvbW1lbnQgPSBidWlsZE1ha2VDb21tZW50KHsgSWQsIG1kNSwgc2FuaXRpemUsIG1ha2VTb3VyY2UgfSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1ha2VDb21tZW50XHJcblxyXG5mdW5jdGlvbiBpc1ZhbGlkSXAgKGlwKSB7XHJcbiAgcmV0dXJuIGlwUmVnZXgoeyBleGFjdDogdHJ1ZSB9KS50ZXN0KGlwKVxyXG59XHJcblxyXG5mdW5jdGlvbiBtZDUgKHRleHQpIHtcclxuICByZXR1cm4gY3J5cHRvXHJcbiAgICAuY3JlYXRlSGFzaCgnbWQ1JylcclxuICAgIC51cGRhdGUodGV4dCwgJ3V0Zi04JylcclxuICAgIC5kaWdlc3QoJ2hleCcpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNhbml0aXplICh0ZXh0KSB7XHJcbiAgLy8gVE9ETzogYWxsb3cgbW9yZSBjb2RpbmcgZW1iZWRzXHJcbiAgcmV0dXJuIHNhbml0aXplSHRtbCh0ZXh0LCB7XHJcbiAgICBhbGxvd2VkSWZyYW1lSG9zdG5hbWVzOiBbJ2NvZGVzYW5kYm94LmlvJywgJ3JlcGwuaXQnXVxyXG4gIH0pXHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "makeSource",
        "isValidIp",
        "makeComment",
        "Id",
        "md5",
        "sanitize",
        "ip",
        "exact",
        "test",
        "text",
        "crypto",
        "createHash",
        "update",
        "digest",
        "allowedIframeHostnames"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,qBAAgB;AAAEC,EAAAA;AAAF,CAAhB,CAAnB;AACA,MAAMC,WAAW,GAAG,sBAAiB;AAAEC,EAAAA,EAAE,EAAFA,WAAF;AAAMC,EAAAA,GAAN;AAAWC,EAAAA,QAAX;AAAqBL,EAAAA;AAArB,CAAjB,CAApB;eAEeE,W;;;AAEf,SAASD,SAAT,CAAoBK,EAApB,EAAwB;AACtB,SAAO,sBAAQ;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAR,EAAyBC,IAAzB,CAA8BF,EAA9B,CAAP;AACD;;AAED,SAASF,GAAT,CAAcK,IAAd,EAAoB;AAClB,SAAOC,gBACJC,UADI,CACO,KADP,EAEJC,MAFI,CAEGH,IAFH,EAES,OAFT,EAGJI,MAHI,CAGG,KAHH,CAAP;AAID;;AAED,SAASR,QAAT,CAAmBI,IAAnB,EAAyB;AACvB;AACA,SAAO,2BAAaA,IAAb,EAAmB;AACxBK,IAAAA,sBAAsB,EAAE,CAAC,gBAAD,EAAmB,SAAnB;AADA,GAAnB,CAAP;AAGD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
      "sourcesContent": [
        "import crypto from 'crypto'\r\nimport Id from '../Id'\r\nimport ipRegex from 'ip-regex'\r\nimport sanitizeHtml from 'sanitize-html'\r\nimport buildMakeComment from './comment'\r\nimport buildMakeSource from './source'\r\n\r\nconst makeSource = buildMakeSource({ isValidIp })\r\nconst makeComment = buildMakeComment({ Id, md5, sanitize, makeSource })\r\n\r\nexport default makeComment\r\n\r\nfunction isValidIp (ip) {\r\n  return ipRegex({ exact: true }).test(ip)\r\n}\r\n\r\nfunction md5 (text) {\r\n  return crypto\r\n    .createHash('md5')\r\n    .update(text, 'utf-8')\r\n    .digest('hex')\r\n}\r\n\r\nfunction sanitize (text) {\r\n  // TODO: allow more coding embeds\r\n  return sanitizeHtml(text, {\r\n    allowedIframeHostnames: ['codesandbox.io', 'repl.it']\r\n  })\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969703
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\Id\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\Id\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\Id",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\Id\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\Id\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\Id\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\Id",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _cuid = _interopRequireDefault(require(\"cuid\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Id = Object.freeze({\n  makeId: _cuid.default,\n  isValidId: _cuid.default.isCuid\n});\nvar _default = Id;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIklkIiwiT2JqZWN0IiwiZnJlZXplIiwibWFrZUlkIiwiY3VpZCIsImlzVmFsaWRJZCIsImlzQ3VpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsRUFBRSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUN2QkMsRUFBQUEsTUFBTSxFQUFFQyxhQURlO0FBRXZCQyxFQUFBQSxTQUFTLEVBQUVELGNBQUtFO0FBRk8sQ0FBZCxDQUFYO2VBS2VOLEUiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxBcGxpY2FjaW9uRW1wcmVzYXJpYWxcXHNyY1xcSWQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3VpZCBmcm9tICdjdWlkJ1xyXG5cclxuY29uc3QgSWQgPSBPYmplY3QuZnJlZXplKHtcclxuICBtYWtlSWQ6IGN1aWQsXHJcbiAgaXNWYWxpZElkOiBjdWlkLmlzQ3VpZFxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSWRcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "Id",
        "Object",
        "freeze",
        "makeId",
        "cuid",
        "isValidId",
        "isCuid"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,EAAE,GAAGC,MAAM,CAACC,MAAP,CAAc;AACvBC,EAAAA,MAAM,EAAEC,aADe;AAEvBC,EAAAA,SAAS,EAAED,cAAKE;AAFO,CAAd,CAAX;eAKeN,E",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\Id",
      "sourcesContent": [
        "import cuid from 'cuid'\r\n\r\nconst Id = Object.freeze({\r\n  makeId: cuid,\r\n  isValidId: cuid.isCuid\r\n})\r\n\r\nexport default Id\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969702
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\comment\\\\comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
        "sourceFileName": "comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildMakeComment;\n\nfunction buildMakeComment({\n  Id,\n  md5,\n  sanitize,\n  makeSource\n}) {\n  return function makeComment({\n    author,\n    createdOn = Date.now(),\n    id = Id.makeId(),\n    source,\n    modifiedOn = Date.now(),\n    postId,\n    published = false,\n    replyToId,\n    text\n  } = {}) {\n    if (!Id.isValidId(id)) {\n      throw new Error('El comentario deben tener un id valido.');\n    }\n\n    if (!author) {\n      throw new Error('El comentario deben tener un autor.');\n    }\n\n    if (author.length < 2) {\n      throw new Error(\"El nombre del autor debe  tener minomo 2 caracteres.\");\n    }\n\n    if (!postId) {\n      throw new Error('El comentario debe tener un postId.');\n    }\n\n    if (!text || text.length < 1) {\n      throw new Error('El comentario debe incluir al menos un carcter de texto.');\n    }\n\n    if (!source) {\n      throw new Error('El comentario debe tener un origen.');\n    }\n\n    if (replyToId && !Id.isValidId(replyToId)) {\n      throw new Error('Si se suministra. El comentario debe contener un replyToId vlido.');\n    }\n\n    let sanitizedText = sanitize(text).trim();\n\n    if (sanitizedText.length < 1) {\n      throw new Error('El comentario no contiene texto utilizable.');\n    }\n\n    const validSource = makeSource(source);\n    const deletedText = '.xX Este comentario ha sido eliminado Xx.';\n    let hash;\n    return Object.freeze({\n      getAuthor: () => author,\n      getCreatedOn: () => createdOn,\n      getHash: () => hash || (hash = makeHash()),\n      getId: () => id,\n      getModifiedOn: () => modifiedOn,\n      getPostId: () => postId,\n      getReplyToId: () => replyToId,\n      getSource: () => validSource,\n      getText: () => sanitizedText,\n      isDeleted: () => sanitizedText === deletedText,\n      isPublished: () => published,\n      markDeleted: () => {\n        sanitizedText = deletedText;\n        author = 'borrado';\n      },\n      publish: () => {\n        published = true;\n      },\n      unPublish: () => {\n        published = false;\n      }\n    });\n\n    function makeHash() {\n      return md5(sanitizedText + published + (author || '') + (postId || '') + (replyToId || ''));\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnQuanMiXSwibmFtZXMiOlsiYnVpbGRNYWtlQ29tbWVudCIsIklkIiwibWQ1Iiwic2FuaXRpemUiLCJtYWtlU291cmNlIiwibWFrZUNvbW1lbnQiLCJhdXRob3IiLCJjcmVhdGVkT24iLCJEYXRlIiwibm93IiwiaWQiLCJtYWtlSWQiLCJzb3VyY2UiLCJtb2RpZmllZE9uIiwicG9zdElkIiwicHVibGlzaGVkIiwicmVwbHlUb0lkIiwidGV4dCIsImlzVmFsaWRJZCIsIkVycm9yIiwibGVuZ3RoIiwic2FuaXRpemVkVGV4dCIsInRyaW0iLCJ2YWxpZFNvdXJjZSIsImRlbGV0ZWRUZXh0IiwiaGFzaCIsIk9iamVjdCIsImZyZWV6ZSIsImdldEF1dGhvciIsImdldENyZWF0ZWRPbiIsImdldEhhc2giLCJtYWtlSGFzaCIsImdldElkIiwiZ2V0TW9kaWZpZWRPbiIsImdldFBvc3RJZCIsImdldFJlcGx5VG9JZCIsImdldFNvdXJjZSIsImdldFRleHQiLCJpc0RlbGV0ZWQiLCJpc1B1Ymxpc2hlZCIsIm1hcmtEZWxldGVkIiwicHVibGlzaCIsInVuUHVibGlzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGdCQUFULENBQTJCO0FBQUVDLEVBQUFBLEVBQUY7QUFBTUMsRUFBQUEsR0FBTjtBQUFXQyxFQUFBQSxRQUFYO0FBQXFCQyxFQUFBQTtBQUFyQixDQUEzQixFQUE4RDtBQUMzRSxTQUFPLFNBQVNDLFdBQVQsQ0FBc0I7QUFDM0JDLElBQUFBLE1BRDJCO0FBRTNCQyxJQUFBQSxTQUFTLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxFQUZlO0FBRzNCQyxJQUFBQSxFQUFFLEdBQUdULEVBQUUsQ0FBQ1UsTUFBSCxFQUhzQjtBQUkzQkMsSUFBQUEsTUFKMkI7QUFLM0JDLElBQUFBLFVBQVUsR0FBR0wsSUFBSSxDQUFDQyxHQUFMLEVBTGM7QUFNM0JLLElBQUFBLE1BTjJCO0FBTzNCQyxJQUFBQSxTQUFTLEdBQUcsS0FQZTtBQVEzQkMsSUFBQUEs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b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxBcGxpY2FjaW9uRW1wcmVzYXJpYWxcXHNyY1xcY29tbWVudCIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkTWFrZUNvbW1lbnQgKHsgSWQsIG1kNSwgc2FuaXRpemUsIG1ha2VTb3VyY2UgfSkge1xyXG4gIHJldHVybiBmdW5jdGlvbiBtYWtlQ29tbWVudCAoe1xyXG4gICAgYXV0aG9yLFxyXG4gICAgY3JlYXRlZE9uID0gRGF0ZS5ub3coKSxcclxuICAgIGlkID0gSWQubWFrZUlkKCksXHJcbiAgICBzb3VyY2UsXHJcbiAgICBtb2RpZmllZE9uID0gRGF0ZS5ub3coKSxcclxuICAgIHBvc3RJZCxcclxuICAgIHB1Ymxpc2hlZCA9IGZhbHNlLFxyXG4gICAgcmVwbHlUb0lkLFxyXG4gICAgdGV4dFxyXG4gIH0gPSB7fSkge1xyXG4gICAgaWYgKCFJZC5pc1ZhbGlkSWQoaWQpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgY29tZW50YXJpbyBkZWJlbiB0ZW5lciB1biBpZCB2YWxpZG8uJylcclxuICAgIH1cclxuICAgIGlmICghYXV0aG9yKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgY29tZW50YXJpbyBkZWJlbiB0ZW5lciB1biBhdXRvci4nKVxyXG4gICAgfVxyXG4gICAgaWYgKGF1dGhvci5sZW5ndGggPCAyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVsIG5vbWJyZSBkZWwgYXV0b3IgZGViZSAgdGVuZXIgbWlub21vIDIgY2FyYWN0ZXJlcy5cIilcclxuICAgIH1cclxuICAgIGlmICghcG9zdElkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgY29tZW50YXJpbyBkZWJlIHRlbmVyIHVuIHBvc3RJZC4nKVxyXG4gICAgfVxyXG4gICAgaWYgKCF0ZXh0IHx8IHRleHQubGVuZ3RoIDwgMSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIGNvbWVudGFyaW8gZGViZSBpbmNsdWlyIGFsIG1lbm9zIHVuIGNhcsOhY3RlciBkZSB0ZXh0by4nKVxyXG4gICAgfVxyXG4gICAgaWYgKCFzb3VyY2UpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbCBjb21lbnRhcmlvIGRlYmUgdGVuZXIgdW4gb3JpZ2VuLicpXHJcbiAgICB9XHJcbiAgICBpZiAocmVwbHlUb0lkICYmICFJZC5pc1ZhbGlkSWQocmVwbHlUb0lkKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpIHNlIHN1bWluaXN0cmEuIEVsIGNvbWVudGFyaW8gZGViZSBjb250ZW5lciB1biByZXBseVRvSWQgdsOhbGlkby4nKVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBzYW5pdGl6ZWRUZXh0ID0gc2FuaXRpemUodGV4dCkudHJpbSgpXHJcbiAgICBpZiAoc2FuaXRpemVkVGV4dC5sZW5ndGggPCAxKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgY29tZW50YXJpbyBubyBjb250aWVuZSB0ZXh0byB1dGlsaXphYmxlLicpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmFsaWRTb3VyY2UgPSBtYWtlU291cmNlKHNvdXJjZSlcclxuICAgIGNvbnN0IGRlbGV0ZWRUZXh0ID0gJy54WCBFc3RlIGNvbWVudGFyaW8gaGEgc2lkbyBlbGltaW5hZG8gWHguJ1xyXG4gICAgbGV0IGhhc2hcclxuXHJcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgIGdldEF1dGhvcjogKCkgPT4gYXV0aG9yLFxyXG4gICAgICBnZXRDcmVhdGVkT246ICgpID0+IGNyZWF0ZWRPbixcclxuICAgICAgZ2V0SGFzaDogKCkgPT4gaGFzaCB8fCAoaGFzaCA9IG1ha2VIYXNoKCkpLFxyXG4gICAgICBnZXRJZDogKCkgPT4gaWQsXHJcbiAgICAgIGdldE1vZGlmaWVkT246ICgpID0+IG1vZGlmaWVkT24sXHJcbiAgICAgIGdldFBvc3RJZDogKCkgPT4gcG9zdElkLFxyXG4gICAgICBnZXRSZXBseVRvSWQ6ICgpID0+IHJlcGx5VG9JZCxcclxuICAgICAgZ2V0U291cmNlOiAoKSA9PiB2YWxpZFNvdXJjZSxcclxuICAgICAgZ2V0VGV4dDogKCkgPT4gc2FuaXRpemVkVGV4dCxcclxuICAgICAgaXNEZWxldGVkOiAoKSA9PiBzYW5pdGl6ZWRUZXh0ID09PSBkZWxldGVkVGV4dCxcclxuICAgICAgaXNQdWJsaXNoZWQ6ICgpID0+IHB1Ymxpc2hlZCxcclxuICAgICAgbWFya0RlbGV0ZWQ6ICgpID0+IHtcclxuICAgICAgICBzYW5pdGl6ZWRUZXh0ID0gZGVsZXRlZFRleHRcclxuICAgICAgICBhdXRob3IgPSAnYm9ycmFkbydcclxuICAgICAgfSxcclxuICAgICAgcHVibGlzaDogKCkgPT4ge1xyXG4gICAgICAgIHB1Ymxpc2hlZCA9IHRydWVcclxuICAgICAgfSxcclxuICAgICAgdW5QdWJsaXNoOiAoKSA9PiB7XHJcbiAgICAgICAgcHVibGlzaGVkID0gZmFsc2VcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBmdW5jdGlvbiBtYWtlSGFzaCAoKSB7XHJcbiAgICAgIHJldHVybiBtZDUoXHJcbiAgICAgICAgc2FuaXRpemVkVGV4dCArXHJcbiAgICAgICAgICBwdWJsaXNoZWQgK1xyXG4gICAgICAgICAgKGF1dGhvciB8fCAnJykgK1xyXG4gICAgICAgICAgKHBvc3RJZCB8fCAnJykgK1xyXG4gICAgICAgICAgKHJlcGx5VG9JZCB8fCAnJylcclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "comment.js"
      ],
      "names": [
        "buildMakeComment",
        "Id",
        "md5",
        "sanitize",
        "makeSource",
        "makeComment",
        "author",
        "createdOn",
        "Date",
        "now",
        "id",
        "makeId",
        "source",
        "modifiedOn",
        "postId",
        "published",
        "replyToId",
        "text",
        "isValidId",
        "Error",
        "length",
        "sanitizedText",
        "trim",
        "validSource",
        "deletedText",
        "hash",
        "Object",
        "freeze",
        "getAuthor",
        "getCreatedOn",
        "getHash",
        "makeHash",
        "getId",
        "getModifiedOn",
        "getPostId",
        "getReplyToId",
        "getSource",
        "getText",
        "isDeleted",
        "isPublished",
        "markDeleted",
        "publish",
        "unPublish"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,gBAAT,CAA2B;AAAEC,EAAAA,EAAF;AAAMC,EAAAA,GAAN;AAAWC,EAAAA,QAAX;AAAqBC,EAAAA;AAArB,CAA3B,EAA8D;AAC3E,SAAO,SAASC,WAAT,CAAsB;AAC3BC,IAAAA,MAD2B;AAE3BC,IAAAA,SAAS,GAAGC,IAAI,CAACC,GAAL,EAFe;AAG3BC,IAAAA,EAAE,GAAGT,EAAE,CAACU,MAAH,EAHsB;AAI3BC,IAAAA,MAJ2B;AAK3BC,IAAAA,UAAU,GAAGL,IAAI,CAACC,GAAL,EALc;AAM3BK,IAAAA,MAN2B;AAO3BC,IAAAA,SAAS,GAAG,KAPe;AAQ3BC,IAAAA,SAR2B;AAS3BC,IAAAA;AAT2B,MAUzB,EAVG,EAUC;AACN,QAAI,CAAChB,EAAE,CAACiB,SAAH,CAAaR,EAAb,CAAL,EAAuB;AACrB,YAAM,IAAIS,KAAJ,CAAU,yCAAV,CAAN;AACD;;AACD,QAAI,CAACb,MAAL,EAAa;AACX,YAAM,IAAIa,KAAJ,CAAU,qCAAV,CAAN;AACD;;AACD,QAAIb,MAAM,CAACc,MAAP,GAAgB,CAApB,EAAuB;AACrB,YAAM,IAAID,KAAJ,CAAU,sDAAV,CAAN;AACD;;AACD,QAAI,CAACL,MAAL,EAAa;AACX,YAAM,IAAIK,KAAJ,CAAU,qCAAV,CAAN;AACD;;AACD,QAAI,CAACF,IAAD,IAASA,IAAI,CAACG,MAAL,GAAc,CAA3B,EAA8B;AAC5B,YAAM,IAAID,KAAJ,CAAU,2DAAV,CAAN;AACD;;AACD,QAAI,CAACP,MAAL,EAAa;AACX,YAAM,IAAIO,KAAJ,CAAU,qCAAV,CAAN;AACD;;AACD,QAAIH,SAAS,IAAI,CAACf,EAAE,CAACiB,SAAH,CAAaF,SAAb,CAAlB,EAA2C;AACzC,YAAM,IAAIG,KAAJ,CAAU,oEAAV,CAAN;AACD;;AAED,QAAIE,aAAa,GAAGlB,QAAQ,CAACc,IAAD,CAAR,CAAeK,IAAf,EAApB;;AACA,QAAID,aAAa,CAACD,MAAd,GAAuB,CAA3B,EAA8B;AAC5B,YAAM,IAAID,KAAJ,CAAU,6CAAV,CAAN;AACD;;AAED,UAAMI,WAAW,GAAGnB,UAAU,CAACQ,MAAD,CAA9B;AACA,UAAMY,WAAW,GAAG,2CAApB;AACA,QAAIC,IAAJ;AAEA,WAAOC,MAAM,CAACC,MAAP,CAAc;AACnBC,MAAAA,SAAS,EAAE,MAAMtB,MADE;AAEnBuB,MAAAA,YAAY,EAAE,MAAMtB,SAFD;AAGnBuB,MAAAA,OAAO,EAAE,MAAML,IAAI,KAAKA,IAAI,GAAGM,QAAQ,EAApB,CAHA;AAInBC,MAAAA,KAAK,EAAE,MAAMtB,EAJM;AAKnBuB,MAAAA,aAAa,EAAE,MAAMpB,UALF;AAMnBqB,MAAAA,SAAS,EAAE,MAAMpB,MANE;AAOnBqB,MAAAA,YAAY,EAAE,MAAMnB,SAPD;AAQnBoB,MAAAA,SAAS,EAAE,MAAMb,WARE;AASnBc,MAAAA,OAAO,EAAE,MAAMhB,aATI;AAUnBiB,MAAAA,SAAS,EAAE,MAAMjB,aAAa,KAAKG,WAVhB;AAWnBe,MAAAA,WAAW,EAAE,MAAMxB,SAXA;AAYnByB,MAAAA,WAAW,EAAE,MAAM;AACjBnB,QAAAA,aAAa,GAAGG,WAAhB;AACAlB,QAAAA,MAAM,GAAG,SAAT;AACD,OAfkB;AAgBnBmC,MAAAA,OAAO,EAAE,MAAM;AACb1B,QAAAA,SAAS,GAAG,IAAZ;AACD,OAlBkB;AAmBnB2B,MAAAA,SAAS,EAAE,MAAM;AACf3B,QAAAA,SAAS,GAAG,KAAZ;AACD;AArBkB,KAAd,CAAP;;AAwBA,aAASgB,QAAT,GAAqB;AACnB,aAAO7B,GAAG,CACRmB,aAAa,GACXN,SADF,IAEGT,MAAM,IAAI,EAFb,KAGGQ,MAAM,IAAI,EAHb,KAIGE,SAAS,IAAI,EAJhB,CADQ,CAAV;AAOD;AACF,GA3ED;AA4ED",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
      "sourcesContent": [
        "export default function buildMakeComment ({ Id, md5, sanitize, makeSource }) {\r\n  return function makeComment ({\r\n    author,\r\n    createdOn = Date.now(),\r\n    id = Id.makeId(),\r\n    source,\r\n    modifiedOn = Date.now(),\r\n    postId,\r\n    published = false,\r\n    replyToId,\r\n    text\r\n  } = {}) {\r\n    if (!Id.isValidId(id)) {\r\n      throw new Error('El comentario deben tener un id valido.')\r\n    }\r\n    if (!author) {\r\n      throw new Error('El comentario deben tener un autor.')\r\n    }\r\n    if (author.length < 2) {\r\n      throw new Error(\"El nombre del autor debe  tener minomo 2 caracteres.\")\r\n    }\r\n    if (!postId) {\r\n      throw new Error('El comentario debe tener un postId.')\r\n    }\r\n    if (!text || text.length < 1) {\r\n      throw new Error('El comentario debe incluir al menos un carcter de texto.')\r\n    }\r\n    if (!source) {\r\n      throw new Error('El comentario debe tener un origen.')\r\n    }\r\n    if (replyToId && !Id.isValidId(replyToId)) {\r\n      throw new Error('Si se suministra. El comentario debe contener un replyToId vlido.')\r\n    }\r\n\r\n    let sanitizedText = sanitize(text).trim()\r\n    if (sanitizedText.length < 1) {\r\n      throw new Error('El comentario no contiene texto utilizable.')\r\n    }\r\n\r\n    const validSource = makeSource(source)\r\n    const deletedText = '.xX Este comentario ha sido eliminado Xx.'\r\n    let hash\r\n\r\n    return Object.freeze({\r\n      getAuthor: () => author,\r\n      getCreatedOn: () => createdOn,\r\n      getHash: () => hash || (hash = makeHash()),\r\n      getId: () => id,\r\n      getModifiedOn: () => modifiedOn,\r\n      getPostId: () => postId,\r\n      getReplyToId: () => replyToId,\r\n      getSource: () => validSource,\r\n      getText: () => sanitizedText,\r\n      isDeleted: () => sanitizedText === deletedText,\r\n      isPublished: () => published,\r\n      markDeleted: () => {\r\n        sanitizedText = deletedText\r\n        author = 'borrado'\r\n      },\r\n      publish: () => {\r\n        published = true\r\n      },\r\n      unPublish: () => {\r\n        published = false\r\n      }\r\n    })\r\n\r\n    function makeHash () {\r\n      return md5(\r\n        sanitizedText +\r\n          published +\r\n          (author || '') +\r\n          (postId || '') +\r\n          (replyToId || '')\r\n      )\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969702
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\comment\\\\source.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\source.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\source.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\source.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
        "sourceFileName": "source.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildMakeSource;\n\nfunction buildMakeSource({\n  isValidIp\n}) {\n  return function makeSource({\n    ip,\n    browser,\n    referrer\n  } = {}) {\n    if (!ip) {\n      throw new Error('El origen del comentario debe contener una IP.');\n    }\n\n    if (!isValidIp(ip)) {\n      throw new RangeError('El origen del comentario debe contener una IP valida.');\n    }\n\n    return Object.freeze({\n      getIp: () => ip,\n      getBrowser: () => browser,\n      getReferrer: () => referrer\n    });\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvdXJjZS5qcyJdLCJuYW1lcyI6WyJidWlsZE1ha2VTb3VyY2UiLCJpc1ZhbGlkSXAiLCJtYWtlU291cmNlIiwiaXAiLCJicm93c2VyIiwicmVmZXJyZXIiLCJFcnJvciIsIlJhbmdlRXJyb3IiLCJPYmplY3QiLCJmcmVlemUiLCJnZXRJcCIsImdldEJyb3dzZXIiLCJnZXRSZWZlcnJlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGVBQVQsQ0FBMEI7QUFBRUMsRUFBQUE7QUFBRixDQUExQixFQUF5QztBQUN0RCxTQUFPLFNBQVNDLFVBQVQsQ0FBcUI7QUFBRUMsSUFBQUEsRUFBRjtBQUFNQyxJQUFBQSxPQUFOO0FBQWVDLElBQUFBO0FBQWYsTUFBNEIsRUFBakQsRUFBcUQ7QUFDMUQsUUFBSSxDQUFDRixFQUFMLEVBQVM7QUFDUCxZQUFNLElBQUlHLEtBQUosQ0FBVSxnREFBVixDQUFOO0FBQ0Q7O0FBQ0QsUUFBSSxDQUFDTCxTQUFTLENBQUNFLEVBQUQsQ0FBZCxFQUFvQjtBQUNsQixZQUFNLElBQUlJLFVBQUosQ0FBZSx1REFBZixDQUFOO0FBQ0Q7O0FBQ0QsV0FBT0MsTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFDbkJDLE1BQUFBLEtBQUssRUFBRSxNQUFNUCxFQURNO0FBRW5CUSxNQUFBQSxVQUFVLEVBQUUsTUFBTVAsT0FGQztBQUduQlEsTUFBQUEsV0FBVyxFQUFFLE1BQU1QO0FBSEEsS0FBZCxDQUFQO0FBS0QsR0FaRDtBQWFEIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcQXBsaWNhY2lvbkVtcHJlc2FyaWFsXFxzcmNcXGNvbW1lbnQiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZE1ha2VTb3VyY2UgKHsgaXNWYWxpZElwIH0pIHtcclxuICByZXR1cm4gZnVuY3Rpb24gbWFrZVNvdXJjZSAoeyBpcCwgYnJvd3NlciwgcmVmZXJyZXIgfSA9IHt9KSB7XHJcbiAgICBpZiAoIWlwKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgb3JpZ2VuIGRlbCBjb21lbnRhcmlvIGRlYmUgY29udGVuZXIgdW5hIElQLicpXHJcbiAgICB9XHJcbiAgICBpZiAoIWlzVmFsaWRJcChpcCkpIHtcclxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0VsIG9yaWdlbiBkZWwgY29tZW50YXJpbyBkZWJlIGNvbnRlbmVyIHVuYSBJUCB2YWxpZGEuJylcclxuICAgIH1cclxuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcclxuICAgICAgZ2V0SXA6ICgpID0+IGlwLFxyXG4gICAgICBnZXRCcm93c2VyOiAoKSA9PiBicm93c2VyLFxyXG4gICAgICBnZXRSZWZlcnJlcjogKCkgPT4gcmVmZXJyZXJcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "source.js"
      ],
      "names": [
        "buildMakeSource",
        "isValidIp",
        "makeSource",
        "ip",
        "browser",
        "referrer",
        "Error",
        "RangeError",
        "Object",
        "freeze",
        "getIp",
        "getBrowser",
        "getReferrer"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,eAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAAyC;AACtD,SAAO,SAASC,UAAT,CAAqB;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,OAAN;AAAeC,IAAAA;AAAf,MAA4B,EAAjD,EAAqD;AAC1D,QAAI,CAACF,EAAL,EAAS;AACP,YAAM,IAAIG,KAAJ,CAAU,gDAAV,CAAN;AACD;;AACD,QAAI,CAACL,SAAS,CAACE,EAAD,CAAd,EAAoB;AAClB,YAAM,IAAII,UAAJ,CAAe,uDAAf,CAAN;AACD;;AACD,WAAOC,MAAM,CAACC,MAAP,CAAc;AACnBC,MAAAA,KAAK,EAAE,MAAMP,EADM;AAEnBQ,MAAAA,UAAU,EAAE,MAAMP,OAFC;AAGnBQ,MAAAA,WAAW,EAAE,MAAMP;AAHA,KAAd,CAAP;AAKD,GAZD;AAaD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
      "sourcesContent": [
        "export default function buildMakeSource ({ isValidIp }) {\r\n  return function makeSource ({ ip, browser, referrer } = {}) {\r\n    if (!ip) {\r\n      throw new Error('El origen del comentario debe contener una IP.')\r\n    }\r\n    if (!isValidIp(ip)) {\r\n      throw new RangeError('El origen del comentario debe contener una IP valida.')\r\n    }\r\n    return Object.freeze({\r\n      getIp: () => ip,\r\n      getBrowser: () => browser,\r\n      getReferrer: () => referrer\r\n    })\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969704
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\\\\edit-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\edit-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\edit-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\edit-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
        "sourceFileName": "edit-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeEditComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeEditComment({\n  commentsDb,\n  handleModeration\n}) {\n  return async function editComment({\n    id,\n    ...changes\n  } = {}) {\n    if (!id) {\n      throw new Error('You must supply an id.');\n    }\n\n    if (!changes.text) {\n      throw new Error('You must supply text.');\n    }\n\n    const existing = await commentsDb.findById({\n      id\n    });\n\n    if (!existing) {\n      throw new RangeError('Comment not found.');\n    }\n\n    const comment = (0, _comment.default)({ ...existing,\n      ...changes,\n      modifiedOn: null\n    });\n\n    if (comment.getHash() === existing.hash) {\n      return existing;\n    }\n\n    const moderated = await handleModeration({\n      comment\n    });\n    const updated = await commentsDb.update({\n      id: moderated.getId(),\n      published: moderated.isPublished(),\n      modifiedOn: moderated.getModifiedOn(),\n      text: moderated.getText(),\n      hash: moderated.getHash()\n    });\n    return { ...existing,\n      ...updated\n    };\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXQtY29tbWVudC5qcyJdLCJuYW1lcyI6WyJtYWtlRWRpdENvbW1lbnQiLCJjb21tZW50c0RiIiwiaGFuZGxlTW9kZXJhdGlvbiIsImVkaXRDb21tZW50IiwiaWQiLCJjaGFuZ2VzIiwiRXJyb3IiLCJ0ZXh0IiwiZXhpc3RpbmciLCJmaW5kQnlJZCIsIlJhbmdlRXJyb3IiLCJjb21tZW50IiwibW9kaWZpZWRPbiIsImdldEhhc2giLCJoYXNoIiwibW9kZXJhdGVkIiwidXBkYXRlZCIsInVwZGF0ZSIsImdldElkIiwicHVibGlzaGVkIiwiaXNQdWJsaXNoZWQiLCJnZXRNb2RpZmllZE9uIiwiZ2V0VGV4dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ2UsU0FBU0EsZUFBVCxDQUEwQjtBQUFFQyxFQUFBQSxVQUFGO0FBQWNDLEVBQUFBO0FBQWQsQ0FBMUIsRUFBNEQ7QUFDekUsU0FBTyxlQUFlQyxXQUFmLENBQTRCO0FBQUVDLElBQUFBLEVBQUY7QUFBTSxPQUFHQztBQUFULE1BQXFCLEVBQWpELEVBQXFEO0FBQzFELFFBQUksQ0FBQ0QsRUFBTCxFQUFTO0FBQ1AsWUFBTSxJQUFJRSxLQUFKLENBQVUsd0JBQVYsQ0FBTjtBQUNEOztBQUNELFFBQUksQ0FBQ0QsT0FBTyxDQUFDRSxJQUFiLEVBQW1CO0FBQ2pCLFlBQU0sSUFBSUQsS0FBSixDQUFVLHVCQUFWLENBQU47QUFDRDs7QUFDRCxVQUFNRSxRQUFRLEdBQUcsTUFBTVAsVUFBVSxDQUFDUSxRQUFYLENBQW9CO0FBQUVMLE1BQUFBO0FBQUYsS0FBcEIsQ0FBdkI7O0FBRUEsUUFBSSxDQUFDSSxRQUFMLEVBQWU7QUFDYixZQUFNLElBQUlFLFVBQUosQ0FBZSxvQkFBZixDQUFOO0FBQ0Q7O0FBQ0QsVUFBTUMsT0FBTyxHQUFHLHNCQUFZLEVBQUUsR0FBR0gsUUFBTDtBQUFlLFNBQUdILE9BQWxCO0FBQTJCTyxNQUFBQSxVQUFVLEVBQUU7QUFBdkMsS0FBWixDQUFoQjs7QUFDQSxRQUFJRCxPQUFPLENBQUNFLE9BQVIsT0FBc0JMLFFBQVEsQ0FBQ00sSUFBbkMsRUFBeUM7QUFDdkMsYUFBT04sUUFBUDtBQUNEOztBQUNELFVBQU1PLFNBQVMsR0FBRyxNQUFNYixnQkFBZ0IsQ0FBQztBQUFFUyxNQUFBQTtBQUFGLEtBQUQsQ0FBeEM7QUFDQSxVQUFNSyxPQUFPLEdBQUcsTUFBTWYsVUFBVSxDQUFDZ0IsTUFBWCxDQUFrQjtBQUN0Q2IsTUFBQUEsRUFBRSxFQUFFVyxTQUFTLENBQUNHLEtBQVYsRUFEa0M7QUFFdENDLE1BQUFBLFNBQVMsRUFBRUosU0FBUyxDQUFDSyxXQUFWLEVBRjJCO0FBR3RDUixNQUFBQSxVQUFVLEVBQUVHLFNBQVMsQ0FBQ00sYUFBVixFQUgwQjtBQUl0Q2QsTUFBQUEsSUFBSSxFQUFFUSxTQUFTLENBQUNPLE9BQVYsRUFKZ0M7QUFLdENSLE1BQUFBLElBQUksRUFBRUMsU0FBUyxDQUFDRixPQUFWO0FBTGdDLEtBQWxCLENBQXRCO0FBT0EsV0FBTyxFQUFFLEdBQUdMLFFBQUw7QUFBZSxTQUFHUTtBQUFsQixLQUFQO0FBQ0QsR0F6QkQ7QUEwQkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxBcGxpY2FjaW9uRW1wcmVzYXJpYWxcXHNyY1xcdXNlLWNhc2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1ha2VDb21tZW50IGZyb20gJy4uL2NvbW1lbnQnXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VFZGl0Q29tbWVudCAoeyBjb21tZW50c0RiLCBoYW5kbGVNb2RlcmF0aW9uIH0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gZWRpdENvbW1lbnQgKHsgaWQsIC4uLmNoYW5nZXMgfSA9IHt9KSB7XHJcbiAgICBpZiAoIWlkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3Qgc3VwcGx5IGFuIGlkLicpXHJcbiAgICB9XHJcbiAgICBpZiAoIWNoYW5nZXMudGV4dCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IHN1cHBseSB0ZXh0LicpXHJcbiAgICB9XHJcbiAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IGNvbW1lbnRzRGIuZmluZEJ5SWQoeyBpZCB9KVxyXG5cclxuICAgIGlmICghZXhpc3RpbmcpIHtcclxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0NvbW1lbnQgbm90IGZvdW5kLicpXHJcbiAgICB9XHJcbiAgICBjb25zdCBjb21tZW50ID0gbWFrZUNvbW1lbnQoeyAuLi5leGlzdGluZywgLi4uY2hhbmdlcywgbW9kaWZpZWRPbjogbnVsbCB9KVxyXG4gICAgaWYgKGNvbW1lbnQuZ2V0SGFzaCgpID09PSBleGlzdGluZy5oYXNoKSB7XHJcbiAgICAgIHJldHVybiBleGlzdGluZ1xyXG4gICAgfVxyXG4gICAgY29uc3QgbW9kZXJhdGVkID0gYXdhaXQgaGFuZGxlTW9kZXJhdGlvbih7IGNvbW1lbnQgfSlcclxuICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBjb21tZW50c0RiLnVwZGF0ZSh7XHJcbiAgICAgIGlkOiBtb2RlcmF0ZWQuZ2V0SWQoKSxcclxuICAgICAgcHVibGlzaGVkOiBtb2RlcmF0ZWQuaXNQdWJsaXNoZWQoKSxcclxuICAgICAgbW9kaWZpZWRPbjogbW9kZXJhdGVkLmdldE1vZGlmaWVkT24oKSxcclxuICAgICAgdGV4dDogbW9kZXJhdGVkLmdldFRleHQoKSxcclxuICAgICAgaGFzaDogbW9kZXJhdGVkLmdldEhhc2goKVxyXG4gICAgfSlcclxuICAgIHJldHVybiB7IC4uLmV4aXN0aW5nLCAuLi51cGRhdGVkIH1cclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "edit-comment.js"
      ],
      "names": [
        "makeEditComment",
        "commentsDb",
        "handleModeration",
        "editComment",
        "id",
        "changes",
        "Error",
        "text",
        "existing",
        "findById",
        "RangeError",
        "comment",
        "modifiedOn",
        "getHash",
        "hash",
        "moderated",
        "updated",
        "update",
        "getId",
        "published",
        "isPublished",
        "getModifiedOn",
        "getText"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACe,SAASA,eAAT,CAA0B;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAA1B,EAA4D;AACzE,SAAO,eAAeC,WAAf,CAA4B;AAAEC,IAAAA,EAAF;AAAM,OAAGC;AAAT,MAAqB,EAAjD,EAAqD;AAC1D,QAAI,CAACD,EAAL,EAAS;AACP,YAAM,IAAIE,KAAJ,CAAU,wBAAV,CAAN;AACD;;AACD,QAAI,CAACD,OAAO,CAACE,IAAb,EAAmB;AACjB,YAAM,IAAID,KAAJ,CAAU,uBAAV,CAAN;AACD;;AACD,UAAME,QAAQ,GAAG,MAAMP,UAAU,CAACQ,QAAX,CAAoB;AAAEL,MAAAA;AAAF,KAApB,CAAvB;;AAEA,QAAI,CAACI,QAAL,EAAe;AACb,YAAM,IAAIE,UAAJ,CAAe,oBAAf,CAAN;AACD;;AACD,UAAMC,OAAO,GAAG,sBAAY,EAAE,GAAGH,QAAL;AAAe,SAAGH,OAAlB;AAA2BO,MAAAA,UAAU,EAAE;AAAvC,KAAZ,CAAhB;;AACA,QAAID,OAAO,CAACE,OAAR,OAAsBL,QAAQ,CAACM,IAAnC,EAAyC;AACvC,aAAON,QAAP;AACD;;AACD,UAAMO,SAAS,GAAG,MAAMb,gBAAgB,CAAC;AAAES,MAAAA;AAAF,KAAD,CAAxC;AACA,UAAMK,OAAO,GAAG,MAAMf,UAAU,CAACgB,MAAX,CAAkB;AACtCb,MAAAA,EAAE,EAAEW,SAAS,CAACG,KAAV,EADkC;AAEtCC,MAAAA,SAAS,EAAEJ,SAAS,CAACK,WAAV,EAF2B;AAGtCR,MAAAA,UAAU,EAAEG,SAAS,CAACM,aAAV,EAH0B;AAItCd,MAAAA,IAAI,EAAEQ,SAAS,CAACO,OAAV,EAJgC;AAKtCR,MAAAA,IAAI,EAAEC,SAAS,CAACF,OAAV;AALgC,KAAlB,CAAtB;AAOA,WAAO,EAAE,GAAGL,QAAL;AAAe,SAAGQ;AAAlB,KAAP;AACD,GAzBD;AA0BD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\nexport default function makeEditComment ({ commentsDb, handleModeration }) {\r\n  return async function editComment ({ id, ...changes } = {}) {\r\n    if (!id) {\r\n      throw new Error('You must supply an id.')\r\n    }\r\n    if (!changes.text) {\r\n      throw new Error('You must supply text.')\r\n    }\r\n    const existing = await commentsDb.findById({ id })\r\n\r\n    if (!existing) {\r\n      throw new RangeError('Comment not found.')\r\n    }\r\n    const comment = makeComment({ ...existing, ...changes, modifiedOn: null })\r\n    if (comment.getHash() === existing.hash) {\r\n      return existing\r\n    }\r\n    const moderated = await handleModeration({ comment })\r\n    const updated = await commentsDb.update({\r\n      id: moderated.getId(),\r\n      published: moderated.isPublished(),\r\n      modifiedOn: moderated.getModifiedOn(),\r\n      text: moderated.getText(),\r\n      hash: moderated.getHash()\r\n    })\r\n    return { ...existing, ...updated }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969710
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\\\\remove-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\remove-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\remove-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\remove-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
        "sourceFileName": "remove-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeRemoveComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeRemoveComment({\n  commentsDb\n}) {\n  return async function removeComment({\n    id\n  } = {}) {\n    if (!id) {\n      throw new Error('You must supply a comment id.');\n    }\n\n    const commentToDelete = await commentsDb.findById({\n      id\n    });\n\n    if (!commentToDelete) {\n      return deleteNothing();\n    }\n\n    if (await hasReplies(commentToDelete)) {\n      return softDelete(commentToDelete);\n    }\n\n    if (await isOnlyReplyOfDeletedParent(commentToDelete)) {\n      return deleteCommentAndParent(commentToDelete);\n    }\n\n    return hardDelete(commentToDelete);\n  };\n\n  async function hasReplies({\n    id: commentId\n  }) {\n    const replies = await commentsDb.findReplies({\n      commentId,\n      publishedOnly: false\n    });\n    return replies.length > 0;\n  }\n\n  async function isOnlyReplyOfDeletedParent(comment) {\n    if (!comment.replyToId) {\n      return false;\n    }\n\n    const parent = await commentsDb.findById({\n      id: comment.replyToId\n    });\n\n    if (parent && (0, _comment.default)(parent).isDeleted()) {\n      const replies = await commentsDb.findReplies({\n        commentId: parent.id,\n        publishedOnly: false\n      });\n      return replies.length === 1;\n    }\n\n    return false;\n  }\n\n  function deleteNothing() {\n    return {\n      deletedCount: 0,\n      softDelete: false,\n      message: 'Comment not found, nothing to delete.'\n    };\n  }\n\n  async function softDelete(commentInfo) {\n    const toDelete = (0, _comment.default)(commentInfo);\n    toDelete.markDeleted();\n    await commentsDb.update({\n      id: toDelete.getId(),\n      author: toDelete.getAuthor(),\n      text: toDelete.getText(),\n      replyToId: toDelete.getReplyToId(),\n      postId: toDelete.getPostId()\n    });\n    return {\n      deletedCount: 1,\n      softDelete: true,\n      message: 'Comment has replies. Soft deleted.'\n    };\n  }\n\n  async function deleteCommentAndParent(comment) {\n    await Promise.all([commentsDb.remove(comment), commentsDb.remove({\n      id: comment.replyToId\n    })]);\n    return {\n      deletedCount: 2,\n      softDelete: false,\n      message: 'Comment and parent deleted.'\n    };\n  }\n\n  async function hardDelete(comment) {\n    await commentsDb.remove(comment);\n    return {\n      deletedCount: 1,\n      softDelete: false,\n      message: 'Comment deleted.'\n    };\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbW92ZS1jb21tZW50LmpzIl0sIm5hbWVzIjpbIm1ha2VSZW1vdmVDb21tZW50IiwiY29tbWVudHNEYiIsInJlbW92ZUNvbW1lbnQiLCJpZCIsIkVycm9yIiwiY29tbWVudFRvRGVsZXRlIiwiZmluZEJ5SWQiLCJkZWxldGVOb3RoaW5nIiwiaGFzUmVwbGllcyIsInNvZnREZWxldGUiLCJpc09ubHlSZXBseU9mRGVsZXRlZFBhcmVudCIsImRlbGV0ZUNvbW1lbnRBbmRQYXJlbnQiLCJoYXJkRGVsZXRlIiwiY29tbWVudElkIiwicmVwbGllcyIsImZpbmRSZXBsaWVzIiwicHVibGlzaGVkT25seSIsImxlbmd0aCIsImNvbW1lbnQiLCJyZXBseVRvSWQiLCJwYXJlbnQiLCJpc0RlbGV0ZWQiLCJkZWxldGVkQ291bnQiLCJtZXNzYWdlIiwiY29tbWVudEluZm8iLCJ0b0RlbGV0ZSIsIm1hcmtEZWxldGVkIiwidXBkYXRlIiwiZ2V0SWQiLCJhdXRob3IiLCJnZXRBdXRob3IiLCJ0ZXh0IiwiZ2V0VGV4dCIsImdldFJlcGx5VG9JZCIsInBvc3RJZCIsImdldFBvc3RJZCIsIlByb21pc2UiLCJhbGwiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVlLFNBQVNBLGlCQUFULENBQTRCO0FBQUVDLEVBQUFBO0FBQUYsQ0FBNUIsRUFBNEM7QUFDekQsU0FBTyxlQUFlQyxhQUFmLENBQThCO0FBQUVDLElBQUFBO0FBQUYsTUFBUyxFQUF2QyxFQUEyQztBQUNoRCxRQUFJLENBQUNBLEVBQUwsRUFBUztBQUNQLFlBQU0sSUFBSUMsS0FBSixDQUFVLCtCQUFWLENBQU47QUFDRDs7QUFFRCxVQUFNQyxlQUFlLEdBQUcsTUFBTUosVUFBVSxDQUFDSyxRQUFYLENBQW9CO0FBQUVILE1BQUFBO0FBQUYsS0FBcEIsQ0FBOUI7O0FBRUEsUUFBSSxDQUFDRSxlQUFMLEVBQXNCO0FBQ3BCLGFBQU9FLGFBQWEsRUFBcEI7QUFDRDs7QUFFRCxRQUFJLE1BQU1DLFVBQVUsQ0FBQ0gsZUFBRCxDQUFwQixFQUF1QztBQUNyQyxhQUFPSSxVQUFVLENBQUNKLGVBQUQsQ0FBakI7QUFDRDs7QUFFRCxRQUFJLE1BQU1LLDBCQUEwQixDQUFDTCxlQUFELENBQXBDLEVBQXVEO0FBQ3JELGFBQU9NLHNCQUFzQixDQUFDTixlQUFELENBQTdCO0FBQ0Q7O0FBRUQsV0FBT08sVUFBVSxDQUFDUCxlQUFELENBQWpCO0FBQ0QsR0FwQkQ7O0FBc0JBLGlCQUFlRyxVQUFmLENBQTJCO0FBQUVMLElBQUFBLEVBQUUsRUFBRVU7QUFBTixHQUEzQixFQUE4QztBQUM1QyxVQUFNQyxPQUFPLEdBQUcsTUFBTWIsVUFBVSxDQUFDYyxXQUFYLENBQXVCO0FBQzNDRixNQUFBQSxTQUQyQztBQUUzQ0csTUFBQUEsYUFBYSxFQUFFO0FBRjRCLEtBQXZCLENBQXRCO0FBSUEsV0FBT0YsT0FBTyxDQUFDRyxNQUFSLEdBQWlCLENBQXhCO0FBQ0Q7O0FBRUQsaUJBQWVQLDBCQUFmLENBQTJDUSxPQUEzQyxFQUFvRDtBQUNsRCxRQUFJLENBQUNBLE9BQU8sQ0FBQ0MsU0FBYixFQUF3QjtBQUN0QixhQUFPLEtBQVA7QUFDRDs7QUFDRCxVQUFNQyxNQUFNLEdBQUcsTUFBTW5CLFVBQVUsQ0FBQ0ssUUFBWCxDQUFvQjtBQUFFSCxNQUFBQSxFQUFFLEVBQUVlLE9BQU8sQ0FBQ0M7QUFBZCxLQUFwQixDQUFyQjs7QUFDQSxRQUFJQyxNQUFNLElBQUksc0JBQVlBLE1BQVosRUFBb0JDLFNBQXBCLEVBQWQsRUFBK0M7QUFDN0MsWUFBTVAsT0FBTyxHQUFHLE1BQU1iLFVBQVUsQ0FBQ2MsV0FBWCxDQUF1QjtBQUMzQ0YsUUFBQUEsU0FBUyxFQUFFTyxNQUFNLENBQUNqQixFQUR5QjtBQUUzQ2EsUUFBQUEsYUFBYSxFQUFFO0FBRjRCLE9BQXZCLENBQXRCO0FBSUEsYUFBT0YsT0FBTyxDQUFDRyxNQUFSLEtBQW1CLENBQTFCO0FBQ0Q7O0FBQ0QsV0FBTyxLQUFQO0FBQ0Q7O0FBRUQsV0FBU1YsYUFBVCxHQUEwQjtBQUN4QixXQUFPO0FBQ0xlLE1BQUFBLFlBQVksRUFBRSxDQURUO0FBRUxiLE1BQUFBLFVBQVUsRUFBRSxLQUZQO0FBR0xjLE1BQUFBLE9BQU8sRUFBRTtBQUhKLEtBQVA7QUFLRDs7QUFFRCxpQkFBZWQsVUFBZixDQUEyQmUsV0FBM0IsRUFBd0M7QUFDdEMsVUFBTUMsUUFBUSxHQUFHLHNCQUFZRCxXQUFaLENBQWpCO0FBQ0FDLElBQUFBLFFBQVEsQ0FBQ0MsV0FBVDtBQUNBLFVBQU16QixVQUFVLENBQUMwQixNQUFYLENBQWtCO0FBQ3RCeEIsTUFBQUEsRUFBRSxFQUFFc0IsUUFBUSxDQUFDRyxLQUFULEVBRGtCO0FBRXRCQyxNQUFBQSxNQUFNLEVBQUVKLFFBQVEsQ0FBQ0ssU0FBVCxFQUZjO0FBR3RCQyxNQUFBQSxJQUFJLEVBQUVOLFFBQVEsQ0FBQ08sT0FBVCxFQUhnQjtBQUl0QmIsTUFBQUEsU0FBUyxFQUFFTSxRQUFRLENBQUNRLFlBQVQsRUFKVztBQUt0QkMsTUFBQUEsTUFBTSxFQUFFVCxRQUFRLENBQUNVLFNBQVQ7QUFMYyxLQUFsQixDQUFOO0FBT0EsV0FBTztBQUNMYixNQUFBQSxZQUFZLEVBQUUsQ0FEVDtBQUVMYixNQUFBQSxVQUFVLEVBQUUsSUFGUDtBQUdMYyxNQUFBQSxPQUFPLEVBQUU7QUFISixLQUFQO0FBS0Q7O0FBRUQsaUJBQWVaLHNCQUFmLENBQXVDTyxPQUF2QyxFQUFnRDtBQUM5QyxVQUFNa0IsT0FBTyxDQUFDQyxHQUFSLENBQVksQ0FDaEJwQyxVQUFVLENBQUNxQyxNQUFYLENBQWtCcEIsT0FBbEIsQ0FEZ0IsRUFFaEJqQixVQUFVLENBQUNxQyxNQUFYLENBQWtCO0FBQUVuQyxNQUFBQSxFQUFFLEVBQUVlLE9BQU8sQ0FBQ0M7QUFBZCxLQUFsQixDQUZnQixDQUFaLENBQU47QUFJQSxXQUFPO0FBQ0xHLE1BQUFBLFlBQVksRUFBRSxDQURUO0FBRUxiLE1BQUFBLFVBQVUsRUFBRSxLQUZQO0FBR0xjLE1BQUFBLE9BQU8sRUFBRTtBQUhKLEtBQVA7QUFLRDs7QUFFRCxpQkFBZVgsVUFBZixDQUEyQk0sT0FBM0IsRUFBb0M7QUFDbEMsVUFBTWpCLFVBQVUsQ0FBQ3FDLE1BQVgsQ0FBa0JwQixPQUFsQixDQUFOO0FBQ0EsV0FBTztBQUNMSSxNQUFBQSxZQUFZLEVBQUUsQ0FEVDtBQUVMYixNQUFBQSxVQUFVLEVBQUUsS0FGUDtBQUdMYyxNQUFBQSxPQUFPLEVBQUU7QUFISixLQUFQO0FBS0Q7QUFDRiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXEFwbGljYWNpb25FbXByZXNhcmlhbFxcc3JjXFx1c2UtY2FzZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFrZUNvbW1lbnQgZnJvbSAnLi4vY29tbWVudCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VSZW1vdmVDb21tZW50ICh7IGNvbW1lbnRzRGIgfSkge1xyXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiByZW1vdmVDb21tZW50ICh7IGlkIH0gPSB7fSkge1xyXG4gICAgaWYgKCFpZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IHN1cHBseSBhIGNvbW1lbnQgaWQuJylcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb21tZW50VG9EZWxldGUgPSBhd2FpdCBjb21tZW50c0RiLmZpbmRCeUlkKHsgaWQgfSlcclxuXHJcbiAgICBpZiAoIWNvbW1lbnRUb0RlbGV0ZSkge1xyXG4gICAgICByZXR1cm4gZGVsZXRlTm90aGluZygpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGF3YWl0IGhhc1JlcGxpZXMoY29tbWVudFRvRGVsZXRlKSkge1xyXG4gICAgICByZXR1cm4gc29mdERlbGV0ZShjb21tZW50VG9EZWxldGUpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGF3YWl0IGlzT25seVJlcGx5T2ZEZWxldGVkUGFyZW50KGNvbW1lbnRUb0RlbGV0ZSkpIHtcclxuICAgICAgcmV0dXJuIGRlbGV0ZUNvbW1lbnRBbmRQYXJlbnQoY29tbWVudFRvRGVsZXRlKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBoYXJkRGVsZXRlKGNvbW1lbnRUb0RlbGV0ZSlcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGhhc1JlcGxpZXMgKHsgaWQ6IGNvbW1lbnRJZCB9KSB7XHJcbiAgICBjb25zdCByZXBsaWVzID0gYXdhaXQgY29tbWVudHNEYi5maW5kUmVwbGllcyh7XHJcbiAgICAgIGNvbW1lbnRJZCxcclxuICAgICAgcHVibGlzaGVkT25seTogZmFsc2VcclxuICAgIH0pXHJcbiAgICByZXR1cm4gcmVwbGllcy5sZW5ndGggPiAwXHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBpc09ubHlSZXBseU9mRGVsZXRlZFBhcmVudCAoY29tbWVudCkge1xyXG4gICAgaWYgKCFjb21tZW50LnJlcGx5VG9JZCkge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICAgIGNvbnN0IHBhcmVudCA9IGF3YWl0IGNvbW1lbnRzRGIuZmluZEJ5SWQoeyBpZDogY29tbWVudC5yZXBseVRvSWQgfSlcclxuICAgIGlmIChwYXJlbnQgJiYgbWFrZUNvbW1lbnQocGFyZW50KS5pc0RlbGV0ZWQoKSkge1xyXG4gICAgICBjb25zdCByZXBsaWVzID0gYXdhaXQgY29tbWVudHNEYi5maW5kUmVwbGllcyh7XHJcbiAgICAgICAgY29tbWVudElkOiBwYXJlbnQuaWQsXHJcbiAgICAgICAgcHVibGlzaGVkT25seTogZmFsc2VcclxuICAgICAgfSlcclxuICAgICAgcmV0dXJuIHJlcGxpZXMubGVuZ3RoID09PSAxXHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGRlbGV0ZU5vdGhpbmcgKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGVsZXRlZENvdW50OiAwLFxyXG4gICAgICBzb2Z0RGVsZXRlOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogJ0NvbW1lbnQgbm90IGZvdW5kLCBub3RoaW5nIHRvIGRlbGV0ZS4nXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBzb2Z0RGVsZXRlIChjb21tZW50SW5mbykge1xyXG4gICAgY29uc3QgdG9EZWxldGUgPSBtYWtlQ29tbWVudChjb21tZW50SW5mbylcclxuICAgIHRvRGVsZXRlLm1hcmtEZWxldGVkKClcclxuICAgIGF3YWl0IGNvbW1lbnRzRGIudXBkYXRlKHtcclxuICAgICAgaWQ6IHRvRGVsZXRlLmdldElkKCksXHJcbiAgICAgIGF1dGhvcjogdG9EZWxldGUuZ2V0QXV0aG9yKCksXHJcbiAgICAgIHRleHQ6IHRvRGVsZXRlLmdldFRleHQoKSxcclxuICAgICAgcmVwbHlUb0lkOiB0b0RlbGV0ZS5nZXRSZXBseVRvSWQoKSxcclxuICAgICAgcG9zdElkOiB0b0RlbGV0ZS5nZXRQb3N0SWQoKVxyXG4gICAgfSlcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRlbGV0ZWRDb3VudDogMSxcclxuICAgICAgc29mdERlbGV0ZTogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogJ0NvbW1lbnQgaGFzIHJlcGxpZXMuIFNvZnQgZGVsZXRlZC4nXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBkZWxldGVDb21tZW50QW5kUGFyZW50IChjb21tZW50KSB7XHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgIGNvbW1lbnRzRGIucmVtb3ZlKGNvbW1lbnQpLFxyXG4gICAgICBjb21tZW50c0RiLnJlbW92ZSh7IGlkOiBjb21tZW50LnJlcGx5VG9JZCB9KVxyXG4gICAgXSlcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRlbGV0ZWRDb3VudDogMixcclxuICAgICAgc29mdERlbGV0ZTogZmFsc2UsXHJcbiAgICAgIG1lc3NhZ2U6ICdDb21tZW50IGFuZCBwYXJlbnQgZGVsZXRlZC4nXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBoYXJkRGVsZXRlIChjb21tZW50KSB7XHJcbiAgICBhd2FpdCBjb21tZW50c0RiLnJlbW92ZShjb21tZW50KVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGVsZXRlZENvdW50OiAxLFxyXG4gICAgICBzb2Z0RGVsZXRlOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogJ0NvbW1lbnQgZGVsZXRlZC4nXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "remove-comment.js"
      ],
      "names": [
        "makeRemoveComment",
        "commentsDb",
        "removeComment",
        "id",
        "Error",
        "commentToDelete",
        "findById",
        "deleteNothing",
        "hasReplies",
        "softDelete",
        "isOnlyReplyOfDeletedParent",
        "deleteCommentAndParent",
        "hardDelete",
        "commentId",
        "replies",
        "findReplies",
        "publishedOnly",
        "length",
        "comment",
        "replyToId",
        "parent",
        "isDeleted",
        "deletedCount",
        "message",
        "commentInfo",
        "toDelete",
        "markDeleted",
        "update",
        "getId",
        "author",
        "getAuthor",
        "text",
        "getText",
        "getReplyToId",
        "postId",
        "getPostId",
        "Promise",
        "all",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\n\r\nexport default function makeRemoveComment ({ commentsDb }) {\r\n  return async function removeComment ({ id } = {}) {\r\n    if (!id) {\r\n      throw new Error('You must supply a comment id.')\r\n    }\r\n\r\n    const commentToDelete = await commentsDb.findById({ id })\r\n\r\n    if (!commentToDelete) {\r\n      return deleteNothing()\r\n    }\r\n\r\n    if (await hasReplies(commentToDelete)) {\r\n      return softDelete(commentToDelete)\r\n    }\r\n\r\n    if (await isOnlyReplyOfDeletedParent(commentToDelete)) {\r\n      return deleteCommentAndParent(commentToDelete)\r\n    }\r\n\r\n    return hardDelete(commentToDelete)\r\n  }\r\n\r\n  async function hasReplies ({ id: commentId }) {\r\n    const replies = await commentsDb.findReplies({\r\n      commentId,\r\n      publishedOnly: false\r\n    })\r\n    return replies.length > 0\r\n  }\r\n\r\n  async function isOnlyReplyOfDeletedParent (comment) {\r\n    if (!comment.replyToId) {\r\n      return false\r\n    }\r\n    const parent = await commentsDb.findById({ id: comment.replyToId })\r\n    if (parent && makeComment(parent).isDeleted()) {\r\n      const replies = await commentsDb.findReplies({\r\n        commentId: parent.id,\r\n        publishedOnly: false\r\n      })\r\n      return replies.length === 1\r\n    }\r\n    return false\r\n  }\r\n\r\n  function deleteNothing () {\r\n    return {\r\n      deletedCount: 0,\r\n      softDelete: false,\r\n      message: 'Comment not found, nothing to delete.'\r\n    }\r\n  }\r\n\r\n  async function softDelete (commentInfo) {\r\n    const toDelete = makeComment(commentInfo)\r\n    toDelete.markDeleted()\r\n    await commentsDb.update({\r\n      id: toDelete.getId(),\r\n      author: toDelete.getAuthor(),\r\n      text: toDelete.getText(),\r\n      replyToId: toDelete.getReplyToId(),\r\n      postId: toDelete.getPostId()\r\n    })\r\n    return {\r\n      deletedCount: 1,\r\n      softDelete: true,\r\n      message: 'Comment has replies. Soft deleted.'\r\n    }\r\n  }\r\n\r\n  async function deleteCommentAndParent (comment) {\r\n    await Promise.all([\r\n      commentsDb.remove(comment),\r\n      commentsDb.remove({ id: comment.replyToId })\r\n    ])\r\n    return {\r\n      deletedCount: 2,\r\n      softDelete: false,\r\n      message: 'Comment and parent deleted.'\r\n    }\r\n  }\r\n\r\n  async function hardDelete (comment) {\r\n    await commentsDb.remove(comment)\r\n    return {\r\n      deletedCount: 1,\r\n      softDelete: false,\r\n      message: 'Comment deleted.'\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969714
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\\\\list-comments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\list-comments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\list-comments.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\list-comments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
        "sourceFileName": "list-comments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeListComments;\n\nfunction makeListComments({\n  commentsDb\n}) {\n  return async function listComments({\n    postId\n  } = {}) {\n    if (!postId) {\n      throw new Error('Debes suministrar un post id valido.');\n    }\n\n    const comments = await commentsDb.findByPostId({\n      postId,\n      omitReplies: false\n    });\n    const nestedComments = nest(comments);\n    return nestedComments; // If this gets slow introduce caching.\n\n    function nest(comments) {\n      if (comments.length === 0) {\n        return comments;\n      }\n\n      return comments.reduce((nested, comment) => {\n        comment.replies = comments.filter(reply => reply.replyToId === comment.id);\n        nest(comment.replies);\n\n        if (comment.replyToId == null) {\n          nested.push(comment);\n        }\n\n        return nested;\n      }, []);\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpc3QtY29tbWVudHMuanMiXSwibmFtZXMiOlsibWFrZUxpc3RDb21tZW50cyIsImNvbW1lbnRzRGIiLCJsaXN0Q29tbWVudHMiLCJwb3N0SWQiLCJFcnJvciIsImNvbW1lbnRzIiwiZmluZEJ5UG9zdElkIiwib21pdFJlcGxpZXMiLCJuZXN0ZWRDb21tZW50cyIsIm5lc3QiLCJsZW5ndGgiLCJyZWR1Y2UiLCJuZXN0ZWQiLCJjb21tZW50IiwicmVwbGllcyIsImZpbHRlciIsInJlcGx5IiwicmVwbHlUb0lkIiwiaWQiLCJwdXNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWUsU0FBU0EsZ0JBQVQsQ0FBMkI7QUFBRUMsRUFBQUE7QUFBRixDQUEzQixFQUEyQztBQUN4RCxTQUFPLGVBQWVDLFlBQWYsQ0FBNkI7QUFBRUMsSUFBQUE7QUFBRixNQUFhLEVBQTFDLEVBQThDO0FBQ25ELFFBQUksQ0FBQ0EsTUFBTCxFQUFhO0FBQ1gsWUFBTSxJQUFJQyxLQUFKLENBQVUsc0NBQVYsQ0FBTjtBQUNEOztBQUNELFVBQU1DLFFBQVEsR0FBRyxNQUFNSixVQUFVLENBQUNLLFlBQVgsQ0FBd0I7QUFDN0NILE1BQUFBLE1BRDZDO0FBRTdDSSxNQUFBQSxXQUFXLEVBQUU7QUFGZ0MsS0FBeEIsQ0FBdkI7QUFJQSxVQUFNQyxjQUFjLEdBQUdDLElBQUksQ0FBQ0osUUFBRCxDQUEzQjtBQUNBLFdBQU9HLGNBQVAsQ0FUbUQsQ0FXbkQ7O0FBQ0EsYUFBU0MsSUFBVCxDQUFlSixRQUFmLEVBQXlCO0FBQ3ZCLFVBQUlBLFFBQVEsQ0FBQ0ssTUFBVCxLQUFvQixDQUF4QixFQUEyQjtBQUN6QixlQUFPTCxRQUFQO0FBQ0Q7O0FBQ0QsYUFBT0EsUUFBUSxDQUFDTSxNQUFULENBQWdCLENBQUNDLE1BQUQsRUFBU0MsT0FBVCxLQUFxQjtBQUMxQ0EsUUFBQUEsT0FBTyxDQUFDQyxPQUFSLEdBQWtCVCxRQUFRLENBQUNVLE1BQVQsQ0FDaEJDLEtBQUssSUFBSUEsS0FBSyxDQUFDQyxTQUFOLEtBQW9CSixPQUFPLENBQUNLLEVBRHJCLENBQWxCO0FBR0FULFFBQUFBLElBQUksQ0FBQ0ksT0FBTyxDQUFDQyxPQUFULENBQUo7O0FBQ0EsWUFBSUQsT0FBTyxDQUFDSSxTQUFSLElBQXFCLElBQXpCLEVBQStCO0FBQzdCTCxVQUFBQSxNQUFNLENBQUNPLElBQVAsQ0FBWU4sT0FBWjtBQUNEOztBQUNELGVBQU9ELE1BQVA7QUFDRCxPQVRNLEVBU0osRUFUSSxDQUFQO0FBVUQ7QUFDRixHQTNCRDtBQTRCRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXEFwbGljYWNpb25FbXByZXNhcmlhbFxcc3JjXFx1c2UtY2FzZXMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlTGlzdENvbW1lbnRzICh7IGNvbW1lbnRzRGIgfSkge1xyXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBsaXN0Q29tbWVudHMgKHsgcG9zdElkIH0gPSB7fSkge1xyXG4gICAgaWYgKCFwb3N0SWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWJlcyBzdW1pbmlzdHJhciB1biBwb3N0IGlkIHZhbGlkby4nKVxyXG4gICAgfVxyXG4gICAgY29uc3QgY29tbWVudHMgPSBhd2FpdCBjb21tZW50c0RiLmZpbmRCeVBvc3RJZCh7XHJcbiAgICAgIHBvc3RJZCxcclxuICAgICAgb21pdFJlcGxpZXM6IGZhbHNlXHJcbiAgICB9KVxyXG4gICAgY29uc3QgbmVzdGVkQ29tbWVudHMgPSBuZXN0KGNvbW1lbnRzKVxyXG4gICAgcmV0dXJuIG5lc3RlZENvbW1lbnRzXHJcblxyXG4gICAgLy8gSWYgdGhpcyBnZXRzIHNsb3cgaW50cm9kdWNlIGNhY2hpbmcuXHJcbiAgICBmdW5jdGlvbiBuZXN0IChjb21tZW50cykge1xyXG4gICAgICBpZiAoY29tbWVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbW1lbnRzXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGNvbW1lbnRzLnJlZHVjZSgobmVzdGVkLCBjb21tZW50KSA9PiB7XHJcbiAgICAgICAgY29tbWVudC5yZXBsaWVzID0gY29tbWVudHMuZmlsdGVyKFxyXG4gICAgICAgICAgcmVwbHkgPT4gcmVwbHkucmVwbHlUb0lkID09PSBjb21tZW50LmlkXHJcbiAgICAgICAgKVxyXG4gICAgICAgIG5lc3QoY29tbWVudC5yZXBsaWVzKVxyXG4gICAgICAgIGlmIChjb21tZW50LnJlcGx5VG9JZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICBuZXN0ZWQucHVzaChjb21tZW50KVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmVzdGVkXHJcbiAgICAgIH0sIFtdKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "list-comments.js"
      ],
      "names": [
        "makeListComments",
        "commentsDb",
        "listComments",
        "postId",
        "Error",
        "comments",
        "findByPostId",
        "omitReplies",
        "nestedComments",
        "nest",
        "length",
        "reduce",
        "nested",
        "comment",
        "replies",
        "filter",
        "reply",
        "replyToId",
        "id",
        "push"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,gBAAT,CAA2B;AAAEC,EAAAA;AAAF,CAA3B,EAA2C;AACxD,SAAO,eAAeC,YAAf,CAA6B;AAAEC,IAAAA;AAAF,MAAa,EAA1C,EAA8C;AACnD,QAAI,CAACA,MAAL,EAAa;AACX,YAAM,IAAIC,KAAJ,CAAU,sCAAV,CAAN;AACD;;AACD,UAAMC,QAAQ,GAAG,MAAMJ,UAAU,CAACK,YAAX,CAAwB;AAC7CH,MAAAA,MAD6C;AAE7CI,MAAAA,WAAW,EAAE;AAFgC,KAAxB,CAAvB;AAIA,UAAMC,cAAc,GAAGC,IAAI,CAACJ,QAAD,CAA3B;AACA,WAAOG,cAAP,CATmD,CAWnD;;AACA,aAASC,IAAT,CAAeJ,QAAf,EAAyB;AACvB,UAAIA,QAAQ,CAACK,MAAT,KAAoB,CAAxB,EAA2B;AACzB,eAAOL,QAAP;AACD;;AACD,aAAOA,QAAQ,CAACM,MAAT,CAAgB,CAACC,MAAD,EAASC,OAAT,KAAqB;AAC1CA,QAAAA,OAAO,CAACC,OAAR,GAAkBT,QAAQ,CAACU,MAAT,CAChBC,KAAK,IAAIA,KAAK,CAACC,SAAN,KAAoBJ,OAAO,CAACK,EADrB,CAAlB;AAGAT,QAAAA,IAAI,CAACI,OAAO,CAACC,OAAT,CAAJ;;AACA,YAAID,OAAO,CAACI,SAAR,IAAqB,IAAzB,EAA+B;AAC7BL,UAAAA,MAAM,CAACO,IAAP,CAAYN,OAAZ;AACD;;AACD,eAAOD,MAAP;AACD,OATM,EASJ,EATI,CAAP;AAUD;AACF,GA3BD;AA4BD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "sourcesContent": [
        "export default function makeListComments ({ commentsDb }) {\r\n  return async function listComments ({ postId } = {}) {\r\n    if (!postId) {\r\n      throw new Error('Debes suministrar un post id valido.')\r\n    }\r\n    const comments = await commentsDb.findByPostId({\r\n      postId,\r\n      omitReplies: false\r\n    })\r\n    const nestedComments = nest(comments)\r\n    return nestedComments\r\n\r\n    // If this gets slow introduce caching.\r\n    function nest (comments) {\r\n      if (comments.length === 0) {\r\n        return comments\r\n      }\r\n      return comments.reduce((nested, comment) => {\r\n        comment.replies = comments.filter(\r\n          reply => reply.replyToId === comment.id\r\n        )\r\n        nest(comment.replies)\r\n        if (comment.replyToId == null) {\r\n          nested.push(comment)\r\n        }\r\n        return nested\r\n      }, [])\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969713
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\\\\handle-moderation.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\handle-moderation.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\handle-moderation.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\handle-moderation.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
        "sourceFileName": "handle-moderation.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeHandleModeration;\n\nfunction makeHandleModeration({\n  initiateReview\n}) {\n  return async function handleModeration({\n    comment\n  }) {\n    const moderated = { ...comment\n    };\n    initiateReview({\n      id: moderated.getId(),\n      content: moderated.getText()\n    });\n    return moderated;\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhbmRsZS1tb2RlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIm1ha2VIYW5kbGVNb2RlcmF0aW9uIiwiaW5pdGlhdGVSZXZpZXciLCJoYW5kbGVNb2RlcmF0aW9uIiwiY29tbWVudCIsIm1vZGVyYXRlZCIsImlkIiwiZ2V0SWQiLCJjb250ZW50IiwiZ2V0VGV4dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLG9CQUFULENBQStCO0FBQzVDQyxFQUFBQTtBQUQ0QyxDQUEvQixFQUVaO0FBQ0QsU0FBTyxlQUFlQyxnQkFBZixDQUFpQztBQUFFQyxJQUFBQTtBQUFGLEdBQWpDLEVBQThDO0FBQ25ELFVBQU1DLFNBQVMsR0FBRyxFQUFFLEdBQUdEO0FBQUwsS0FBbEI7QUFDQUYsSUFBQUEsY0FBYyxDQUFDO0FBQUVJLE1BQUFBLEVBQUUsRUFBRUQsU0FBUyxDQUFDRSxLQUFWLEVBQU47QUFBeUJDLE1BQUFBLE9BQU8sRUFBRUgsU0FBUyxDQUFDSSxPQUFWO0FBQWxDLEtBQUQsQ0FBZDtBQUNBLFdBQU9KLFNBQVA7QUFDRCxHQUpEO0FBS0QiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxBcGxpY2FjaW9uRW1wcmVzYXJpYWxcXHNyY1xcdXNlLWNhc2VzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZUhhbmRsZU1vZGVyYXRpb24gKHtcclxuICBpbml0aWF0ZVJldmlld1xyXG59KSB7XHJcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZU1vZGVyYXRpb24gKHsgY29tbWVudCB9KSB7XHJcbiAgICBjb25zdCBtb2RlcmF0ZWQgPSB7IC4uLmNvbW1lbnQgfVxyXG4gICAgaW5pdGlhdGVSZXZpZXcoeyBpZDogbW9kZXJhdGVkLmdldElkKCksIGNvbnRlbnQ6IG1vZGVyYXRlZC5nZXRUZXh0KCkgfSlcclxuICAgIHJldHVybiBtb2RlcmF0ZWRcclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "handle-moderation.js"
      ],
      "names": [
        "makeHandleModeration",
        "initiateReview",
        "handleModeration",
        "comment",
        "moderated",
        "id",
        "getId",
        "content",
        "getText"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,oBAAT,CAA+B;AAC5CC,EAAAA;AAD4C,CAA/B,EAEZ;AACD,SAAO,eAAeC,gBAAf,CAAiC;AAAEC,IAAAA;AAAF,GAAjC,EAA8C;AACnD,UAAMC,SAAS,GAAG,EAAE,GAAGD;AAAL,KAAlB;AACAF,IAAAA,cAAc,CAAC;AAAEI,MAAAA,EAAE,EAAED,SAAS,CAACE,KAAV,EAAN;AAAyBC,MAAAA,OAAO,EAAEH,SAAS,CAACI,OAAV;AAAlC,KAAD,CAAd;AACA,WAAOJ,SAAP;AACD,GAJD;AAKD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "sourcesContent": [
        "export default function makeHandleModeration ({\r\n  initiateReview\r\n}) {\r\n  return async function handleModeration ({ comment }) {\r\n    const moderated = { ...comment }\r\n    initiateReview({ id: moderated.getId(), content: moderated.getText() })\r\n    return moderated\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969712
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\\\\list-main-comments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\list-main-comments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\list-main-comments.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\list-main-comments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
        "sourceFileName": "list-main-comments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeListMainComments;\n\nfunction makeListMainComments({\n  commentsDb\n}) {\n  return async function listComments({\n    postId\n  } = {}) {\n    const comments = await commentsDb.findMainComments();\n    const nestedComments = nest(comments);\n    return nestedComments; // If this gets slow introduce caching.\n\n    function nest(comments) {\n      if (comments.length === 0) {\n        return comments;\n      }\n\n      return comments.reduce((nested, comment) => {\n        comment.replies = comments.filter(reply => reply.replyToId === comment.id);\n        nest(comment.replies);\n\n        if (comment.replyToId == null) {\n          nested.push(comment);\n        }\n\n        return nested;\n      }, []);\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpc3QtbWFpbi1jb21tZW50cy5qcyJdLCJuYW1lcyI6WyJtYWtlTGlzdE1haW5Db21tZW50cyIsImNvbW1lbnRzRGIiLCJsaXN0Q29tbWVudHMiLCJwb3N0SWQiLCJjb21tZW50cyIsImZpbmRNYWluQ29tbWVudHMiLCJuZXN0ZWRDb21tZW50cyIsIm5lc3QiLCJsZW5ndGgiLCJyZWR1Y2UiLCJuZXN0ZWQiLCJjb21tZW50IiwicmVwbGllcyIsImZpbHRlciIsInJlcGx5IiwicmVwbHlUb0lkIiwiaWQiLCJwdXNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWUsU0FBU0Esb0JBQVQsQ0FBK0I7QUFBRUMsRUFBQUE7QUFBRixDQUEvQixFQUErQztBQUMxRCxTQUFPLGVBQWVDLFlBQWYsQ0FBNkI7QUFBRUMsSUFBQUE7QUFBRixNQUFhLEVBQTFDLEVBQThDO0FBQ25ELFVBQU1DLFFBQVEsR0FBRyxNQUFNSCxVQUFVLENBQUNJLGdCQUFYLEVBQXZCO0FBQ0EsVUFBTUMsY0FBYyxHQUFHQyxJQUFJLENBQUNILFFBQUQsQ0FBM0I7QUFDQSxXQUFPRSxjQUFQLENBSG1ELENBS25EOztBQUNBLGFBQVNDLElBQVQsQ0FBZUgsUUFBZixFQUF5QjtBQUN2QixVQUFJQSxRQUFRLENBQUNJLE1BQVQsS0FBb0IsQ0FBeEIsRUFBMkI7QUFDekIsZUFBT0osUUFBUDtBQUNEOztBQUNELGFBQU9BLFFBQVEsQ0FBQ0ssTUFBVCxDQUFnQixDQUFDQyxNQUFELEVBQVNDLE9BQVQsS0FBcUI7QUFDMUNBLFFBQUFBLE9BQU8sQ0FBQ0MsT0FBUixHQUFrQlIsUUFBUSxDQUFDUyxNQUFULENBQ2hCQyxLQUFLLElBQUlBLEtBQUssQ0FBQ0MsU0FBTixLQUFvQkosT0FBTyxDQUFDSyxFQURyQixDQUFsQjtBQUdBVCxRQUFBQSxJQUFJLENBQUNJLE9BQU8sQ0FBQ0MsT0FBVCxDQUFKOztBQUNBLFlBQUlELE9BQU8sQ0FBQ0ksU0FBUixJQUFxQixJQUF6QixFQUErQjtBQUM3QkwsVUFBQUEsTUFBTSxDQUFDTyxJQUFQLENBQVlOLE9BQVo7QUFDRDs7QUFDRCxlQUFPRCxNQUFQO0FBQ0QsT0FUTSxFQVNKLEVBVEksQ0FBUDtBQVVEO0FBQ0YsR0FyQkQ7QUFzQkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxBcGxpY2FjaW9uRW1wcmVzYXJpYWxcXHNyY1xcdXNlLWNhc2VzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZUxpc3RNYWluQ29tbWVudHMgKHsgY29tbWVudHNEYiB9KSB7XHJcbiAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gbGlzdENvbW1lbnRzICh7IHBvc3RJZCB9ID0ge30pIHtcclxuICAgICAgY29uc3QgY29tbWVudHMgPSBhd2FpdCBjb21tZW50c0RiLmZpbmRNYWluQ29tbWVudHMoKVxyXG4gICAgICBjb25zdCBuZXN0ZWRDb21tZW50cyA9IG5lc3QoY29tbWVudHMpXHJcbiAgICAgIHJldHVybiBuZXN0ZWRDb21tZW50c1xyXG4gIFxyXG4gICAgICAvLyBJZiB0aGlzIGdldHMgc2xvdyBpbnRyb2R1Y2UgY2FjaGluZy5cclxuICAgICAgZnVuY3Rpb24gbmVzdCAoY29tbWVudHMpIHtcclxuICAgICAgICBpZiAoY29tbWVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICByZXR1cm4gY29tbWVudHNcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbW1lbnRzLnJlZHVjZSgobmVzdGVkLCBjb21tZW50KSA9PiB7XHJcbiAgICAgICAgICBjb21tZW50LnJlcGxpZXMgPSBjb21tZW50cy5maWx0ZXIoXHJcbiAgICAgICAgICAgIHJlcGx5ID0+IHJlcGx5LnJlcGx5VG9JZCA9PT0gY29tbWVudC5pZFxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgbmVzdChjb21tZW50LnJlcGxpZXMpXHJcbiAgICAgICAgICBpZiAoY29tbWVudC5yZXBseVRvSWQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBuZXN0ZWQucHVzaChjb21tZW50KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIG5lc3RlZFxyXG4gICAgICAgIH0sIFtdKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gICJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "list-main-comments.js"
      ],
      "names": [
        "makeListMainComments",
        "commentsDb",
        "listComments",
        "postId",
        "comments",
        "findMainComments",
        "nestedComments",
        "nest",
        "length",
        "reduce",
        "nested",
        "comment",
        "replies",
        "filter",
        "reply",
        "replyToId",
        "id",
        "push"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,oBAAT,CAA+B;AAAEC,EAAAA;AAAF,CAA/B,EAA+C;AAC1D,SAAO,eAAeC,YAAf,CAA6B;AAAEC,IAAAA;AAAF,MAAa,EAA1C,EAA8C;AACnD,UAAMC,QAAQ,GAAG,MAAMH,UAAU,CAACI,gBAAX,EAAvB;AACA,UAAMC,cAAc,GAAGC,IAAI,CAACH,QAAD,CAA3B;AACA,WAAOE,cAAP,CAHmD,CAKnD;;AACA,aAASC,IAAT,CAAeH,QAAf,EAAyB;AACvB,UAAIA,QAAQ,CAACI,MAAT,KAAoB,CAAxB,EAA2B;AACzB,eAAOJ,QAAP;AACD;;AACD,aAAOA,QAAQ,CAACK,MAAT,CAAgB,CAACC,MAAD,EAASC,OAAT,KAAqB;AAC1CA,QAAAA,OAAO,CAACC,OAAR,GAAkBR,QAAQ,CAACS,MAAT,CAChBC,KAAK,IAAIA,KAAK,CAACC,SAAN,KAAoBJ,OAAO,CAACK,EADrB,CAAlB;AAGAT,QAAAA,IAAI,CAACI,OAAO,CAACC,OAAT,CAAJ;;AACA,YAAID,OAAO,CAACI,SAAR,IAAqB,IAAzB,EAA+B;AAC7BL,UAAAA,MAAM,CAACO,IAAP,CAAYN,OAAZ;AACD;;AACD,eAAOD,MAAP;AACD,OATM,EASJ,EATI,CAAP;AAUD;AACF,GArBD;AAsBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "sourcesContent": [
        "export default function makeListMainComments ({ commentsDb }) {\r\n    return async function listComments ({ postId } = {}) {\r\n      const comments = await commentsDb.findMainComments()\r\n      const nestedComments = nest(comments)\r\n      return nestedComments\r\n  \r\n      // If this gets slow introduce caching.\r\n      function nest (comments) {\r\n        if (comments.length === 0) {\r\n          return comments\r\n        }\r\n        return comments.reduce((nested, comment) => {\r\n          comment.replies = comments.filter(\r\n            reply => reply.replyToId === comment.id\r\n          )\r\n          nest(comment.replies)\r\n          if (comment.replyToId == null) {\r\n            nested.push(comment)\r\n          }\r\n          return nested\r\n        }, [])\r\n      }\r\n    }\r\n  }\r\n  "
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969714
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\data-access\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\data-access\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\data-access",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\data-access\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\data-access\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\data-access\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\data-access",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeDb = makeDb;\nexports.default = void 0;\n\nvar _commentsDb = _interopRequireDefault(require(\"./comments-db\"));\n\nvar _mongodb = _interopRequireDefault(require(\"mongodb\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst MongoClient = _mongodb.default.MongoClient;\nconst url = process && process.env && process.env.DM_COMMENTS_DB_URL || \"mongodb://localhost:27017\";\nconst dbName = process && process.env && process.env.DM_COMMENTS_DB_NAME || \"dm_comments_api\";\nconst client = new MongoClient(url, {\n  useNewUrlParser: true\n});\n\nasync function makeDb() {\n  if (!client.isConnected()) {\n    await client.connect();\n  }\n\n  return client.db(dbName);\n}\n\nconst commentsDb = (0, _commentsDb.default)({\n  makeDb\n});\nvar _default = commentsDb;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwibW9uZ29kYiIsInVybCIsImRiTmFtZSIsImNsaWVudCIsInVzZU5ld1VybFBhcnNlciIsIm1ha2VEYiIsImlzQ29ubmVjdGVkIiwiY29ubmVjdCIsImRiIiwiY29tbWVudHNEYiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLFdBQVcsR0FBR0MsaUJBQVFELFdBQTVCO0FBQ0EsTUFBTUUsR0FBRywwRkFBVDtBQUNBLE1BQU1DLE1BQU0saUZBQVo7QUFDQSxNQUFNQyxNQUFNLEdBQUcsSUFBSUosV0FBSixDQUFnQkUsR0FBaEIsRUFBcUI7QUFBRUcsRUFBQUEsZUFBZSxFQUFFO0FBQW5CLENBQXJCLENBQWY7O0FBRU8sZUFBZUMsTUFBZixHQUF5QjtBQUM5QixNQUFJLENBQUNGLE1BQU0sQ0FBQ0csV0FBUCxFQUFMLEVBQTJCO0FBQ3pCLFVBQU1ILE1BQU0sQ0FBQ0ksT0FBUCxFQUFOO0FBQ0Q7O0FBQ0QsU0FBT0osTUFBTSxDQUFDSyxFQUFQLENBQVVOLE1BQVYsQ0FBUDtBQUNEOztBQUVELE1BQU1PLFVBQVUsR0FBRyx5QkFBZTtBQUFFSixFQUFBQTtBQUFGLENBQWYsQ0FBbkI7ZUFDZUksVSIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXEFwbGljYWNpb25FbXByZXNhcmlhbFxcc3JjXFxkYXRhLWFjY2VzcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtYWtlQ29tbWVudHNEYiBmcm9tICcuL2NvbW1lbnRzLWRiJ1xyXG5pbXBvcnQgbW9uZ29kYiBmcm9tICdtb25nb2RiJ1xyXG5cclxuY29uc3QgTW9uZ29DbGllbnQgPSBtb25nb2RiLk1vbmdvQ2xpZW50XHJcbmNvbnN0IHVybCA9IHByb2Nlc3MuZW52LkRNX0NPTU1FTlRTX0RCX1VSTFxyXG5jb25zdCBkYk5hbWUgPSBwcm9jZXNzLmVudi5ETV9DT01NRU5UU19EQl9OQU1FXHJcbmNvbnN0IGNsaWVudCA9IG5ldyBNb25nb0NsaWVudCh1cmwsIHsgdXNlTmV3VXJsUGFyc2VyOiB0cnVlIH0pXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFrZURiICgpIHtcclxuICBpZiAoIWNsaWVudC5pc0Nvbm5lY3RlZCgpKSB7XHJcbiAgICBhd2FpdCBjbGllbnQuY29ubmVjdCgpXHJcbiAgfVxyXG4gIHJldHVybiBjbGllbnQuZGIoZGJOYW1lKVxyXG59XHJcblxyXG5jb25zdCBjb21tZW50c0RiID0gbWFrZUNvbW1lbnRzRGIoeyBtYWtlRGIgfSlcclxuZXhwb3J0IGRlZmF1bHQgY29tbWVudHNEYlxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "MongoClient",
        "mongodb",
        "url",
        "dbName",
        "client",
        "useNewUrlParser",
        "makeDb",
        "isConnected",
        "connect",
        "db",
        "commentsDb"
      ],
      "mappings": ";;;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,WAAW,GAAGC,iBAAQD,WAA5B;AACA,MAAME,GAAG,0FAAT;AACA,MAAMC,MAAM,iFAAZ;AACA,MAAMC,MAAM,GAAG,IAAIJ,WAAJ,CAAgBE,GAAhB,EAAqB;AAAEG,EAAAA,eAAe,EAAE;AAAnB,CAArB,CAAf;;AAEO,eAAeC,MAAf,GAAyB;AAC9B,MAAI,CAACF,MAAM,CAACG,WAAP,EAAL,EAA2B;AACzB,UAAMH,MAAM,CAACI,OAAP,EAAN;AACD;;AACD,SAAOJ,MAAM,CAACK,EAAP,CAAUN,MAAV,CAAP;AACD;;AAED,MAAMO,UAAU,GAAG,yBAAe;AAAEJ,EAAAA;AAAF,CAAf,CAAnB;eACeI,U",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\data-access",
      "sourcesContent": [
        "import makeCommentsDb from './comments-db'\r\nimport mongodb from 'mongodb'\r\n\r\nconst MongoClient = mongodb.MongoClient\r\nconst url = process.env.DM_COMMENTS_DB_URL\r\nconst dbName = process.env.DM_COMMENTS_DB_NAME\r\nconst client = new MongoClient(url, { useNewUrlParser: true })\r\n\r\nexport async function makeDb () {\r\n  if (!client.isConnected()) {\r\n    await client.connect()\r\n  }\r\n  return client.db(dbName)\r\n}\r\n\r\nconst commentsDb = makeCommentsDb({ makeDb })\r\nexport default commentsDb\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969708
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\data-access\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\data-access\\\\comments-db.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\data-access",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\data-access\\comments-db.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\data-access\\comments-db.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\data-access\\comments-db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\data-access",
        "sourceFileName": "comments-db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeCommentsDb;\n\nvar _Id = _interopRequireDefault(require(\"../Id\"));\n\nvar _rxjs = require(\"rxjs\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeCommentsDb({\n  makeDb\n}) {\n  return Object.freeze({\n    findAll,\n    findByHash,\n    findById,\n    findByPostId,\n    findReplies,\n    insert,\n    remove,\n    update,\n    findMainComments\n  });\n\n  async function findAll({\n    publishedOnly = true\n  } = {}) {\n    const db = await makeDb();\n    const query = publishedOnly ? {\n      published: true\n    } : {};\n    const result = await db.collection('comments').find(query);\n    return (await result.toArray()).map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    }));\n  }\n\n  async function findMainComments({\n    publishedOnly = true\n  } = {}) {\n    const db = await makeDb();\n    const query = publishedOnly ? {\n      replyToId: null\n    } : {};\n    const result = await db.collection('comments').find(query);\n    return (await result.toArray()).map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    }));\n  }\n\n  async function findById({\n    id: _id\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').find({\n      _id\n    });\n    const found = await result.toArray();\n\n    if (found.length === 0) {\n      return null;\n    }\n\n    const {\n      _id: id,\n      ...info\n    } = found[0];\n    return {\n      id,\n      ...info\n    };\n  }\n\n  async function findByPostId({\n    postId,\n    omitReplies = true\n  }) {\n    const db = await makeDb();\n    const query = {\n      postId: postId\n    };\n\n    if (omitReplies) {\n      query.replyToId = null;\n    }\n\n    const result = await db.collection('comments').find(query);\n    return (await result.toArray()).map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    }));\n  }\n\n  async function findReplies({\n    commentId,\n    publishedOnly = true\n  }) {\n    const db = await makeDb();\n    const query = publishedOnly ? {\n      published: true,\n      replyToId: commentId\n    } : {\n      replyToId: commentId\n    };\n    const result = await db.collection('comments').find(query);\n    return (await result.toArray()).map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    }));\n  }\n\n  async function insert({\n    id: _id = _Id.default.makeId(),\n    ...commentInfo\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').insertOne({\n      _id,\n      ...commentInfo\n    });\n    const {\n      _id: id,\n      ...insertedInfo\n    } = result.ops[0];\n    return {\n      id,\n      ...insertedInfo\n    };\n  }\n\n  async function update({\n    id: _id,\n    ...commentInfo\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').updateOne({\n      _id\n    }, {\n      $set: { ...commentInfo\n      }\n    });\n    return result.modifiedCount > 0 ? {\n      id: _id,\n      ...commentInfo\n    } : null;\n  }\n\n  async function remove({\n    id: _id\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').deleteOne({\n      _id\n    });\n    return result.deletedCount;\n  }\n\n  async function findByHash(comment) {\n    const db = await makeDb();\n    const result = await db.collection('comments').find({\n      hash: comment.hash\n    });\n    const found = await result.toArray();\n\n    if (found.length === 0) {\n      return null;\n    }\n\n    const {\n      _id: id,\n      ...insertedInfo\n    } = found[0];\n    return {\n      id,\n      ...insertedInfo\n    };\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRzLWRiLmpzIl0sIm5hbWVzIjpbIm1ha2VDb21tZW50c0RiIiwibWFrZURiIiwiT2JqZWN0IiwiZnJlZXplIiwiZmluZEFsbCIsImZpbmRCeUhhc2giLCJmaW5kQnlJZCIsImZpbmRCeVBvc3RJZCIsImZpbmRSZXBsaWVzIiwiaW5zZXJ0IiwicmVtb3ZlIiwidXBkYXRlIiwiZmluZE1haW5Db21tZW50cyIsInB1Ymxpc2hlZE9ubHkiLCJkYiIsInF1ZXJ5IiwicHVibGlzaGVkIiwicmVzdWx0IiwiY29sbGVjdGlvbiIsImZpbmQiLCJ0b0FycmF5IiwibWFwIiwiX2lkIiwiaWQiLCJmb3VuZCIsInJlcGx5VG9JZCIsImxlbmd0aCIsImluZm8iLCJwb3N0SWQiLCJvbWl0UmVwbGllcyIsImNvbW1lbnRJZCIsIklkIiwibWFrZUlkIiwiY29tbWVudEluZm8iLCJpbnNlcnRPbmUiLCJpbnNlcnRlZEluZm8iLCJvcHMiLCJ1cGRhdGVPbmUiLCIkc2V0IiwibW9kaWZpZWRDb3VudCIsImRlbGV0ZU9uZSIsImRlbGV0ZWRDb3VudCIsImNvbW1lbnQiLCJoYXNoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFZSxTQUFTQSxjQUFULENBQXlCO0FBQUVDLEVBQUFBO0FBQUYsQ0FBekIsRUFBcUM7QUFDbEQsU0FBT0MsTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFDbkJDLElBQUFBLE9BRG1CO0FBRW5CQyxJQUFBQSxVQUZtQjtBQUduQkMsSUFBQUEsUUFIbUI7QUFJbkJDLElBQUFBLFlBSm1CO0FBS25CQyxJQUFBQSxXQUxtQjtBQU1uQkMsSUFBQUEsTUFObUI7QUFPbkJDLElBQUFBLE1BUG1CO0FBUW5CQyxJQUFBQSxNQVJtQjtBQVNuQkMsSUFBQUE7QUFUbUIsR0FBZCxDQUFQOztBQVdBLGlCQUFlUixPQUFmLENBQXdCO0FBQUVTLElBQUFBLGFBQWEsR0FBRztBQUFsQixNQUEyQixFQUFuRCxFQUF1RDtBQUNyRCxVQUFNQyxFQUFFLEdBQUcsTUFBTWIsTUFBTSxFQUF2QjtBQUNBLFVBQU1jLEtBQUssR0FBR0YsYUFBYSxHQUFHO0FBQUVHLE1BQUFBLFNBQVMsRUFBRTtBQUFiLEtBQUgsR0FBeUIsRUFBcEQ7QUFDQSxVQUFNQyxNQUFNLEdBQUcsTUFBTUgsRUFBRSxDQUFDSSxVQUFILENBQWMsVUFBZCxFQUEwQkMsSUFBMUIsQ0FBK0JKLEtBQS9CLENBQXJCO0FBQ0EsV0FBTyxDQUFDLE1BQU1FLE1BQU0sQ0FBQ0csT0FBUCxFQUFQLEVBQXlCQyxHQUF6QixDQUE2QixDQUFDO0FBQUVDLE1BQUFBLEdBQUcsRUFBRUMsRUFBUDtBQUFXLFNBQUdDO0FBQWQsS0FBRCxNQUE0QjtBQUM5REQsTUFBQUEsRUFEOEQ7QUFFOUQsU0FBR0M7QUFGMkQsS0FBNUIsQ0FBN0IsQ0FBUDtBQUlEOztBQUNELGlCQUFlWixnQkFBZixDQUFpQztBQUFFQyxJQUFBQSxhQUFhLEdBQUc7QUFBbEIsTUFBMkIsRUFBNUQsRUFBZ0U7QUFDOUQsVUFBTUMsRUFBRSxHQUFHLE1BQU1iLE1BQU0sRUFBdkI7QUFDQSxVQUFNYyxLQUFLLEdBQUdGLGFBQWEsR0FBRztBQUFFWSxNQUFBQSxTQUFTLEVBQUU7QUFBYixLQUFILEdBQXlCLEVBQXBEO0FBQ0EsVUFBTVIsTUFBTSxHQUFHLE1BQU1ILEVBQUUsQ0FBQ0ksVUFBSCxDQUFjLFVBQWQsRUFBMEJDLElBQTFCLENBQStCSixLQUEvQixDQUFyQjtBQUNBLFdBQU8sQ0FBQyxNQUFNRSxNQUFNLENBQUNHLE9BQVAsRUFBUCxFQUF5QkMsR0FBekIsQ0FBNkIsQ0FBQztBQUFFQyxNQUFBQSxHQUFHLEVBQUVDLEVBQVA7QUFBVyxTQUFHQztBQUFkLEtBQUQsTUFBNEI7QUFDOURELE1BQUFBLEVBRDhEO0FBRTlELFNBQUdDO0FBRjJELEtBQTVCLENBQTdCLENBQVA7QUFLRDs7QUFDRCxpQkFBZWxCLFFBQWYsQ0FBeUI7QUFBRWlCLElBQUFBLEVBQUUsRUFBRUQ7QUFBTixHQUF6QixFQUFzQztBQUNwQyxVQUFNUixFQUFFLEdBQUcsTUFBTWIsTUFBTSxFQUF2QjtBQUNBLFVBQU1nQixNQUFNLEdBQUcsTUFBTUgsRUFBRSxDQUFDSSxVQUFILENBQWMsVUFBZCxFQUEwQkMsSUFBMUIsQ0FBK0I7QUFBRUcsTUFBQUE7QUFBRixLQUEvQixDQUFyQjtBQUNBLFVBQU1FLEtBQUssR0FBRyxNQUFNUCxNQUFNLENBQUNHLE9BQVAsRUFBcEI7O0FBQ0EsUUFBSUksS0FBSyxDQUFDRSxNQUFOLEtBQWlCLENBQXJCLEVBQXdCO0FBQ3RCLGFBQU8sSUFBUDtBQUNEOztBQUNELFVBQU07QUFBRUosTUFBQUEsR0FBRyxFQUFFQyxFQUFQO0FBQVcsU0FBR0k7QUFBZCxRQUF1QkgsS0FBSyxDQUFDLENBQUQsQ0FBbEM7QUFDQSxXQUFPO0FBQUVELE1BQUFBLEVBQUY7QUFBTSxTQUFHSTtBQUFULEtBQVA7QUFDRDs7QUFDRCxpQkFBZXBCLFlBQWYsQ0FBNkI7QUFBRXFCLElBQUFBLE1BQUY7QUFBVUMsSUFBQUEsV0FBVyxHQUFHO0FBQXhCLEdBQTdCLEVBQTZEO0FBQzNELFVBQU1mLEVBQUUsR0FBRyxNQUFNYixNQUFNLEVBQXZCO0FBQ0EsVUFBTWMsS0FBSyxHQUFHO0FBQUVhLE1BQUFBLE1BQU0sRUFBRUE7QUFBVixLQUFkOztBQUNBLFFBQUlDLFdBQUosRUFBaUI7QUFDZmQsTUFBQUEsS0FBSyxDQUFDVSxTQUFOLEdBQWtCLElBQWxCO0FBQ0Q7O0FBQ0QsVUFBTVIsTUFBTSxHQUFHLE1BQU1ILEVBQUUsQ0FBQ0ksVUFBSCxDQUFjLFVBQWQsRUFBMEJDLElBQTFCLENBQStCSixLQUEvQixDQUFyQjtBQUNBLFdBQU8sQ0FBQyxNQUFNRSxNQUFNLENBQUNHLE9BQVAsRUFBUCxFQUF5QkMsR0FBekIsQ0FBNkIsQ0FBQztBQUFFQyxNQUFBQSxHQUFHLEVBQUVDLEVBQVA7QUFBVyxTQUFHQztBQUFkLEtBQUQsTUFBNEI7QUFDOURELE1BQUFBLEVBRDhEO0FBRTlELFNBQUdDO0FBRjJELEtBQTVCLENBQTdCLENBQVA7QUFJRDs7QUFDRCxpQkFBZWhCLFdBQWYsQ0FBNEI7QUFBRXNCLElBQUFBLFNBQUY7QUFBYWpCLElBQUFBLGFBQWEsR0FBRztBQUE3QixHQUE1QixFQUFpRTtBQUMvRCxVQUFNQyxFQUFFLEdBQUcsTUFBTWIsTUFBTSxFQUF2QjtBQUNBLFVBQU1jLEtBQUssR0FBR0YsYUFBYSxHQUN2QjtBQUFFRyxNQUFBQSxTQUFTLEVBQUUsSUFBYjtBQUFtQlMsTUFBQUEsU0FBUyxFQUFFSztBQUE5QixLQUR1QixHQUV2QjtBQUFFTCxNQUFBQSxTQUFTLEVBQUVLO0FBQWIsS0FGSjtBQUdBLFVBQU1iLE1BQU0sR0FBRyxNQUFNSCxFQUFFLENBQUNJLFVBQUgsQ0FBYyxVQUFkLEVBQTBCQyxJQUExQixDQUErQkosS0FBL0IsQ0FBckI7QUFDQSxXQUFPLENBQUMsTUFBTUUsTUFBTSxDQUFDRyxPQUFQLEVBQVAsRUFBeUJDLEdBQXpCLENBQTZCLENBQUM7QUFBRUMsTUFBQUEsR0FBRyxFQUFFQyxFQUFQO0FBQVcsU0FBR0M7QUFBZCxLQUFELE1BQTRCO0FBQzlERCxNQUFBQSxFQUQ4RDtBQUU5RCxTQUFHQztBQUYyRCxLQUE1QixDQUE3QixDQUFQO0FBSUQ7O0FBQ0QsaUJBQWVmLE1BQWYsQ0FBdUI7QUFBRWMsSUFBQUEsRUFBRSxFQUFFRCxHQUFHLEdBQUdTLFlBQUdDLE1BQUgsRUFBWjtBQUF5QixPQUFHQztBQUE1QixHQUF2QixFQUFrRTtBQUNoRSxVQUFNbkIsRUFBRSxHQUFHLE1BQU1iLE1BQU0sRUFBdkI7QUFDQSxVQUFNZ0IsTUFBTSxHQUFHLE1BQU1ILEVBQUUsQ0FDcEJJLFVBRGtCLENBQ1AsVUFETyxFQUVsQmdCLFNBRmtCLENBRVI7QUFBRVosTUFBQUEsR0FBRjtBQUFPLFNBQUdXO0FBQVYsS0FGUSxDQUFyQjtBQUdBLFVBQU07QUFBRVgsTUFBQUEsR0FBRyxFQUFFQyxFQUFQO0FBQVcsU0FBR1k7QUFBZCxRQUErQmxCLE1BQU0sQ0FBQ21CLEdBQVAsQ0FBVyxDQUFYLENBQXJDO0FBQ0EsV0FBTztBQUFFYixNQUFBQSxFQUFGO0FBQU0sU0FBR1k7QUFBVCxLQUFQO0FBQ0Q7O0FBRUQsaUJBQWV4QixNQUFmLENBQXVCO0FBQUVZLElBQUFBLEVBQUUsRUFBRUQsR0FBTjtBQUFXLE9BQUdXO0FBQWQsR0FBdkIsRUFBb0Q7QUFDbEQsVUFBTW5CLEVBQUUsR0FBRyxNQUFNYixNQUFNLEVBQXZCO0FBQ0EsVUFBTWdCLE1BQU0sR0FBRyxNQUFNSCxFQUFFLENBQ3BCSSxVQURrQixDQUNQLFVBRE8sRUFFbEJtQixTQUZrQixDQUVSO0FBQUVmLE1BQUFBO0FBQUYsS0FGUSxFQUVDO0FBQUVnQixNQUFBQSxJQUFJLEVBQUUsRUFBRSxHQUFHTDtBQUFMO0FBQVIsS0FGRCxDQUFyQjtBQUdBLFdBQU9oQixNQUFNLENBQUNzQixhQUFQLEdBQXVCLENBQXZCLEdBQTJCO0FBQUVoQixNQUFBQSxFQUFFLEVBQUVELEdBQU47QUFBVyxTQUFHVztBQUFkLEtBQTNCLEdBQXlELElBQWhFO0FBQ0Q7O0FBQ0QsaUJBQWV2QixNQUFmLENBQXVCO0FBQUVhLElBQUFBLEVBQUUsRUFBRUQ7QUFBTixHQUF2QixFQUFvQztBQUNsQyxVQUFNUixFQUFFLEdBQUcsTUFBTWIsTUFBTSxFQUF2QjtBQUNBLFVBQU1nQixNQUFNLEdBQUcsTUFBTUgsRUFBRSxDQUFDSSxVQUFILENBQWMsVUFBZCxFQUEwQnNCLFNBQTFCLENBQW9DO0FBQUVsQixNQUFBQTtBQUFGLEtBQXBDLENBQXJCO0FBQ0EsV0FBT0wsTUFBTSxDQUFDd0IsWUFBZDtBQUNEOztBQUNELGlCQUFlcEMsVUFBZixDQUEyQnFDLE9BQTNCLEVBQW9DO0FBQ2xDLFVBQU01QixFQUFFLEdBQUcsTUFBTWIsTUFBTSxFQUF2QjtBQUNBLFVBQU1nQixNQUFNLEdBQUcsTUFBTUgsRUFBRSxDQUFDSSxVQUFILENBQWMsVUFBZCxFQUEwQkMsSUFBMUIsQ0FBK0I7QUFBRXdCLE1BQUFBLElBQUksRUFBRUQsT0FBTyxDQUFDQztBQUFoQixLQUEvQixDQUFyQjtBQUNBLFVBQU1uQixLQUFLLEdBQUcsTUFBTVAsTUFBTSxDQUFDRyxPQUFQLEVBQXBCOztBQUNBLFFBQUlJLEtBQUssQ0FBQ0UsTUFBTixLQUFpQixDQUFyQixFQUF3QjtBQUN0QixhQUFPLElBQVA7QUFDRDs7QUFDRCxVQUFNO0FBQUVKLE1BQUFBLEdBQUcsRUFBRUMsRUFBUDtBQUFXLFNBQUdZO0FBQWQsUUFBK0JYLEtBQUssQ0FBQyxDQUFELENBQTFDO0FBQ0EsV0FBTztBQUFFRCxNQUFBQSxFQUFGO0FBQU0sU0FBR1k7QUFBVCxLQUFQO0FBQ0Q7QUFDRiIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXEFwbGljYWNpb25FbXByZXNhcmlhbFxcc3JjXFxkYXRhLWFjY2VzcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJZCBmcm9tICcuLi9JZCdcclxuaW1wb3J0IHtvYnNlcnZhYmxlfSBmcm9tICdyeGpzJ1xyXG4gXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VDb21tZW50c0RiICh7IG1ha2VEYiB9KSB7XHJcbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xyXG4gICAgZmluZEFsbCxcclxuICAgIGZpbmRCeUhhc2gsXHJcbiAgICBmaW5kQnlJZCxcclxuICAgIGZpbmRCeVBvc3RJZCxcclxuICAgIGZpbmRSZXBsaWVzLFxyXG4gICAgaW5zZXJ0LFxyXG4gICAgcmVtb3ZlLFxyXG4gICAgdXBkYXRlLFxyXG4gICAgZmluZE1haW5Db21tZW50c1xyXG4gIH0pXHJcbiAgYXN5bmMgZnVuY3Rpb24gZmluZEFsbCAoeyBwdWJsaXNoZWRPbmx5ID0gdHJ1ZSB9ID0ge30pIHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgbWFrZURiKClcclxuICAgIGNvbnN0IHF1ZXJ5ID0gcHVibGlzaGVkT25seSA/IHsgcHVibGlzaGVkOiB0cnVlIH0gOiB7fVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbignY29tbWVudHMnKS5maW5kKHF1ZXJ5KVxyXG4gICAgcmV0dXJuIChhd2FpdCByZXN1bHQudG9BcnJheSgpKS5tYXAoKHsgX2lkOiBpZCwgLi4uZm91bmQgfSkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIC4uLmZvdW5kXHJcbiAgICB9KSlcclxuICB9XHJcbiAgYXN5bmMgZnVuY3Rpb24gZmluZE1haW5Db21tZW50cyAoeyBwdWJsaXNoZWRPbmx5ID0gdHJ1ZSB9ID0ge30pIHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgbWFrZURiKClcclxuICAgIGNvbnN0IHF1ZXJ5ID0gcHVibGlzaGVkT25seSA/IHsgcmVwbHlUb0lkOiBudWxsIH0gOiB7fVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbignY29tbWVudHMnKS5maW5kKHF1ZXJ5KVxyXG4gICAgcmV0dXJuIChhd2FpdCByZXN1bHQudG9BcnJheSgpKS5tYXAoKHsgX2lkOiBpZCwgLi4uZm91bmQgfSkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIC4uLmZvdW5kXHJcbiAgICB9KSlcclxuXHJcbiAgfVxyXG4gIGFzeW5jIGZ1bmN0aW9uIGZpbmRCeUlkICh7IGlkOiBfaWQgfSkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBtYWtlRGIoKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbignY29tbWVudHMnKS5maW5kKHsgX2lkIH0pXHJcbiAgICBjb25zdCBmb3VuZCA9IGF3YWl0IHJlc3VsdC50b0FycmF5KClcclxuICAgIGlmIChmb3VuZC5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICAgIGNvbnN0IHsgX2lkOiBpZCwgLi4uaW5mbyB9ID0gZm91bmRbMF1cclxuICAgIHJldHVybiB7IGlkLCAuLi5pbmZvIH1cclxuICB9XHJcbiAgYXN5bmMgZnVuY3Rpb24gZmluZEJ5UG9zdElkICh7IHBvc3RJZCwgb21pdFJlcGxpZXMgPSB0cnVlIH0pIHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgbWFrZURiKClcclxuICAgIGNvbnN0IHF1ZXJ5ID0geyBwb3N0SWQ6IHBvc3RJZCB9XHJcbiAgICBpZiAob21pdFJlcGxpZXMpIHtcclxuICAgICAgcXVlcnkucmVwbHlUb0lkID0gbnVsbFxyXG4gICAgfVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbignY29tbWVudHMnKS5maW5kKHF1ZXJ5KVxyXG4gICAgcmV0dXJuIChhd2FpdCByZXN1bHQudG9BcnJheSgpKS5tYXAoKHsgX2lkOiBpZCwgLi4uZm91bmQgfSkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIC4uLmZvdW5kXHJcbiAgICB9KSlcclxuICB9XHJcbiAgYXN5bmMgZnVuY3Rpb24gZmluZFJlcGxpZXMgKHsgY29tbWVudElkLCBwdWJsaXNoZWRPbmx5ID0gdHJ1ZSB9KSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IG1ha2VEYigpXHJcbiAgICBjb25zdCBxdWVyeSA9IHB1Ymxpc2hlZE9ubHlcclxuICAgICAgPyB7IHB1Ymxpc2hlZDogdHJ1ZSwgcmVwbHlUb0lkOiBjb21tZW50SWQgfVxyXG4gICAgICA6IHsgcmVwbHlUb0lkOiBjb21tZW50SWQgfVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbignY29tbWVudHMnKS5maW5kKHF1ZXJ5KVxyXG4gICAgcmV0dXJuIChhd2FpdCByZXN1bHQudG9BcnJheSgpKS5tYXAoKHsgX2lkOiBpZCwgLi4uZm91bmQgfSkgPT4gKHtcclxuICAgICAgaWQsXHJcbiAgICAgIC4uLmZvdW5kXHJcbiAgICB9KSlcclxuICB9XHJcbiAgYXN5bmMgZnVuY3Rpb24gaW5zZXJ0ICh7IGlkOiBfaWQgPSBJZC5tYWtlSWQoKSwgLi4uY29tbWVudEluZm8gfSkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBtYWtlRGIoKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGJcclxuICAgICAgLmNvbGxlY3Rpb24oJ2NvbW1lbnRzJylcclxuICAgICAgLmluc2VydE9uZSh7IF9pZCwgLi4uY29tbWVudEluZm8gfSlcclxuICAgIGNvbnN0IHsgX2lkOiBpZCwgLi4uaW5zZXJ0ZWRJbmZvIH0gPSByZXN1bHQub3BzWzBdXHJcbiAgICByZXR1cm4geyBpZCwgLi4uaW5zZXJ0ZWRJbmZvIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZSAoeyBpZDogX2lkLCAuLi5jb21tZW50SW5mbyB9KSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IG1ha2VEYigpXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYlxyXG4gICAgICAuY29sbGVjdGlvbignY29tbWVudHMnKVxyXG4gICAgICAudXBkYXRlT25lKHsgX2lkIH0sIHsgJHNldDogeyAuLi5jb21tZW50SW5mbyB9IH0pXHJcbiAgICByZXR1cm4gcmVzdWx0Lm1vZGlmaWVkQ291bnQgPiAwID8geyBpZDogX2lkLCAuLi5jb21tZW50SW5mbyB9IDogbnVsbFxyXG4gIH1cclxuICBhc3luYyBmdW5jdGlvbiByZW1vdmUgKHsgaWQ6IF9pZCB9KSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IG1ha2VEYigpXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdjb21tZW50cycpLmRlbGV0ZU9uZSh7IF9pZCB9KVxyXG4gICAgcmV0dXJuIHJlc3VsdC5kZWxldGVkQ291bnRcclxuICB9XHJcbiAgYXN5bmMgZnVuY3Rpb24gZmluZEJ5SGFzaCAoY29tbWVudCkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBtYWtlRGIoKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbignY29tbWVudHMnKS5maW5kKHsgaGFzaDogY29tbWVudC5oYXNoIH0pXHJcbiAgICBjb25zdCBmb3VuZCA9IGF3YWl0IHJlc3VsdC50b0FycmF5KClcclxuICAgIGlmIChmb3VuZC5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICAgIGNvbnN0IHsgX2lkOiBpZCwgLi4uaW5zZXJ0ZWRJbmZvIH0gPSBmb3VuZFswXVxyXG4gICAgcmV0dXJuIHsgaWQsIC4uLmluc2VydGVkSW5mbyB9XHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "comments-db.js"
      ],
      "names": [
        "makeCommentsDb",
        "makeDb",
        "Object",
        "freeze",
        "findAll",
        "findByHash",
        "findById",
        "findByPostId",
        "findReplies",
        "insert",
        "remove",
        "update",
        "findMainComments",
        "publishedOnly",
        "db",
        "query",
        "published",
        "result",
        "collection",
        "find",
        "toArray",
        "map",
        "_id",
        "id",
        "found",
        "replyToId",
        "length",
        "info",
        "postId",
        "omitReplies",
        "commentId",
        "Id",
        "makeId",
        "commentInfo",
        "insertOne",
        "insertedInfo",
        "ops",
        "updateOne",
        "$set",
        "modifiedCount",
        "deleteOne",
        "deletedCount",
        "comment",
        "hash"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\data-access",
      "sourcesContent": [
        "import Id from '../Id'\r\nimport {observable} from 'rxjs'\r\n \r\nexport default function makeCommentsDb ({ makeDb }) {\r\n  return Object.freeze({\r\n    findAll,\r\n    findByHash,\r\n    findById,\r\n    findByPostId,\r\n    findReplies,\r\n    insert,\r\n    remove,\r\n    update,\r\n    findMainComments\r\n  })\r\n  async function findAll ({ publishedOnly = true } = {}) {\r\n    const db = await makeDb()\r\n    const query = publishedOnly ? { published: true } : {}\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n  }\r\n  async function findMainComments ({ publishedOnly = true } = {}) {\r\n    const db = await makeDb()\r\n    const query = publishedOnly ? { replyToId: null } : {}\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n\r\n  }\r\n  async function findById ({ id: _id }) {\r\n    const db = await makeDb()\r\n    const result = await db.collection('comments').find({ _id })\r\n    const found = await result.toArray()\r\n    if (found.length === 0) {\r\n      return null\r\n    }\r\n    const { _id: id, ...info } = found[0]\r\n    return { id, ...info }\r\n  }\r\n  async function findByPostId ({ postId, omitReplies = true }) {\r\n    const db = await makeDb()\r\n    const query = { postId: postId }\r\n    if (omitReplies) {\r\n      query.replyToId = null\r\n    }\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n  }\r\n  async function findReplies ({ commentId, publishedOnly = true }) {\r\n    const db = await makeDb()\r\n    const query = publishedOnly\r\n      ? { published: true, replyToId: commentId }\r\n      : { replyToId: commentId }\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n  }\r\n  async function insert ({ id: _id = Id.makeId(), ...commentInfo }) {\r\n    const db = await makeDb()\r\n    const result = await db\r\n      .collection('comments')\r\n      .insertOne({ _id, ...commentInfo })\r\n    const { _id: id, ...insertedInfo } = result.ops[0]\r\n    return { id, ...insertedInfo }\r\n  }\r\n\r\n  async function update ({ id: _id, ...commentInfo }) {\r\n    const db = await makeDb()\r\n    const result = await db\r\n      .collection('comments')\r\n      .updateOne({ _id }, { $set: { ...commentInfo } })\r\n    return result.modifiedCount > 0 ? { id: _id, ...commentInfo } : null\r\n  }\r\n  async function remove ({ id: _id }) {\r\n    const db = await makeDb()\r\n    const result = await db.collection('comments').deleteOne({ _id })\r\n    return result.deletedCount\r\n  }\r\n  async function findByHash (comment) {\r\n    const db = await makeDb()\r\n    const result = await db.collection('comments').find({ hash: comment.hash })\r\n    const found = await result.toArray()\r\n    if (found.length === 0) {\r\n      return null\r\n    }\r\n    const { _id: id, ...insertedInfo } = found[0]\r\n    return { id, ...insertedInfo }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625588491294
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\\\\delete-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\delete-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\delete-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\delete-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
        "sourceFileName": "delete-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeDeleteComment;\n\nfunction makeDeleteComment({\n  removeComment\n}) {\n  return async function deleteComment(httpRequest) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n\n    try {\n      const deleted = await removeComment({\n        id: httpRequest.params.id\n      });\n      return {\n        headers,\n        statusCode: deleted.deletedCount === 0 ? 404 : 200,\n        body: {\n          deleted\n        }\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers,\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlbGV0ZS1jb21tZW50LmpzIl0sIm5hbWVzIjpbIm1ha2VEZWxldGVDb21tZW50IiwicmVtb3ZlQ29tbWVudCIsImRlbGV0ZUNvbW1lbnQiLCJodHRwUmVxdWVzdCIsImhlYWRlcnMiLCJkZWxldGVkIiwiaWQiLCJwYXJhbXMiLCJzdGF0dXNDb2RlIiwiZGVsZXRlZENvdW50IiwiYm9keSIsImUiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWUsU0FBU0EsaUJBQVQsQ0FBNEI7QUFBRUMsRUFBQUE7QUFBRixDQUE1QixFQUErQztBQUM1RCxTQUFPLGVBQWVDLGFBQWYsQ0FBOEJDLFdBQTlCLEVBQTJDO0FBQ2hELFVBQU1DLE9BQU8sR0FBRztBQUNkLHNCQUFnQjtBQURGLEtBQWhCOztBQUdBLFFBQUk7QUFDRixZQUFNQyxPQUFPLEdBQUcsTUFBTUosYUFBYSxDQUFDO0FBQUVLLFFBQUFBLEVBQUUsRUFBRUgsV0FBVyxDQUFDSSxNQUFaLENBQW1CRDtBQUF6QixPQUFELENBQW5DO0FBQ0EsYUFBTztBQUNMRixRQUFBQSxPQURLO0FBRUxJLFFBQUFBLFVBQVUsRUFBRUgsT0FBTyxDQUFDSSxZQUFSLEtBQXlCLENBQXpCLEdBQTZCLEdBQTdCLEdBQW1DLEdBRjFDO0FBR0xDLFFBQUFBLElBQUksRUFBRTtBQUFFTCxVQUFBQTtBQUFGO0FBSEQsT0FBUDtBQUtELEtBUEQsQ0FPRSxPQUFPTSxDQUFQLEVBQVU7QUFDVjtBQUNBQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsQ0FBWjtBQUNBLGFBQU87QUFDTFAsUUFBQUEsT0FESztBQUVMSSxRQUFBQSxVQUFVLEVBQUUsR0FGUDtBQUdMRSxRQUFBQSxJQUFJLEVBQUU7QUFDSkksVUFBQUEsS0FBSyxFQUFFSCxDQUFDLENBQUNJO0FBREw7QUFIRCxPQUFQO0FBT0Q7QUFDRixHQXRCRDtBQXVCRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXEFwbGljYWNpb25FbXByZXNhcmlhbFxcc3JjXFxjb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VEZWxldGVDb21tZW50ICh7IHJlbW92ZUNvbW1lbnQgfSkge1xyXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBkZWxldGVDb21tZW50IChodHRwUmVxdWVzdCkge1xyXG4gICAgY29uc3QgaGVhZGVycyA9IHtcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGVsZXRlZCA9IGF3YWl0IHJlbW92ZUNvbW1lbnQoeyBpZDogaHR0cFJlcXVlc3QucGFyYW1zLmlkIH0pXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVycyxcclxuICAgICAgICBzdGF0dXNDb2RlOiBkZWxldGVkLmRlbGV0ZWRDb3VudCA9PT0gMCA/IDQwNCA6IDIwMCxcclxuICAgICAgICBib2R5OiB7IGRlbGV0ZWQgfVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIC8vIFRPRE86IEVycm9yIGxvZ2dpbmdcclxuICAgICAgY29uc29sZS5sb2coZSlcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFkZXJzLFxyXG4gICAgICAgIHN0YXR1c0NvZGU6IDQwMCxcclxuICAgICAgICBib2R5OiB7XHJcbiAgICAgICAgICBlcnJvcjogZS5tZXNzYWdlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "delete-comment.js"
      ],
      "names": [
        "makeDeleteComment",
        "removeComment",
        "deleteComment",
        "httpRequest",
        "headers",
        "deleted",
        "id",
        "params",
        "statusCode",
        "deletedCount",
        "body",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,iBAAT,CAA4B;AAAEC,EAAAA;AAAF,CAA5B,EAA+C;AAC5D,SAAO,eAAeC,aAAf,CAA8BC,WAA9B,EAA2C;AAChD,UAAMC,OAAO,GAAG;AACd,sBAAgB;AADF,KAAhB;;AAGA,QAAI;AACF,YAAMC,OAAO,GAAG,MAAMJ,aAAa,CAAC;AAAEK,QAAAA,EAAE,EAAEH,WAAW,CAACI,MAAZ,CAAmBD;AAAzB,OAAD,CAAnC;AACA,aAAO;AACLF,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAEH,OAAO,CAACI,YAAR,KAAyB,CAAzB,GAA6B,GAA7B,GAAmC,GAF1C;AAGLC,QAAAA,IAAI,EAAE;AAAEL,UAAAA;AAAF;AAHD,OAAP;AAKD,KAPD,CAOE,OAAOM,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,aAAO;AACLP,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLE,QAAAA,IAAI,EAAE;AACJI,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AAHD,OAAP;AAOD;AACF,GAtBD;AAuBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "sourcesContent": [
        "export default function makeDeleteComment ({ removeComment }) {\r\n  return async function deleteComment (httpRequest) {\r\n    const headers = {\r\n      'Content-Type': 'application/json'\r\n    }\r\n    try {\r\n      const deleted = await removeComment({ id: httpRequest.params.id })\r\n      return {\r\n        headers,\r\n        statusCode: deleted.deletedCount === 0 ? 404 : 200,\r\n        body: { deleted }\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n      return {\r\n        headers,\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969704
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\\\\get-comments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\get-comments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\get-comments.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\get-comments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
        "sourceFileName": "get-comments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeGetComments;\n\nfunction makeGetComments({\n  listComments\n}) {\n  return async function getComments(httpRequest) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n\n    try {\n      const postComments = await listComments({\n        postId: httpRequest.query.postId\n      });\n      return {\n        headers,\n        statusCode: 200,\n        body: postComments\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers,\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldC1jb21tZW50cy5qcyJdLCJuYW1lcyI6WyJtYWtlR2V0Q29tbWVudHMiLCJsaXN0Q29tbWVudHMiLCJnZXRDb21tZW50cyIsImh0dHBSZXF1ZXN0IiwiaGVhZGVycyIsInBvc3RDb21tZW50cyIsInBvc3RJZCIsInF1ZXJ5Iiwic3RhdHVzQ29kZSIsImJvZHkiLCJlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGVBQVQsQ0FBMEI7QUFBRUMsRUFBQUE7QUFBRixDQUExQixFQUE0QztBQUN6RCxTQUFPLGVBQWVDLFdBQWYsQ0FBNEJDLFdBQTVCLEVBQXlDO0FBQzlDLFVBQU1DLE9BQU8sR0FBRztBQUNkLHNCQUFnQjtBQURGLEtBQWhCOztBQUdBLFFBQUk7QUFDRixZQUFNQyxZQUFZLEdBQUcsTUFBTUosWUFBWSxDQUFDO0FBQ3RDSyxRQUFBQSxNQUFNLEVBQUVILFdBQVcsQ0FBQ0ksS0FBWixDQUFrQkQ7QUFEWSxPQUFELENBQXZDO0FBR0EsYUFBTztBQUNMRixRQUFBQSxPQURLO0FBRUxJLFFBQUFBLFVBQVUsRUFBRSxHQUZQO0FBR0xDLFFBQUFBLElBQUksRUFBRUo7QUFIRCxPQUFQO0FBS0QsS0FURCxDQVNFLE9BQU9LLENBQVAsRUFBVTtBQUNWO0FBQ0FDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixDQUFaO0FBQ0EsYUFBTztBQUNMTixRQUFBQSxPQURLO0FBRUxJLFFBQUFBLFVBQVUsRUFBRSxHQUZQO0FBR0xDLFFBQUFBLElBQUksRUFBRTtBQUNKSSxVQUFBQSxLQUFLLEVBQUVILENBQUMsQ0FBQ0k7QUFETDtBQUhELE9BQVA7QUFPRDtBQUNGLEdBeEJEO0FBeUJEIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcQXBsaWNhY2lvbkVtcHJlc2FyaWFsXFxzcmNcXGNvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZUdldENvbW1lbnRzICh7IGxpc3RDb21tZW50cyB9KSB7XHJcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGdldENvbW1lbnRzIChodHRwUmVxdWVzdCkge1xyXG4gICAgY29uc3QgaGVhZGVycyA9IHtcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcG9zdENvbW1lbnRzID0gYXdhaXQgbGlzdENvbW1lbnRzKHtcclxuICAgICAgICBwb3N0SWQ6IGh0dHBSZXF1ZXN0LnF1ZXJ5LnBvc3RJZFxyXG4gICAgICB9KVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGhlYWRlcnMsXHJcbiAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxyXG4gICAgICAgIGJvZHk6IHBvc3RDb21tZW50c1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIC8vIFRPRE86IEVycm9yIGxvZ2dpbmdcclxuICAgICAgY29uc29sZS5sb2coZSlcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFkZXJzLFxyXG4gICAgICAgIHN0YXR1c0NvZGU6IDQwMCxcclxuICAgICAgICBib2R5OiB7XHJcbiAgICAgICAgICBlcnJvcjogZS5tZXNzYWdlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "get-comments.js"
      ],
      "names": [
        "makeGetComments",
        "listComments",
        "getComments",
        "httpRequest",
        "headers",
        "postComments",
        "postId",
        "query",
        "statusCode",
        "body",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,eAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAA4C;AACzD,SAAO,eAAeC,WAAf,CAA4BC,WAA5B,EAAyC;AAC9C,UAAMC,OAAO,GAAG;AACd,sBAAgB;AADF,KAAhB;;AAGA,QAAI;AACF,YAAMC,YAAY,GAAG,MAAMJ,YAAY,CAAC;AACtCK,QAAAA,MAAM,EAAEH,WAAW,CAACI,KAAZ,CAAkBD;AADY,OAAD,CAAvC;AAGA,aAAO;AACLF,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLC,QAAAA,IAAI,EAAEJ;AAHD,OAAP;AAKD,KATD,CASE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,aAAO;AACLN,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLC,QAAAA,IAAI,EAAE;AACJI,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AAHD,OAAP;AAOD;AACF,GAxBD;AAyBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "sourcesContent": [
        "export default function makeGetComments ({ listComments }) {\r\n  return async function getComments (httpRequest) {\r\n    const headers = {\r\n      'Content-Type': 'application/json'\r\n    }\r\n    try {\r\n      const postComments = await listComments({\r\n        postId: httpRequest.query.postId\r\n      })\r\n      return {\r\n        headers,\r\n        statusCode: 200,\r\n        body: postComments\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n      return {\r\n        headers,\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969705
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\\\\post-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\post-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\post-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\post-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
        "sourceFileName": "post-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makePostComment;\n\nfunction makePostComment({\n  addComment\n}) {\n  return async function postComment(httpRequest) {\n    try {\n      const {\n        source = {},\n        ...commentInfo\n      } = httpRequest.body;\n      source.ip = httpRequest.ip;\n      source.browser = httpRequest.headers['User-Agent'];\n\n      if (httpRequest.headers['Referer']) {\n        source.referrer = httpRequest.headers['Referer'];\n      }\n\n      const posted = await addComment({ ...commentInfo,\n        source\n      });\n      return {\n        headers: {\n          'Content-Type': 'application/json',\n          'Last-Modified': new Date(posted.modifiedOn).toUTCString()\n        },\n        statusCode: 201,\n        body: {\n          posted\n        }\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QtY29tbWVudC5qcyJdLCJuYW1lcyI6WyJtYWtlUG9zdENvbW1lbnQiLCJhZGRDb21tZW50IiwicG9zdENvbW1lbnQiLCJodHRwUmVxdWVzdCIsInNvdXJjZSIsImNvbW1lbnRJbmZvIiwiYm9keSIsImlwIiwiYnJvd3NlciIsImhlYWRlcnMiLCJyZWZlcnJlciIsInBvc3RlZCIsIkRhdGUiLCJtb2RpZmllZE9uIiwidG9VVENTdHJpbmciLCJzdGF0dXNDb2RlIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZSxTQUFTQSxlQUFULENBQTBCO0FBQUVDLEVBQUFBO0FBQUYsQ0FBMUIsRUFBMEM7QUFDdkQsU0FBTyxlQUFlQyxXQUFmLENBQTRCQyxXQUE1QixFQUF5QztBQUM5QyxRQUFJO0FBQ0YsWUFBTTtBQUFFQyxRQUFBQSxNQUFNLEdBQUcsRUFBWDtBQUFlLFdBQUdDO0FBQWxCLFVBQWtDRixXQUFXLENBQUNHLElBQXBEO0FBQ0FGLE1BQUFBLE1BQU0sQ0FBQ0csRUFBUCxHQUFZSixXQUFXLENBQUNJLEVBQXhCO0FBQ0FILE1BQUFBLE1BQU0sQ0FBQ0ksT0FBUCxHQUFpQkwsV0FBVyxDQUFDTSxPQUFaLENBQW9CLFlBQXBCLENBQWpCOztBQUNBLFVBQUlOLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFKLEVBQW9DO0FBQ2xDTCxRQUFBQSxNQUFNLENBQUNNLFFBQVAsR0FBa0JQLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFsQjtBQUNEOztBQUNELFlBQU1FLE1BQU0sR0FBRyxNQUFNVixVQUFVLENBQUMsRUFDOUIsR0FBR0ksV0FEMkI7QUFFOUJELFFBQUFBO0FBRjhCLE9BQUQsQ0FBL0I7QUFJQSxhQUFPO0FBQ0xLLFFBQUFBLE9BQU8sRUFBRTtBQUNQLDBCQUFnQixrQkFEVDtBQUVQLDJCQUFpQixJQUFJRyxJQUFKLENBQVNELE1BQU0sQ0FBQ0UsVUFBaEIsRUFBNEJDLFdBQTVCO0FBRlYsU0FESjtBQUtMQyxRQUFBQSxVQUFVLEVBQUUsR0FMUDtBQU1MVCxRQUFBQSxJQUFJLEVBQUU7QUFBRUssVUFBQUE7QUFBRjtBQU5ELE9BQVA7QUFRRCxLQW5CRCxDQW1CRSxPQUFPSyxDQUFQLEVBQVU7QUFDVjtBQUNBQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsQ0FBWjtBQUVBLGFBQU87QUFDTFAsUUFBQUEsT0FBTyxFQUFFO0FBQ1AsMEJBQWdCO0FBRFQsU0FESjtBQUlMTSxRQUFBQSxVQUFVLEVBQUUsR0FKUDtBQUtMVCxRQUFBQSxJQUFJLEVBQUU7QUFDSmEsVUFBQUEsS0FBSyxFQUFFSCxDQUFDLENBQUNJO0FBREw7QUFMRCxPQUFQO0FBU0Q7QUFDRixHQWxDRDtBQW1DRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXEFwbGljYWNpb25FbXByZXNhcmlhbFxcc3JjXFxjb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VQb3N0Q29tbWVudCAoeyBhZGRDb21tZW50IH0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gcG9zdENvbW1lbnQgKGh0dHBSZXF1ZXN0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IHNvdXJjZSA9IHt9LCAuLi5jb21tZW50SW5mbyB9ID0gaHR0cFJlcXVlc3QuYm9keVxyXG4gICAgICBzb3VyY2UuaXAgPSBodHRwUmVxdWVzdC5pcFxyXG4gICAgICBzb3VyY2UuYnJvd3NlciA9IGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ1VzZXItQWdlbnQnXVxyXG4gICAgICBpZiAoaHR0cFJlcXVlc3QuaGVhZGVyc1snUmVmZXJlciddKSB7XHJcbiAgICAgICAgc291cmNlLnJlZmVycmVyID0gaHR0cFJlcXVlc3QuaGVhZGVyc1snUmVmZXJlciddXHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgcG9zdGVkID0gYXdhaXQgYWRkQ29tbWVudCh7XHJcbiAgICAgICAgLi4uY29tbWVudEluZm8sXHJcbiAgICAgICAgc291cmNlXHJcbiAgICAgIH0pXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICdMYXN0LU1vZGlmaWVkJzogbmV3IERhdGUocG9zdGVkLm1vZGlmaWVkT24pLnRvVVRDU3RyaW5nKClcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMSxcclxuICAgICAgICBib2R5OiB7IHBvc3RlZCB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgLy8gVE9ETzogRXJyb3IgbG9nZ2luZ1xyXG4gICAgICBjb25zb2xlLmxvZyhlKVxyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdGF0dXNDb2RlOiA0MDAsXHJcbiAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgZXJyb3I6IGUubWVzc2FnZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "post-comment.js"
      ],
      "names": [
        "makePostComment",
        "addComment",
        "postComment",
        "httpRequest",
        "source",
        "commentInfo",
        "body",
        "ip",
        "browser",
        "headers",
        "referrer",
        "posted",
        "Date",
        "modifiedOn",
        "toUTCString",
        "statusCode",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,eAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAA0C;AACvD,SAAO,eAAeC,WAAf,CAA4BC,WAA5B,EAAyC;AAC9C,QAAI;AACF,YAAM;AAAEC,QAAAA,MAAM,GAAG,EAAX;AAAe,WAAGC;AAAlB,UAAkCF,WAAW,CAACG,IAApD;AACAF,MAAAA,MAAM,CAACG,EAAP,GAAYJ,WAAW,CAACI,EAAxB;AACAH,MAAAA,MAAM,CAACI,OAAP,GAAiBL,WAAW,CAACM,OAAZ,CAAoB,YAApB,CAAjB;;AACA,UAAIN,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAJ,EAAoC;AAClCL,QAAAA,MAAM,CAACM,QAAP,GAAkBP,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAlB;AACD;;AACD,YAAME,MAAM,GAAG,MAAMV,UAAU,CAAC,EAC9B,GAAGI,WAD2B;AAE9BD,QAAAA;AAF8B,OAAD,CAA/B;AAIA,aAAO;AACLK,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,2BAAiB,IAAIG,IAAJ,CAASD,MAAM,CAACE,UAAhB,EAA4BC,WAA5B;AAFV,SADJ;AAKLC,QAAAA,UAAU,EAAE,GALP;AAMLT,QAAAA,IAAI,EAAE;AAAEK,UAAAA;AAAF;AAND,OAAP;AAQD,KAnBD,CAmBE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AAEA,aAAO;AACLP,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SADJ;AAILM,QAAAA,UAAU,EAAE,GAJP;AAKLT,QAAAA,IAAI,EAAE;AACJa,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AALD,OAAP;AASD;AACF,GAlCD;AAmCD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "sourcesContent": [
        "export default function makePostComment ({ addComment }) {\r\n  return async function postComment (httpRequest) {\r\n    try {\r\n      const { source = {}, ...commentInfo } = httpRequest.body\r\n      source.ip = httpRequest.ip\r\n      source.browser = httpRequest.headers['User-Agent']\r\n      if (httpRequest.headers['Referer']) {\r\n        source.referrer = httpRequest.headers['Referer']\r\n      }\r\n      const posted = await addComment({\r\n        ...commentInfo,\r\n        source\r\n      })\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Last-Modified': new Date(posted.modifiedOn).toUTCString()\r\n        },\r\n        statusCode: 201,\r\n        body: { posted }\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969707
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\\\\patch-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\patch-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\patch-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\patch-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
        "sourceFileName": "patch-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makePatchComment;\n\nfunction makePatchComment({\n  editComment\n}) {\n  return async function patchComment(httpRequest) {\n    try {\n      const {\n        source = {},\n        ...commentInfo\n      } = httpRequest.body;\n      source.ip = httpRequest.ip;\n      source.browser = httpRequest.headers['User-Agent'];\n\n      if (httpRequest.headers['Referer']) {\n        source.referrer = httpRequest.headers['Referer'];\n      }\n\n      const toEdit = { ...commentInfo,\n        source,\n        id: httpRequest.params.id\n      };\n      const patched = await editComment(toEdit);\n      return {\n        headers: {\n          'Content-Type': 'application/json',\n          'Last-Modified': new Date(patched.modifiedOn).toUTCString()\n        },\n        statusCode: 200,\n        body: {\n          patched\n        }\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n\n      if (e.name === 'RangeError') {\n        return {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          statusCode: 404,\n          body: {\n            error: e.message\n          }\n        };\n      }\n\n      return {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhdGNoLWNvbW1lbnQuanMiXSwibmFtZXMiOlsibWFrZVBhdGNoQ29tbWVudCIsImVkaXRDb21tZW50IiwicGF0Y2hDb21tZW50IiwiaHR0cFJlcXVlc3QiLCJzb3VyY2UiLCJjb21tZW50SW5mbyIsImJvZHkiLCJpcCIsImJyb3dzZXIiLCJoZWFkZXJzIiwicmVmZXJyZXIiLCJ0b0VkaXQiLCJpZCIsInBhcmFtcyIsInBhdGNoZWQiLCJEYXRlIiwibW9kaWZpZWRPbiIsInRvVVRDU3RyaW5nIiwic3RhdHVzQ29kZSIsImUiLCJjb25zb2xlIiwibG9nIiwibmFtZSIsImVycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGdCQUFULENBQTJCO0FBQUVDLEVBQUFBO0FBQUYsQ0FBM0IsRUFBNEM7QUFDekQsU0FBTyxlQUFlQyxZQUFmLENBQTZCQyxXQUE3QixFQUEwQztBQUMvQyxRQUFJO0FBQ0YsWUFBTTtBQUFFQyxRQUFBQSxNQUFNLEdBQUcsRUFBWDtBQUFlLFdBQUdDO0FBQWxCLFVBQWtDRixXQUFXLENBQUNHLElBQXBEO0FBQ0FGLE1BQUFBLE1BQU0sQ0FBQ0csRUFBUCxHQUFZSixXQUFXLENBQUNJLEVBQXhCO0FBQ0FILE1BQUFBLE1BQU0sQ0FBQ0ksT0FBUCxHQUFpQkwsV0FBVyxDQUFDTSxPQUFaLENBQW9CLFlBQXBCLENBQWpCOztBQUNBLFVBQUlOLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFKLEVBQW9DO0FBQ2xDTCxRQUFBQSxNQUFNLENBQUNNLFFBQVAsR0FBa0JQLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFsQjtBQUNEOztBQUNELFlBQU1FLE1BQU0sR0FBRyxFQUNiLEdBQUdOLFdBRFU7QUFFYkQsUUFBQUEsTUFGYTtBQUdiUSxRQUFBQSxFQUFFLEVBQUVULFdBQVcsQ0FBQ1UsTUFBWixDQUFtQkQ7QUFIVixPQUFmO0FBS0EsWUFBTUUsT0FBTyxHQUFHLE1BQU1iLFdBQVcsQ0FBQ1UsTUFBRCxDQUFqQztBQUNBLGFBQU87QUFDTEYsUUFBQUEsT0FBTyxFQUFFO0FBQ1AsMEJBQWdCLGtCQURUO0FBRVAsMkJBQWlCLElBQUlNLElBQUosQ0FBU0QsT0FBTyxDQUFDRSxVQUFqQixFQUE2QkMsV0FBN0I7QUFGVixTQURKO0FBS0xDLFFBQUFBLFVBQVUsRUFBRSxHQUxQO0FBTUxaLFFBQUFBLElBQUksRUFBRTtBQUFFUSxVQUFBQTtBQUFGO0FBTkQsT0FBUDtBQVFELEtBckJELENBcUJFLE9BQU9LLENBQVAsRUFBVTtBQUNWO0FBQ0FDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixDQUFaOztBQUNBLFVBQUlBLENBQUMsQ0FBQ0csSUFBRixLQUFXLFlBQWYsRUFBNkI7QUFDM0IsZUFBTztBQUNMYixVQUFBQSxPQUFPLEVBQUU7QUFDUCw0QkFBZ0I7QUFEVCxXQURKO0FBSUxTLFVBQUFBLFVBQVUsRUFBRSxHQUpQO0FBS0xaLFVBQUFBLElBQUksRUFBRTtBQUNKaUIsWUFBQUEsS0FBSyxFQUFFSixDQUFDLENBQUNLO0FBREw7QUFMRCxTQUFQO0FBU0Q7O0FBQ0QsYUFBTztBQUNMZixRQUFBQSxPQUFPLEVBQUU7QUFDUCwwQkFBZ0I7QUFEVCxTQURKO0FBSUxTLFFBQUFBLFVBQVUsRUFBRSxHQUpQO0FBS0xaLFFBQUFBLElBQUksRUFBRTtBQUNKaUIsVUFBQUEsS0FBSyxFQUFFSixDQUFDLENBQUNLO0FBREw7QUFMRCxPQUFQO0FBU0Q7QUFDRixHQTlDRDtBQStDRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXEFwbGljYWNpb25FbXByZXNhcmlhbFxcc3JjXFxjb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VQYXRjaENvbW1lbnQgKHsgZWRpdENvbW1lbnQgfSkge1xyXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBwYXRjaENvbW1lbnQgKGh0dHBSZXF1ZXN0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IHNvdXJjZSA9IHt9LCAuLi5jb21tZW50SW5mbyB9ID0gaHR0cFJlcXVlc3QuYm9keVxyXG4gICAgICBzb3VyY2UuaXAgPSBodHRwUmVxdWVzdC5pcFxyXG4gICAgICBzb3VyY2UuYnJvd3NlciA9IGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ1VzZXItQWdlbnQnXVxyXG4gICAgICBpZiAoaHR0cFJlcXVlc3QuaGVhZGVyc1snUmVmZXJlciddKSB7XHJcbiAgICAgICAgc291cmNlLnJlZmVycmVyID0gaHR0cFJlcXVlc3QuaGVhZGVyc1snUmVmZXJlciddXHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgdG9FZGl0ID0ge1xyXG4gICAgICAgIC4uLmNvbW1lbnRJbmZvLFxyXG4gICAgICAgIHNvdXJjZSxcclxuICAgICAgICBpZDogaHR0cFJlcXVlc3QucGFyYW1zLmlkXHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgcGF0Y2hlZCA9IGF3YWl0IGVkaXRDb21tZW50KHRvRWRpdClcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgJ0xhc3QtTW9kaWZpZWQnOiBuZXcgRGF0ZShwYXRjaGVkLm1vZGlmaWVkT24pLnRvVVRDU3RyaW5nKClcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcclxuICAgICAgICBib2R5OiB7IHBhdGNoZWQgfVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIC8vIFRPRE86IEVycm9yIGxvZ2dpbmdcclxuICAgICAgY29uc29sZS5sb2coZSlcclxuICAgICAgaWYgKGUubmFtZSA9PT0gJ1JhbmdlRXJyb3InKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHN0YXR1c0NvZGU6IDQwNCxcclxuICAgICAgICAgIGJvZHk6IHtcclxuICAgICAgICAgICAgZXJyb3I6IGUubWVzc2FnZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN0YXR1c0NvZGU6IDQwMCxcclxuICAgICAgICBib2R5OiB7XHJcbiAgICAgICAgICBlcnJvcjogZS5tZXNzYWdlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "patch-comment.js"
      ],
      "names": [
        "makePatchComment",
        "editComment",
        "patchComment",
        "httpRequest",
        "source",
        "commentInfo",
        "body",
        "ip",
        "browser",
        "headers",
        "referrer",
        "toEdit",
        "id",
        "params",
        "patched",
        "Date",
        "modifiedOn",
        "toUTCString",
        "statusCode",
        "e",
        "console",
        "log",
        "name",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,gBAAT,CAA2B;AAAEC,EAAAA;AAAF,CAA3B,EAA4C;AACzD,SAAO,eAAeC,YAAf,CAA6BC,WAA7B,EAA0C;AAC/C,QAAI;AACF,YAAM;AAAEC,QAAAA,MAAM,GAAG,EAAX;AAAe,WAAGC;AAAlB,UAAkCF,WAAW,CAACG,IAApD;AACAF,MAAAA,MAAM,CAACG,EAAP,GAAYJ,WAAW,CAACI,EAAxB;AACAH,MAAAA,MAAM,CAACI,OAAP,GAAiBL,WAAW,CAACM,OAAZ,CAAoB,YAApB,CAAjB;;AACA,UAAIN,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAJ,EAAoC;AAClCL,QAAAA,MAAM,CAACM,QAAP,GAAkBP,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAlB;AACD;;AACD,YAAME,MAAM,GAAG,EACb,GAAGN,WADU;AAEbD,QAAAA,MAFa;AAGbQ,QAAAA,EAAE,EAAET,WAAW,CAACU,MAAZ,CAAmBD;AAHV,OAAf;AAKA,YAAME,OAAO,GAAG,MAAMb,WAAW,CAACU,MAAD,CAAjC;AACA,aAAO;AACLF,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,2BAAiB,IAAIM,IAAJ,CAASD,OAAO,CAACE,UAAjB,EAA6BC,WAA7B;AAFV,SADJ;AAKLC,QAAAA,UAAU,EAAE,GALP;AAMLZ,QAAAA,IAAI,EAAE;AAAEQ,UAAAA;AAAF;AAND,OAAP;AAQD,KArBD,CAqBE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;;AACA,UAAIA,CAAC,CAACG,IAAF,KAAW,YAAf,EAA6B;AAC3B,eAAO;AACLb,UAAAA,OAAO,EAAE;AACP,4BAAgB;AADT,WADJ;AAILS,UAAAA,UAAU,EAAE,GAJP;AAKLZ,UAAAA,IAAI,EAAE;AACJiB,YAAAA,KAAK,EAAEJ,CAAC,CAACK;AADL;AALD,SAAP;AASD;;AACD,aAAO;AACLf,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SADJ;AAILS,QAAAA,UAAU,EAAE,GAJP;AAKLZ,QAAAA,IAAI,EAAE;AACJiB,UAAAA,KAAK,EAAEJ,CAAC,CAACK;AADL;AALD,OAAP;AASD;AACF,GA9CD;AA+CD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "sourcesContent": [
        "export default function makePatchComment ({ editComment }) {\r\n  return async function patchComment (httpRequest) {\r\n    try {\r\n      const { source = {}, ...commentInfo } = httpRequest.body\r\n      source.ip = httpRequest.ip\r\n      source.browser = httpRequest.headers['User-Agent']\r\n      if (httpRequest.headers['Referer']) {\r\n        source.referrer = httpRequest.headers['Referer']\r\n      }\r\n      const toEdit = {\r\n        ...commentInfo,\r\n        source,\r\n        id: httpRequest.params.id\r\n      }\r\n      const patched = await editComment(toEdit)\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Last-Modified': new Date(patched.modifiedOn).toUTCString()\r\n        },\r\n        statusCode: 200,\r\n        body: { patched }\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n      if (e.name === 'RangeError') {\r\n        return {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          statusCode: 404,\r\n          body: {\r\n            error: e.message\r\n          }\r\n        }\r\n      }\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969706
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\\\\not-found.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\not-found.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\not-found.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\not-found.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
        "sourceFileName": "not-found.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = notFound;\n\nasync function notFound() {\n  return {\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: {\n      error: 'Not found.'\n    },\n    statusCode: 404\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdC1mb3VuZC5qcyJdLCJuYW1lcyI6WyJub3RGb3VuZCIsImhlYWRlcnMiLCJib2R5IiwiZXJyb3IiLCJzdGF0dXNDb2RlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWUsZUFBZUEsUUFBZixHQUEyQjtBQUN4QyxTQUFPO0FBQ0xDLElBQUFBLE9BQU8sRUFBRTtBQUNQLHNCQUFnQjtBQURULEtBREo7QUFJTEMsSUFBQUEsSUFBSSxFQUFFO0FBQUVDLE1BQUFBLEtBQUssRUFBRTtBQUFULEtBSkQ7QUFLTEMsSUFBQUEsVUFBVSxFQUFFO0FBTFAsR0FBUDtBQU9EIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcQXBsaWNhY2lvbkVtcHJlc2FyaWFsXFxzcmNcXGNvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gbm90Rm91bmQgKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgIH0sXHJcbiAgICBib2R5OiB7IGVycm9yOiAnTm90IGZvdW5kLicgfSxcclxuICAgIHN0YXR1c0NvZGU6IDQwNFxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "not-found.js"
      ],
      "names": [
        "notFound",
        "headers",
        "body",
        "error",
        "statusCode"
      ],
      "mappings": ";;;;;;;AAAe,eAAeA,QAAf,GAA2B;AACxC,SAAO;AACLC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KADJ;AAILC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAJD;AAKLC,IAAAA,UAAU,EAAE;AALP,GAAP;AAOD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "sourcesContent": [
        "export default async function notFound () {\r\n  return {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: { error: 'Not found.' },\r\n    statusCode: 404\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969706
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\\\\get-main-comments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\get-main-comments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\get-main-comments.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\get-main-comments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
        "sourceFileName": "get-main-comments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeGetMainComments;\n\nfunction makeGetMainComments({\n  listMainComments\n}) {\n  return async function getComments(httpRequest) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n\n    try {\n      const postComments = await listMainComments({\n        postId: httpRequest.query.postId\n      });\n      return {\n        headers,\n        statusCode: 200,\n        body: postComments\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers,\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldC1tYWluLWNvbW1lbnRzLmpzIl0sIm5hbWVzIjpbIm1ha2VHZXRNYWluQ29tbWVudHMiLCJsaXN0TWFpbkNvbW1lbnRzIiwiZ2V0Q29tbWVudHMiLCJodHRwUmVxdWVzdCIsImhlYWRlcnMiLCJwb3N0Q29tbWVudHMiLCJwb3N0SWQiLCJxdWVyeSIsInN0YXR1c0NvZGUiLCJib2R5IiwiZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZSxTQUFTQSxtQkFBVCxDQUE4QjtBQUFFQyxFQUFBQTtBQUFGLENBQTlCLEVBQW9EO0FBQy9ELFNBQU8sZUFBZUMsV0FBZixDQUE0QkMsV0FBNUIsRUFBeUM7QUFDOUMsVUFBTUMsT0FBTyxHQUFHO0FBQ2Qsc0JBQWdCO0FBREYsS0FBaEI7O0FBR0EsUUFBSTtBQUNGLFlBQU1DLFlBQVksR0FBRyxNQUFNSixnQkFBZ0IsQ0FBQztBQUMxQ0ssUUFBQUEsTUFBTSxFQUFFSCxXQUFXLENBQUNJLEtBQVosQ0FBa0JEO0FBRGdCLE9BQUQsQ0FBM0M7QUFHQSxhQUFPO0FBQ0xGLFFBQUFBLE9BREs7QUFFTEksUUFBQUEsVUFBVSxFQUFFLEdBRlA7QUFHTEMsUUFBQUEsSUFBSSxFQUFFSjtBQUhELE9BQVA7QUFLRCxLQVRELENBU0UsT0FBT0ssQ0FBUCxFQUFVO0FBQ1Y7QUFDQUMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlGLENBQVo7QUFDQSxhQUFPO0FBQ0xOLFFBQUFBLE9BREs7QUFFTEksUUFBQUEsVUFBVSxFQUFFLEdBRlA7QUFHTEMsUUFBQUEsSUFBSSxFQUFFO0FBQ0pJLFVBQUFBLEtBQUssRUFBRUgsQ0FBQyxDQUFDSTtBQURMO0FBSEQsT0FBUDtBQU9EO0FBQ0YsR0F4QkQ7QUF5QkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxBcGxpY2FjaW9uRW1wcmVzYXJpYWxcXHNyY1xcY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlR2V0TWFpbkNvbW1lbnRzICh7IGxpc3RNYWluQ29tbWVudHMgfSkge1xyXG4gICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGdldENvbW1lbnRzIChodHRwUmVxdWVzdCkge1xyXG4gICAgICBjb25zdCBoZWFkZXJzID0ge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgfVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHBvc3RDb21tZW50cyA9IGF3YWl0IGxpc3RNYWluQ29tbWVudHMoe1xyXG4gICAgICAgICAgcG9zdElkOiBodHRwUmVxdWVzdC5xdWVyeS5wb3N0SWRcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBoZWFkZXJzLFxyXG4gICAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxyXG4gICAgICAgICAgYm9keTogcG9zdENvbW1lbnRzXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgLy8gVE9ETzogRXJyb3IgbG9nZ2luZ1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGhlYWRlcnMsXHJcbiAgICAgICAgICBzdGF0dXNDb2RlOiA0MDAsXHJcbiAgICAgICAgICBib2R5OiB7XHJcbiAgICAgICAgICAgIGVycm9yOiBlLm1lc3NhZ2VcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgIl19",
    "map": {
      "version": 3,
      "sources": [
        "get-main-comments.js"
      ],
      "names": [
        "makeGetMainComments",
        "listMainComments",
        "getComments",
        "httpRequest",
        "headers",
        "postComments",
        "postId",
        "query",
        "statusCode",
        "body",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,mBAAT,CAA8B;AAAEC,EAAAA;AAAF,CAA9B,EAAoD;AAC/D,SAAO,eAAeC,WAAf,CAA4BC,WAA5B,EAAyC;AAC9C,UAAMC,OAAO,GAAG;AACd,sBAAgB;AADF,KAAhB;;AAGA,QAAI;AACF,YAAMC,YAAY,GAAG,MAAMJ,gBAAgB,CAAC;AAC1CK,QAAAA,MAAM,EAAEH,WAAW,CAACI,KAAZ,CAAkBD;AADgB,OAAD,CAA3C;AAGA,aAAO;AACLF,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLC,QAAAA,IAAI,EAAEJ;AAHD,OAAP;AAKD,KATD,CASE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,aAAO;AACLN,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLC,QAAAA,IAAI,EAAE;AACJI,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AAHD,OAAP;AAOD;AACF,GAxBD;AAyBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "sourcesContent": [
        "export default function makeGetMainComments ({ listMainComments }) {\r\n    return async function getComments (httpRequest) {\r\n      const headers = {\r\n        'Content-Type': 'application/json'\r\n      }\r\n      try {\r\n        const postComments = await listMainComments({\r\n          postId: httpRequest.query.postId\r\n        })\r\n        return {\r\n          headers,\r\n          statusCode: 200,\r\n          body: postComments\r\n        }\r\n      } catch (e) {\r\n        // TODO: Error logging\r\n        console.log(e)\r\n        return {\r\n          headers,\r\n          statusCode: 400,\r\n          body: {\r\n            error: e.message\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  "
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969705
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\express-callback\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\express-callback\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\express-callback",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\express-callback\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\express-callback\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\express-callback\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\express-callback",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nmodule.exports = function makeExpressCallback(controller) {\n  return (req, res) => {\n    const httpRequest = {\n      body: req.body,\n      query: req.query,\n      params: req.params,\n      ip: req.ip,\n      method: req.method,\n      path: req.path,\n      headers: {\n        'Content-Type': req.get('Content-Type'),\n        Referer: req.get('referer'),\n        'User-Agent': req.get('User-Agent')\n      }\n    };\n    controller(httpRequest).then(httpResponse => {\n      if (httpResponse.headers) {\n        res.set(httpResponse.headers);\n      }\n\n      res.type('json');\n      res.status(httpResponse.statusCode).send(httpResponse.body);\n    }).catch(e => res.status(500).send({\n      error: 'An unkown error occurred.'\n    }));\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJtYWtlRXhwcmVzc0NhbGxiYWNrIiwiY29udHJvbGxlciIsInJlcSIsInJlcyIsImh0dHBSZXF1ZXN0IiwiYm9keSIsInF1ZXJ5IiwicGFyYW1zIiwiaXAiLCJtZXRob2QiLCJwYXRoIiwiaGVhZGVycyIsImdldCIsIlJlZmVyZXIiLCJ0aGVuIiwiaHR0cFJlc3BvbnNlIiwic2V0IiwidHlwZSIsInN0YXR1cyIsInN0YXR1c0NvZGUiLCJzZW5kIiwiY2F0Y2giLCJlIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixTQUFTQyxtQkFBVCxDQUE4QkMsVUFBOUIsRUFBMEM7QUFDekQsU0FBTyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUNuQixVQUFNQyxXQUFXLEdBQUc7QUFDbEJDLE1BQUFBLElBQUksRUFBRUgsR0FBRyxDQUFDRyxJQURRO0FBRWxCQyxNQUFBQSxLQUFLLEVBQUVKLEdBQUcsQ0FBQ0ksS0FGTztBQUdsQkMsTUFBQUEsTUFBTSxFQUFFTCxHQUFHLENBQUNLLE1BSE07QUFJbEJDLE1BQUFBLEVBQUUsRUFBRU4sR0FBRyxDQUFDTSxFQUpVO0FBS2xCQyxNQUFBQSxNQUFNLEVBQUVQLEdBQUcsQ0FBQ08sTUFMTTtBQU1sQkMsTUFBQUEsSUFBSSxFQUFFUixHQUFHLENBQUNRLElBTlE7QUFPbEJDLE1BQUFBLE9BQU8sRUFBRTtBQUNQLHdCQUFnQlQsR0FBRyxDQUFDVSxHQUFKLENBQVEsY0FBUixDQURUO0FBRVBDLFFBQUFBLE9BQU8sRUFBRVgsR0FBRyxDQUFDVSxHQUFKLENBQVEsU0FBUixDQUZGO0FBR1Asc0JBQWNWLEdBQUcsQ0FBQ1UsR0FBSixDQUFRLFlBQVI7QUFIUDtBQVBTLEtBQXBCO0FBYUFYLElBQUFBLFVBQVUsQ0FBQ0csV0FBRCxDQUFWLENBQ0dVLElBREgsQ0FDUUMsWUFBWSxJQUFJO0FBQ3BCLFVBQUlBLFlBQVksQ0FBQ0osT0FBakIsRUFBMEI7QUFDeEJSLFFBQUFBLEdBQUcsQ0FBQ2EsR0FBSixDQUFRRCxZQUFZLENBQUNKLE9BQXJCO0FBQ0Q7O0FBQ0RSLE1BQUFBLEdBQUcsQ0FBQ2MsSUFBSixDQUFTLE1BQVQ7QUFDQWQsTUFBQUEsR0FBRyxDQUFDZSxNQUFKLENBQVdILFlBQVksQ0FBQ0ksVUFBeEIsRUFBb0NDLElBQXBDLENBQXlDTCxZQUFZLENBQUNWLElBQXREO0FBQ0QsS0FQSCxFQVFHZ0IsS0FSSCxDQVFTQyxDQUFDLElBQUluQixHQUFHLENBQUNlLE1BQUosQ0FBVyxHQUFYLEVBQWdCRSxJQUFoQixDQUFxQjtBQUFFRyxNQUFBQSxLQUFLLEVBQUU7QUFBVCxLQUFyQixDQVJkO0FBU0QsR0F2QkQ7QUF3QkQsQ0F6QkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxBcGxpY2FjaW9uRW1wcmVzYXJpYWxcXHNyY1xcZXhwcmVzcy1jYWxsYmFjayIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWFrZUV4cHJlc3NDYWxsYmFjayAoY29udHJvbGxlcikge1xyXG4gIHJldHVybiAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IGh0dHBSZXF1ZXN0ID0ge1xyXG4gICAgICBib2R5OiByZXEuYm9keSxcclxuICAgICAgcXVlcnk6IHJlcS5xdWVyeSxcclxuICAgICAgcGFyYW1zOiByZXEucGFyYW1zLFxyXG4gICAgICBpcDogcmVxLmlwLFxyXG4gICAgICBtZXRob2Q6IHJlcS5tZXRob2QsXHJcbiAgICAgIHBhdGg6IHJlcS5wYXRoLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IHJlcS5nZXQoJ0NvbnRlbnQtVHlwZScpLFxyXG4gICAgICAgIFJlZmVyZXI6IHJlcS5nZXQoJ3JlZmVyZXInKSxcclxuICAgICAgICAnVXNlci1BZ2VudCc6IHJlcS5nZXQoJ1VzZXItQWdlbnQnKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb250cm9sbGVyKGh0dHBSZXF1ZXN0KVxyXG4gICAgICAudGhlbihodHRwUmVzcG9uc2UgPT4ge1xyXG4gICAgICAgIGlmIChodHRwUmVzcG9uc2UuaGVhZGVycykge1xyXG4gICAgICAgICAgcmVzLnNldChodHRwUmVzcG9uc2UuaGVhZGVycylcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzLnR5cGUoJ2pzb24nKVxyXG4gICAgICAgIHJlcy5zdGF0dXMoaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUpLnNlbmQoaHR0cFJlc3BvbnNlLmJvZHkpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlID0+IHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgZXJyb3I6ICdBbiB1bmtvd24gZXJyb3Igb2NjdXJyZWQuJyB9KSlcclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "module",
        "exports",
        "makeExpressCallback",
        "controller",
        "req",
        "res",
        "httpRequest",
        "body",
        "query",
        "params",
        "ip",
        "method",
        "path",
        "headers",
        "get",
        "Referer",
        "then",
        "httpResponse",
        "set",
        "type",
        "status",
        "statusCode",
        "send",
        "catch",
        "e",
        "error"
      ],
      "mappings": ";;AAAAA,MAAM,CAACC,OAAP,GAAiB,SAASC,mBAAT,CAA8BC,UAA9B,EAA0C;AACzD,SAAO,CAACC,GAAD,EAAMC,GAAN,KAAc;AACnB,UAAMC,WAAW,GAAG;AAClBC,MAAAA,IAAI,EAAEH,GAAG,CAACG,IADQ;AAElBC,MAAAA,KAAK,EAAEJ,GAAG,CAACI,KAFO;AAGlBC,MAAAA,MAAM,EAAEL,GAAG,CAACK,MAHM;AAIlBC,MAAAA,EAAE,EAAEN,GAAG,CAACM,EAJU;AAKlBC,MAAAA,MAAM,EAAEP,GAAG,CAACO,MALM;AAMlBC,MAAAA,IAAI,EAAER,GAAG,CAACQ,IANQ;AAOlBC,MAAAA,OAAO,EAAE;AACP,wBAAgBT,GAAG,CAACU,GAAJ,CAAQ,cAAR,CADT;AAEPC,QAAAA,OAAO,EAAEX,GAAG,CAACU,GAAJ,CAAQ,SAAR,CAFF;AAGP,sBAAcV,GAAG,CAACU,GAAJ,CAAQ,YAAR;AAHP;AAPS,KAApB;AAaAX,IAAAA,UAAU,CAACG,WAAD,CAAV,CACGU,IADH,CACQC,YAAY,IAAI;AACpB,UAAIA,YAAY,CAACJ,OAAjB,EAA0B;AACxBR,QAAAA,GAAG,CAACa,GAAJ,CAAQD,YAAY,CAACJ,OAArB;AACD;;AACDR,MAAAA,GAAG,CAACc,IAAJ,CAAS,MAAT;AACAd,MAAAA,GAAG,CAACe,MAAJ,CAAWH,YAAY,CAACI,UAAxB,EAAoCC,IAApC,CAAyCL,YAAY,CAACV,IAAtD;AACD,KAPH,EAQGgB,KARH,CAQSC,CAAC,IAAInB,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB;AAAEG,MAAAA,KAAK,EAAE;AAAT,KAArB,CARd;AASD,GAvBD;AAwBD,CAzBD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\express-callback",
      "sourcesContent": [
        "module.exports = function makeExpressCallback (controller) {\r\n  return (req, res) => {\r\n    const httpRequest = {\r\n      body: req.body,\r\n      query: req.query,\r\n      params: req.params,\r\n      ip: req.ip,\r\n      method: req.method,\r\n      path: req.path,\r\n      headers: {\r\n        'Content-Type': req.get('Content-Type'),\r\n        Referer: req.get('referer'),\r\n        'User-Agent': req.get('User-Agent')\r\n      }\r\n    }\r\n    controller(httpRequest)\r\n      .then(httpResponse => {\r\n        if (httpResponse.headers) {\r\n          res.set(httpResponse.headers)\r\n        }\r\n        res.type('json')\r\n        res.status(httpResponse.statusCode).send(httpResponse.body)\r\n      })\r\n      .catch(e => res.status(500).send({ error: 'An unkown error occurred.' }))\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969709
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\controllers\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"notFound\", {\n  enumerable: true,\n  get: function () {\n    return _notFound.default;\n  }\n});\nexports.getMainComments = exports.patchComment = exports.postComment = exports.getComments = exports.deleteComment = exports.default = void 0;\n\nvar _useCases = require(\"../use-cases\");\n\nvar _deleteComment = _interopRequireDefault(require(\"./delete-comment\"));\n\nvar _getComments = _interopRequireDefault(require(\"./get-comments\"));\n\nvar _postComment = _interopRequireDefault(require(\"./post-comment\"));\n\nvar _patchComment = _interopRequireDefault(require(\"./patch-comment\"));\n\nvar _notFound = _interopRequireDefault(require(\"./not-found\"));\n\nvar _getMainComments = _interopRequireDefault(require(\"./get-main-comments\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst deleteComment = (0, _deleteComment.default)({\n  removeComment: _useCases.removeComment\n});\nexports.deleteComment = deleteComment;\nconst getComments = (0, _getComments.default)({\n  listComments: _useCases.listComments\n});\nexports.getComments = getComments;\nconst postComment = (0, _postComment.default)({\n  addComment: _useCases.addComment\n});\nexports.postComment = postComment;\nconst patchComment = (0, _patchComment.default)({\n  editComment: _useCases.editComment\n});\nexports.patchComment = patchComment;\nconst getMainComments = (0, _getMainComments.default)({\n  listMainComments: _useCases.listMainComments\n});\nexports.getMainComments = getMainComments;\nconst commentController = Object.freeze({\n  deleteComment,\n  getComments,\n  notFound: _notFound.default,\n  postComment,\n  patchComment,\n  getMainComments\n});\nvar _default = commentController;\n/*@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http postComment\r\nservice -> controller: add-comment\r\ncontroller -> comment: create-comment\r\ncomment  -> controller: comment\r\ncontroller -> dataAcces: save-comment\r\ndataAcces-> mongoDB: save\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml\r\n\r\n\r\n\r\n@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http getMainComments\r\nservice -> controller: get-main-comments\r\ncontroller -> dataAcces: getMainComments\r\ndataAcces-> mongoDB: getComments\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml*/\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRlbGV0ZUNvbW1lbnQiLCJyZW1vdmVDb21tZW50IiwiZ2V0Q29tbWVudHMiLCJsaXN0Q29tbWVudHMiLCJwb3N0Q29tbWVudCIsImFkZENvbW1lbnQiLCJwYXRjaENvbW1lbnQiLCJlZGl0Q29tbWVudCIsImdldE1haW5Db21tZW50cyIsImxpc3RNYWluQ29tbWVudHMiLCJjb21tZW50Q29udHJvbGxlciIsIk9iamVjdCIsImZyZWV6ZSIsIm5vdEZvdW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7O0FBT0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxhQUFhLEdBQUcsNEJBQWtCO0FBQUVDLEVBQUFBLGFBQWEsRUFBYkE7QUFBRixDQUFsQixDQUF0Qjs7QUFDQSxNQUFNQyxXQUFXLEdBQUcsMEJBQWdCO0FBQ2xDQyxFQUFBQSxZQUFZLEVBQVpBO0FBRGtDLENBQWhCLENBQXBCOztBQUdBLE1BQU1DLFdBQVcsR0FBRywwQkFBZ0I7QUFBRUMsRUFBQUEsVUFBVSxFQUFWQTtBQUFGLENBQWhCLENBQXBCOztBQUNBLE1BQU1DLFlBQVksR0FBRywyQkFBaUI7QUFBRUMsRUFBQUEsV0FBVyxFQUFYQTtBQUFGLENBQWpCLENBQXJCOztBQUVBLE1BQU1DLGVBQWUsR0FBRyw4QkFBb0I7QUFBQ0MsRUFBQUEsZ0JBQWdCLEVBQWhCQTtBQUFELENBQXBCLENBQXhCOztBQUVBLE1BQU1DLGlCQUFpQixHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUN0Q1osRUFBQUEsYUFEc0M7QUFFdENFLEVBQUFBLFdBRnNDO0FBR3RDVyxFQUFBQSxRQUFRLEVBQVJBLGlCQUhzQztBQUl0Q1QsRUFBQUEsV0FKc0M7QUFLdENFLEVBQUFBLFlBTHNDO0FBTXRDRSxFQUFBQTtBQU5zQyxDQUFkLENBQTFCO2VBU2VFLGlCO0FBR2YiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxBcGxpY2FjaW9uRW1wcmVzYXJpYWxcXHNyY1xcY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIGFkZENvbW1lbnQsXHJcbiAgZWRpdENvbW1lbnQsXHJcbiAgbGlzdENvbW1lbnRzLFxyXG4gIHJlbW92ZUNvbW1lbnQsXHJcbiAgbGlzdE1haW5Db21tZW50c1xyXG59IGZyb20gJy4uL3VzZS1jYXNlcydcclxuaW1wb3J0IG1ha2VEZWxldGVDb21tZW50IGZyb20gJy4vZGVsZXRlLWNvbW1lbnQnXHJcbmltcG9ydCBtYWtlR2V0Q29tbWVudHMgZnJvbSAnLi9nZXQtY29tbWVudHMnXHJcbmltcG9ydCBtYWtlUG9zdENvbW1lbnQgZnJvbSAnLi9wb3N0LWNvbW1lbnQnXHJcbmltcG9ydCBtYWtlUGF0Y2hDb21tZW50IGZyb20gJy4vcGF0Y2gtY29tbWVudCdcclxuaW1wb3J0IG5vdEZvdW5kIGZyb20gJy4vbm90LWZvdW5kJ1xyXG5pbXBvcnQgbWFrZUdldE1haW5Db21tZW50cyBmcm9tICcuL2dldC1tYWluLWNvbW1lbnRzJ1xyXG5cclxuY29uc3QgZGVsZXRlQ29tbWVudCA9IG1ha2VEZWxldGVDb21tZW50KHsgcmVtb3ZlQ29tbWVudCB9KVxyXG5jb25zdCBnZXRDb21tZW50cyA9IG1ha2VHZXRDb21tZW50cyh7XHJcbiAgbGlzdENvbW1lbnRzXHJcbn0pXHJcbmNvbnN0IHBvc3RDb21tZW50ID0gbWFrZVBvc3RDb21tZW50KHsgYWRkQ29tbWVudCB9KVxyXG5jb25zdCBwYXRjaENvbW1lbnQgPSBtYWtlUGF0Y2hDb21tZW50KHsgZWRpdENvbW1lbnQgfSlcclxuXHJcbmNvbnN0IGdldE1haW5Db21tZW50cyA9IG1ha2VHZXRNYWluQ29tbWVudHMoe2xpc3RNYWluQ29tbWVudHMgfSlcclxuXHJcbmNvbnN0IGNvbW1lbnRDb250cm9sbGVyID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgZGVsZXRlQ29tbWVudCxcclxuICBnZXRDb21tZW50cyxcclxuICBub3RGb3VuZCxcclxuICBwb3N0Q29tbWVudCxcclxuICBwYXRjaENvbW1lbnQsXHJcbiAgZ2V0TWFpbkNvbW1lbnRzXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb21tZW50Q29udHJvbGxlclxyXG5leHBvcnQgeyBkZWxldGVDb21tZW50LCBnZXRDb21tZW50cywgbm90Rm91bmQsIHBvc3RDb21tZW50LCBwYXRjaENvbW1lbnQsIGdldE1haW5Db21tZW50cyB9XHJcblxyXG4vKkBzdGFydHVtbFxyXG5hY3RvciB1c2VyXHJcbmJvdW5kYXJ5IHNlcnZpY2VcclxuY29udHJvbCBjb250cm9sbGVyXHJcbmVudGl0eSBjb21tZW50XHJcbmJvdW5kYXJ5IGRhdGFBY2Nlc1xyXG5kYXRhYmFzZSBtb25nb0RCXHJcblxyXG51c2VyIC0+ICBzZXJ2aWNlIDogSHR0cCBwb3N0Q29tbWVudFxyXG5zZXJ2aWNlIC0+IGNvbnRyb2xsZXI6IGFkZC1jb21tZW50XHJcbmNvbnRyb2xsZXIgLT4gY29tbWVudDogY3JlYXRlLWNvbW1lbnRcclxuY29tbWVudCAgLT4gY29udHJvbGxlcjogY29tbWVudFxyXG5jb250cm9sbGVyIC0+IGRhdGFBY2Nlczogc2F2ZS1jb21tZW50XHJcbmRhdGFBY2Nlcy0+IG1vbmdvREI6IHNhdmVcclxubW9uZ29EQiAtPiBkYXRhQWNjZXMgOiByZXR1cm4tcmVzdWx0XHJcbmRhdGFBY2NlcyAtPiBjb250cm9sbGVyOiByZXR1cm4tcmVzdWx0XHJcbmNvbnRyb2xsZXItPnNlcnZpY2U6IHJldHVybi1yZXN1bHRcclxuc2VydmljZSAtPiB1c2VyIDogcmV0dXJuIHJlc3VsdFxyXG5AZW5kdW1sXHJcblxyXG5cclxuXHJcbkBzdGFydHVtbFxyXG5hY3RvciB1c2VyXHJcbmJvdW5kYXJ5IHNlcnZpY2VcclxuY29udHJvbCBjb250cm9sbGVyXHJcbmVudGl0eSBjb21tZW50XHJcbmJvdW5kYXJ5IGRhdGFBY2Nlc1xyXG5kYXRhYmFzZSBtb25nb0RCXHJcblxyXG51c2VyIC0+ICBzZXJ2aWNlIDogSHR0cCBnZXRNYWluQ29tbWVudHNcclxuc2VydmljZSAtPiBjb250cm9sbGVyOiBnZXQtbWFpbi1jb21tZW50c1xyXG5jb250cm9sbGVyIC0+IGRhdGFBY2NlczogZ2V0TWFpbkNvbW1lbnRzXHJcbmRhdGFBY2Nlcy0+IG1vbmdvREI6IGdldENvbW1lbnRzXHJcbm1vbmdvREIgLT4gZGF0YUFjY2VzIDogcmV0dXJuLXJlc3VsdFxyXG5kYXRhQWNjZXMgLT4gY29udHJvbGxlcjogcmV0dXJuLXJlc3VsdFxyXG5jb250cm9sbGVyLT5zZXJ2aWNlOiByZXR1cm4tcmVzdWx0XHJcbnNlcnZpY2UgLT4gdXNlciA6IHJldHVybiByZXN1bHRcclxuQGVuZHVtbCovIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "deleteComment",
        "removeComment",
        "getComments",
        "listComments",
        "postComment",
        "addComment",
        "patchComment",
        "editComment",
        "getMainComments",
        "listMainComments",
        "commentController",
        "Object",
        "freeze",
        "notFound"
      ],
      "mappings": ";;;;;;;;;;;;;AAAA;;AAOA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,4BAAkB;AAAEC,EAAAA,aAAa,EAAbA;AAAF,CAAlB,CAAtB;;AACA,MAAMC,WAAW,GAAG,0BAAgB;AAClCC,EAAAA,YAAY,EAAZA;AADkC,CAAhB,CAApB;;AAGA,MAAMC,WAAW,GAAG,0BAAgB;AAAEC,EAAAA,UAAU,EAAVA;AAAF,CAAhB,CAApB;;AACA,MAAMC,YAAY,GAAG,2BAAiB;AAAEC,EAAAA,WAAW,EAAXA;AAAF,CAAjB,CAArB;;AAEA,MAAMC,eAAe,GAAG,8BAAoB;AAACC,EAAAA,gBAAgB,EAAhBA;AAAD,CAApB,CAAxB;;AAEA,MAAMC,iBAAiB,GAAGC,MAAM,CAACC,MAAP,CAAc;AACtCZ,EAAAA,aADsC;AAEtCE,EAAAA,WAFsC;AAGtCW,EAAAA,QAAQ,EAARA,iBAHsC;AAItCT,EAAAA,WAJsC;AAKtCE,EAAAA,YALsC;AAMtCE,EAAAA;AANsC,CAAd,CAA1B;eASeE,iB;AAGf",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\controllers",
      "sourcesContent": [
        "import {\r\n  addComment,\r\n  editComment,\r\n  listComments,\r\n  removeComment,\r\n  listMainComments\r\n} from '../use-cases'\r\nimport makeDeleteComment from './delete-comment'\r\nimport makeGetComments from './get-comments'\r\nimport makePostComment from './post-comment'\r\nimport makePatchComment from './patch-comment'\r\nimport notFound from './not-found'\r\nimport makeGetMainComments from './get-main-comments'\r\n\r\nconst deleteComment = makeDeleteComment({ removeComment })\r\nconst getComments = makeGetComments({\r\n  listComments\r\n})\r\nconst postComment = makePostComment({ addComment })\r\nconst patchComment = makePatchComment({ editComment })\r\n\r\nconst getMainComments = makeGetMainComments({listMainComments })\r\n\r\nconst commentController = Object.freeze({\r\n  deleteComment,\r\n  getComments,\r\n  notFound,\r\n  postComment,\r\n  patchComment,\r\n  getMainComments\r\n})\r\n\r\nexport default commentController\r\nexport { deleteComment, getComments, notFound, postComment, patchComment, getMainComments }\r\n\r\n/*@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http postComment\r\nservice -> controller: add-comment\r\ncontroller -> comment: create-comment\r\ncomment  -> controller: comment\r\ncontroller -> dataAcces: save-comment\r\ndataAcces-> mongoDB: save\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml\r\n\r\n\r\n\r\n@startuml\r\nactor user\r\nboundary service\r\ncontrol controller\r\nentity comment\r\nboundary dataAcces\r\ndatabase mongoDB\r\n\r\nuser ->  service : Http getMainComments\r\nservice -> controller: get-main-comments\r\ncontroller -> dataAcces: getMainComments\r\ndataAcces-> mongoDB: getComments\r\nmongoDB -> dataAcces : return-result\r\ndataAcces -> controller: return-result\r\ncontroller->service: return-result\r\nservice -> user : return result\r\n@enduml*/"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969706
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.listMainComments = exports.removeComment = exports.listComments = exports.editComment = exports.addComment = exports.default = void 0;\n\nvar _addComment = _interopRequireDefault(require(\"./add-comment\"));\n\nvar _editComment = _interopRequireDefault(require(\"./edit-comment\"));\n\nvar _removeComment = _interopRequireDefault(require(\"./remove-comment\"));\n\nvar _listComments = _interopRequireDefault(require(\"./list-comments\"));\n\nvar _handleModeration = _interopRequireDefault(require(\"./handle-moderation\"));\n\nvar _listMainComments = _interopRequireDefault(require(\"./list-main-comments\"));\n\nvar _dataAccess = _interopRequireDefault(require(\"../data-access\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst handleModeration = (0, _handleModeration.default)({\n  initiateReview: async () => {} // TODO: Make real initiate review function.\n\n});\nconst addComment = (0, _addComment.default)({\n  commentsDb: _dataAccess.default,\n  handleModeration\n});\nexports.addComment = addComment;\nconst editComment = (0, _editComment.default)({\n  commentsDb: _dataAccess.default,\n  handleModeration\n});\nexports.editComment = editComment;\nconst listComments = (0, _listComments.default)({\n  commentsDb: _dataAccess.default\n});\nexports.listComments = listComments;\nconst removeComment = (0, _removeComment.default)({\n  commentsDb: _dataAccess.default\n});\nexports.removeComment = removeComment;\nconst listMainComments = (0, _listMainComments.default)({\n  commentsDb: _dataAccess.default\n});\nexports.listMainComments = listMainComments;\nconst commentService = Object.freeze({\n  addComment,\n  editComment,\n  handleModeration,\n  listComments,\n  removeComment,\n  listMainComments\n});\nvar _default = commentService;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImhhbmRsZU1vZGVyYXRpb24iLCJpbml0aWF0ZVJldmlldyIsImFkZENvbW1lbnQiLCJjb21tZW50c0RiIiwiZWRpdENvbW1lbnQiLCJsaXN0Q29tbWVudHMiLCJyZW1vdmVDb21tZW50IiwibGlzdE1haW5Db21tZW50cyIsImNvbW1lbnRTZXJ2aWNlIiwiT2JqZWN0IiwiZnJlZXplIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxnQkFBZ0IsR0FBRywrQkFBcUI7QUFDNUNDLEVBQUFBLGNBQWMsRUFBRSxZQUFZLENBQUUsQ0FEYyxDQUNiOztBQURhLENBQXJCLENBQXpCO0FBR0EsTUFBTUMsVUFBVSxHQUFHLHlCQUFlO0FBQUVDLEVBQUFBLFVBQVUsRUFBVkEsbUJBQUY7QUFBY0gsRUFBQUE7QUFBZCxDQUFmLENBQW5COztBQUNBLE1BQU1JLFdBQVcsR0FBRywwQkFBZ0I7QUFBRUQsRUFBQUEsVUFBVSxFQUFWQSxtQkFBRjtBQUFjSCxFQUFBQTtBQUFkLENBQWhCLENBQXBCOztBQUNBLE1BQU1LLFlBQVksR0FBRywyQkFBaUI7QUFBRUYsRUFBQUEsVUFBVSxFQUFWQTtBQUFGLENBQWpCLENBQXJCOztBQUNBLE1BQU1HLGFBQWEsR0FBRyw0QkFBa0I7QUFBRUgsRUFBQUEsVUFBVSxFQUFWQTtBQUFGLENBQWxCLENBQXRCOztBQUNBLE1BQU1JLGdCQUFnQixHQUFHLCtCQUFxQjtBQUFFSixFQUFBQSxVQUFVLEVBQVZBO0FBQUYsQ0FBckIsQ0FBekI7O0FBRUEsTUFBTUssY0FBYyxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUNuQ1IsRUFBQUEsVUFEbUM7QUFFbkNFLEVBQUFBLFdBRm1DO0FBR25DSixFQUFBQSxnQkFIbUM7QUFJbkNLLEVBQUFBLFlBSm1DO0FBS25DQyxFQUFBQSxhQUxtQztBQU1uQ0MsRUFBQUE7QUFObUMsQ0FBZCxDQUF2QjtlQVNlQyxjIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcQXBsaWNhY2lvbkVtcHJlc2FyaWFsXFxzcmNcXHVzZS1jYXNlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtYWtlQWRkQ29tbWVudCBmcm9tICcuL2FkZC1jb21tZW50J1xyXG5pbXBvcnQgbWFrZUVkaXRDb21tZW50IGZyb20gJy4vZWRpdC1jb21tZW50J1xyXG5pbXBvcnQgbWFrZVJlbW92ZUNvbW1lbnQgZnJvbSAnLi9yZW1vdmUtY29tbWVudCdcclxuaW1wb3J0IG1ha2VMaXN0Q29tbWVudHMgZnJvbSAnLi9saXN0LWNvbW1lbnRzJ1xyXG5pbXBvcnQgbWFrZUhhbmRsZU1vZGVyYXRpb24gZnJvbSAnLi9oYW5kbGUtbW9kZXJhdGlvbidcclxuaW1wb3J0IG1ha2VMaXN0TWFpbkNvbW1lbnRzIGZyb20gJy4vbGlzdC1tYWluLWNvbW1lbnRzJ1xyXG5pbXBvcnQgY29tbWVudHNEYiBmcm9tICcuLi9kYXRhLWFjY2VzcydcclxuXHJcbmNvbnN0IGhhbmRsZU1vZGVyYXRpb24gPSBtYWtlSGFuZGxlTW9kZXJhdGlvbih7XHJcbiAgaW5pdGlhdGVSZXZpZXc6IGFzeW5jICgpID0+IHt9IC8vIFRPRE86IE1ha2UgcmVhbCBpbml0aWF0ZSByZXZpZXcgZnVuY3Rpb24uXHJcbn0pXHJcbmNvbnN0IGFkZENvbW1lbnQgPSBtYWtlQWRkQ29tbWVudCh7IGNvbW1lbnRzRGIsIGhhbmRsZU1vZGVyYXRpb24gfSlcclxuY29uc3QgZWRpdENvbW1lbnQgPSBtYWtlRWRpdENvbW1lbnQoeyBjb21tZW50c0RiLCBoYW5kbGVNb2RlcmF0aW9uIH0pXHJcbmNvbnN0IGxpc3RDb21tZW50cyA9IG1ha2VMaXN0Q29tbWVudHMoeyBjb21tZW50c0RiIH0pXHJcbmNvbnN0IHJlbW92ZUNvbW1lbnQgPSBtYWtlUmVtb3ZlQ29tbWVudCh7IGNvbW1lbnRzRGIgfSlcclxuY29uc3QgbGlzdE1haW5Db21tZW50cyA9IG1ha2VMaXN0TWFpbkNvbW1lbnRzKHsgY29tbWVudHNEYiB9KVxyXG5cclxuY29uc3QgY29tbWVudFNlcnZpY2UgPSBPYmplY3QuZnJlZXplKHtcclxuICBhZGRDb21tZW50LFxyXG4gIGVkaXRDb21tZW50LFxyXG4gIGhhbmRsZU1vZGVyYXRpb24sXHJcbiAgbGlzdENvbW1lbnRzLFxyXG4gIHJlbW92ZUNvbW1lbnQsXHJcbiAgbGlzdE1haW5Db21tZW50c1xyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29tbWVudFNlcnZpY2VcclxuZXhwb3J0IHsgYWRkQ29tbWVudCwgZWRpdENvbW1lbnQsIGxpc3RDb21tZW50cywgcmVtb3ZlQ29tbWVudCwgbGlzdE1haW5Db21tZW50cyB9XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "handleModeration",
        "initiateReview",
        "addComment",
        "commentsDb",
        "editComment",
        "listComments",
        "removeComment",
        "listMainComments",
        "commentService",
        "Object",
        "freeze"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,gBAAgB,GAAG,+BAAqB;AAC5CC,EAAAA,cAAc,EAAE,YAAY,CAAE,CADc,CACb;;AADa,CAArB,CAAzB;AAGA,MAAMC,UAAU,GAAG,yBAAe;AAAEC,EAAAA,UAAU,EAAVA,mBAAF;AAAcH,EAAAA;AAAd,CAAf,CAAnB;;AACA,MAAMI,WAAW,GAAG,0BAAgB;AAAED,EAAAA,UAAU,EAAVA,mBAAF;AAAcH,EAAAA;AAAd,CAAhB,CAApB;;AACA,MAAMK,YAAY,GAAG,2BAAiB;AAAEF,EAAAA,UAAU,EAAVA;AAAF,CAAjB,CAArB;;AACA,MAAMG,aAAa,GAAG,4BAAkB;AAAEH,EAAAA,UAAU,EAAVA;AAAF,CAAlB,CAAtB;;AACA,MAAMI,gBAAgB,GAAG,+BAAqB;AAAEJ,EAAAA,UAAU,EAAVA;AAAF,CAArB,CAAzB;;AAEA,MAAMK,cAAc,GAAGC,MAAM,CAACC,MAAP,CAAc;AACnCR,EAAAA,UADmC;AAEnCE,EAAAA,WAFmC;AAGnCJ,EAAAA,gBAHmC;AAInCK,EAAAA,YAJmC;AAKnCC,EAAAA,aALmC;AAMnCC,EAAAA;AANmC,CAAd,CAAvB;eASeC,c",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "sourcesContent": [
        "import makeAddComment from './add-comment'\r\nimport makeEditComment from './edit-comment'\r\nimport makeRemoveComment from './remove-comment'\r\nimport makeListComments from './list-comments'\r\nimport makeHandleModeration from './handle-moderation'\r\nimport makeListMainComments from './list-main-comments'\r\nimport commentsDb from '../data-access'\r\n\r\nconst handleModeration = makeHandleModeration({\r\n  initiateReview: async () => {} // TODO: Make real initiate review function.\r\n})\r\nconst addComment = makeAddComment({ commentsDb, handleModeration })\r\nconst editComment = makeEditComment({ commentsDb, handleModeration })\r\nconst listComments = makeListComments({ commentsDb })\r\nconst removeComment = makeRemoveComment({ commentsDb })\r\nconst listMainComments = makeListMainComments({ commentsDb })\r\n\r\nconst commentService = Object.freeze({\r\n  addComment,\r\n  editComment,\r\n  handleModeration,\r\n  listComments,\r\n  removeComment,\r\n  listMainComments\r\n})\r\n\r\nexport default commentService\r\nexport { addComment, editComment, listComments, removeComment, listMainComments }\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969713
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\\\\add-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\add-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\add-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\add-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
        "sourceFileName": "add-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeAddComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeAddComment({\n  commentsDb,\n  handleModeration\n}) {\n  return async function addComment(commentInfo) {\n    const comment = (0, _comment.default)(commentInfo);\n    const exists = await commentsDb.findByHash({\n      hash: comment.getHash()\n    });\n\n    if (exists) {\n      return exists;\n    }\n\n    const moderated = await handleModeration({\n      comment\n    });\n    const commentSource = moderated.getSource();\n    return commentsDb.insert({\n      author: moderated.getAuthor(),\n      createdOn: moderated.getCreatedOn(),\n      hash: moderated.getHash(),\n      id: moderated.getId(),\n      modifiedOn: moderated.getModifiedOn(),\n      postId: moderated.getPostId(),\n      published: moderated.isPublished(),\n      replyToId: moderated.getReplyToId(),\n      source: {\n        ip: commentSource.getIp(),\n        browser: commentSource.getBrowser(),\n        referrer: commentSource.getReferrer()\n      },\n      text: moderated.getText()\n    });\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1jb21tZW50LmpzIl0sIm5hbWVzIjpbIm1ha2VBZGRDb21tZW50IiwiY29tbWVudHNEYiIsImhhbmRsZU1vZGVyYXRpb24iLCJhZGRDb21tZW50IiwiY29tbWVudEluZm8iLCJjb21tZW50IiwiZXhpc3RzIiwiZmluZEJ5SGFzaCIsImhhc2giLCJnZXRIYXNoIiwibW9kZXJhdGVkIiwiY29tbWVudFNvdXJjZSIsImdldFNvdXJjZSIsImluc2VydCIsImF1dGhvciIsImdldEF1dGhvciIsImNyZWF0ZWRPbiIsImdldENyZWF0ZWRPbiIsImlkIiwiZ2V0SWQiLCJtb2RpZmllZE9uIiwiZ2V0TW9kaWZpZWRPbiIsInBvc3RJZCIsImdldFBvc3RJZCIsInB1Ymxpc2hlZCIsImlzUHVibGlzaGVkIiwicmVwbHlUb0lkIiwiZ2V0UmVwbHlUb0lkIiwic291cmNlIiwiaXAiLCJnZXRJcCIsImJyb3dzZXIiLCJnZXRCcm93c2VyIiwicmVmZXJyZXIiLCJnZXRSZWZlcnJlciIsInRleHQiLCJnZXRUZXh0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFDZSxTQUFTQSxjQUFULENBQXlCO0FBQUVDLEVBQUFBLFVBQUY7QUFBY0MsRUFBQUE7QUFBZCxDQUF6QixFQUEyRDtBQUN4RSxTQUFPLGVBQWVDLFVBQWYsQ0FBMkJDLFdBQTNCLEVBQXdDO0FBQzdDLFVBQU1DLE9BQU8sR0FBRyxzQkFBWUQsV0FBWixDQUFoQjtBQUNBLFVBQU1FLE1BQU0sR0FBRyxNQUFNTCxVQUFVLENBQUNNLFVBQVgsQ0FBc0I7QUFBRUMsTUFBQUEsSUFBSSxFQUFFSCxPQUFPLENBQUNJLE9BQVI7QUFBUixLQUF0QixDQUFyQjs7QUFDQSxRQUFJSCxNQUFKLEVBQVk7QUFDVixhQUFPQSxNQUFQO0FBQ0Q7O0FBRUQsVUFBTUksU0FBUyxHQUFHLE1BQU1SLGdCQUFnQixDQUFDO0FBQUVHLE1BQUFBO0FBQUYsS0FBRCxDQUF4QztBQUNBLFVBQU1NLGFBQWEsR0FBR0QsU0FBUyxDQUFDRSxTQUFWLEVBQXRCO0FBQ0EsV0FBT1gsVUFBVSxDQUFDWSxNQUFYLENBQWtCO0FBQ3ZCQyxNQUFBQSxNQUFNLEVBQUVKLFNBQVMsQ0FBQ0ssU0FBVixFQURlO0FBRXZCQyxNQUFBQSxTQUFTLEVBQUVOLFNBQVMsQ0FBQ08sWUFBVixFQUZZO0FBR3ZCVCxNQUFBQSxJQUFJLEVBQUVFLFNBQVMsQ0FBQ0QsT0FBVixFQUhpQjtBQUl2QlMsTUFBQUEsRUFBRSxFQUFFUixTQUFTLENBQUNTLEtBQVYsRUFKbUI7QUFLdkJDLE1BQUFBLFVBQVUsRUFBRVYsU0FBUyxDQUFDVyxhQUFWLEVBTFc7QUFNdkJDLE1BQUFBLE1BQU0sRUFBRVosU0FBUyxDQUFDYSxTQUFWLEVBTmU7QUFPdkJDLE1BQUFBLFNBQVMsRUFBRWQsU0FBUyxDQUFDZSxXQUFWLEVBUFk7QUFRdkJDLE1BQUFBLFNBQVMsRUFBRWhCLFNBQVMsQ0FBQ2lCLFlBQVYsRUFSWTtBQVN2QkMsTUFBQUEsTUFBTSxFQUFFO0FBQ05DLFFBQUFBLEVBQUUsRUFBRWxCLGFBQWEsQ0FBQ21CLEtBQWQsRUFERTtBQUVOQyxRQUFBQSxPQUFPLEVBQUVwQixhQUFhLENBQUNxQixVQUFkLEVBRkg7QUFHTkMsUUFBQUEsUUFBUSxFQUFFdEIsYUFBYSxDQUFDdUIsV0FBZDtBQUhKLE9BVGU7QUFjdkJDLE1BQUFBLElBQUksRUFBRXpCLFNBQVMsQ0FBQzBCLE9BQVY7QUFkaUIsS0FBbEIsQ0FBUDtBQWdCRCxHQXpCRDtBQTBCRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFZpY3RvclxcRGVza3RvcFxcUHJveWVjdG9zXFxQcm95ZWN0b3MgU29ma2FcXEFwbGljYWNpb25FbXByZXNhcmlhbFxcc3JjXFx1c2UtY2FzZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFrZUNvbW1lbnQgZnJvbSAnLi4vY29tbWVudCdcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZUFkZENvbW1lbnQgKHsgY29tbWVudHNEYiwgaGFuZGxlTW9kZXJhdGlvbiB9KSB7XHJcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGFkZENvbW1lbnQgKGNvbW1lbnRJbmZvKSB7XHJcbiAgICBjb25zdCBjb21tZW50ID0gbWFrZUNvbW1lbnQoY29tbWVudEluZm8pXHJcbiAgICBjb25zdCBleGlzdHMgPSBhd2FpdCBjb21tZW50c0RiLmZpbmRCeUhhc2goeyBoYXNoOiBjb21tZW50LmdldEhhc2goKSB9KVxyXG4gICAgaWYgKGV4aXN0cykge1xyXG4gICAgICByZXR1cm4gZXhpc3RzXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbW9kZXJhdGVkID0gYXdhaXQgaGFuZGxlTW9kZXJhdGlvbih7IGNvbW1lbnQgfSlcclxuICAgIGNvbnN0IGNvbW1lbnRTb3VyY2UgPSBtb2RlcmF0ZWQuZ2V0U291cmNlKClcclxuICAgIHJldHVybiBjb21tZW50c0RiLmluc2VydCh7XHJcbiAgICAgIGF1dGhvcjogbW9kZXJhdGVkLmdldEF1dGhvcigpLFxyXG4gICAgICBjcmVhdGVkT246IG1vZGVyYXRlZC5nZXRDcmVhdGVkT24oKSxcclxuICAgICAgaGFzaDogbW9kZXJhdGVkLmdldEhhc2goKSxcclxuICAgICAgaWQ6IG1vZGVyYXRlZC5nZXRJZCgpLFxyXG4gICAgICBtb2RpZmllZE9uOiBtb2RlcmF0ZWQuZ2V0TW9kaWZpZWRPbigpLFxyXG4gICAgICBwb3N0SWQ6IG1vZGVyYXRlZC5nZXRQb3N0SWQoKSxcclxuICAgICAgcHVibGlzaGVkOiBtb2RlcmF0ZWQuaXNQdWJsaXNoZWQoKSxcclxuICAgICAgcmVwbHlUb0lkOiBtb2RlcmF0ZWQuZ2V0UmVwbHlUb0lkKCksXHJcbiAgICAgIHNvdXJjZToge1xyXG4gICAgICAgIGlwOiBjb21tZW50U291cmNlLmdldElwKCksXHJcbiAgICAgICAgYnJvd3NlcjogY29tbWVudFNvdXJjZS5nZXRCcm93c2VyKCksXHJcbiAgICAgICAgcmVmZXJyZXI6IGNvbW1lbnRTb3VyY2UuZ2V0UmVmZXJyZXIoKVxyXG4gICAgICB9LFxyXG4gICAgICB0ZXh0OiBtb2RlcmF0ZWQuZ2V0VGV4dCgpXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "add-comment.js"
      ],
      "names": [
        "makeAddComment",
        "commentsDb",
        "handleModeration",
        "addComment",
        "commentInfo",
        "comment",
        "exists",
        "findByHash",
        "hash",
        "getHash",
        "moderated",
        "commentSource",
        "getSource",
        "insert",
        "author",
        "getAuthor",
        "createdOn",
        "getCreatedOn",
        "id",
        "getId",
        "modifiedOn",
        "getModifiedOn",
        "postId",
        "getPostId",
        "published",
        "isPublished",
        "replyToId",
        "getReplyToId",
        "source",
        "ip",
        "getIp",
        "browser",
        "getBrowser",
        "referrer",
        "getReferrer",
        "text",
        "getText"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACe,SAASA,cAAT,CAAyB;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAAzB,EAA2D;AACxE,SAAO,eAAeC,UAAf,CAA2BC,WAA3B,EAAwC;AAC7C,UAAMC,OAAO,GAAG,sBAAYD,WAAZ,CAAhB;AACA,UAAME,MAAM,GAAG,MAAML,UAAU,CAACM,UAAX,CAAsB;AAAEC,MAAAA,IAAI,EAAEH,OAAO,CAACI,OAAR;AAAR,KAAtB,CAArB;;AACA,QAAIH,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;;AAED,UAAMI,SAAS,GAAG,MAAMR,gBAAgB,CAAC;AAAEG,MAAAA;AAAF,KAAD,CAAxC;AACA,UAAMM,aAAa,GAAGD,SAAS,CAACE,SAAV,EAAtB;AACA,WAAOX,UAAU,CAACY,MAAX,CAAkB;AACvBC,MAAAA,MAAM,EAAEJ,SAAS,CAACK,SAAV,EADe;AAEvBC,MAAAA,SAAS,EAAEN,SAAS,CAACO,YAAV,EAFY;AAGvBT,MAAAA,IAAI,EAAEE,SAAS,CAACD,OAAV,EAHiB;AAIvBS,MAAAA,EAAE,EAAER,SAAS,CAACS,KAAV,EAJmB;AAKvBC,MAAAA,UAAU,EAAEV,SAAS,CAACW,aAAV,EALW;AAMvBC,MAAAA,MAAM,EAAEZ,SAAS,CAACa,SAAV,EANe;AAOvBC,MAAAA,SAAS,EAAEd,SAAS,CAACe,WAAV,EAPY;AAQvBC,MAAAA,SAAS,EAAEhB,SAAS,CAACiB,YAAV,EARY;AASvBC,MAAAA,MAAM,EAAE;AACNC,QAAAA,EAAE,EAAElB,aAAa,CAACmB,KAAd,EADE;AAENC,QAAAA,OAAO,EAAEpB,aAAa,CAACqB,UAAd,EAFH;AAGNC,QAAAA,QAAQ,EAAEtB,aAAa,CAACuB,WAAd;AAHJ,OATe;AAcvBC,MAAAA,IAAI,EAAEzB,SAAS,CAAC0B,OAAV;AAdiB,KAAlB,CAAP;AAgBD,GAzBD;AA0BD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\nexport default function makeAddComment ({ commentsDb, handleModeration }) {\r\n  return async function addComment (commentInfo) {\r\n    const comment = makeComment(commentInfo)\r\n    const exists = await commentsDb.findByHash({ hash: comment.getHash() })\r\n    if (exists) {\r\n      return exists\r\n    }\r\n\r\n    const moderated = await handleModeration({ comment })\r\n    const commentSource = moderated.getSource()\r\n    return commentsDb.insert({\r\n      author: moderated.getAuthor(),\r\n      createdOn: moderated.getCreatedOn(),\r\n      hash: moderated.getHash(),\r\n      id: moderated.getId(),\r\n      modifiedOn: moderated.getModifiedOn(),\r\n      postId: moderated.getPostId(),\r\n      published: moderated.isPublished(),\r\n      replyToId: moderated.getReplyToId(),\r\n      source: {\r\n        ip: commentSource.getIp(),\r\n        browser: commentSource.getBrowser(),\r\n        referrer: commentSource.getReferrer()\r\n      },\r\n      text: moderated.getText()\r\n    })\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969710
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\comment\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nvar _Id = _interopRequireDefault(require(\"../Id\"));\n\nvar _ipRegex = _interopRequireDefault(require(\"ip-regex\"));\n\nvar _sanitizeHtml = _interopRequireDefault(require(\"sanitize-html\"));\n\nvar _comment = _interopRequireDefault(require(\"./comment\"));\n\nvar _source = _interopRequireDefault(require(\"./source\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst makeSource = (0, _source.default)({\n  isValidIp\n});\nconst makeComment = (0, _comment.default)({\n  Id: _Id.default,\n  md5,\n  sanitize,\n  makeSource\n});\nvar _default = makeComment;\nexports.default = _default;\n\nfunction isValidIp(ip) {\n  return (0, _ipRegex.default)({\n    exact: true\n  }).test(ip);\n}\n\nfunction md5(text) {\n  return _crypto.default.createHash('md5').update(text, 'utf-8').digest('hex');\n}\n\nfunction sanitize(text) {\n  // TODO: allow more coding embeds\n  return (0, _sanitizeHtml.default)(text, {\n    allowedIframeHostnames: ['codesandbox.io', 'repl.it']\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1ha2VTb3VyY2UiLCJpc1ZhbGlkSXAiLCJtYWtlQ29tbWVudCIsIklkIiwibWQ1Iiwic2FuaXRpemUiLCJpcCIsImV4YWN0IiwidGVzdCIsInRleHQiLCJjcnlwdG8iLCJjcmVhdGVIYXNoIiwidXBkYXRlIiwiZGlnZXN0IiwiYWxsb3dlZElmcmFtZUhvc3RuYW1lcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLHFCQUFnQjtBQUFFQyxFQUFBQTtBQUFGLENBQWhCLENBQW5CO0FBQ0EsTUFBTUMsV0FBVyxHQUFHLHNCQUFpQjtBQUFFQyxFQUFBQSxFQUFFLEVBQUZBLFdBQUY7QUFBTUMsRUFBQUEsR0FBTjtBQUFXQyxFQUFBQSxRQUFYO0FBQXFCTCxFQUFBQTtBQUFyQixDQUFqQixDQUFwQjtlQUVlRSxXOzs7QUFFZixTQUFTRCxTQUFULENBQW9CSyxFQUFwQixFQUF3QjtBQUN0QixTQUFPLHNCQUFRO0FBQUVDLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQVIsRUFBeUJDLElBQXpCLENBQThCRixFQUE5QixDQUFQO0FBQ0Q7O0FBRUQsU0FBU0YsR0FBVCxDQUFjSyxJQUFkLEVBQW9CO0FBQ2xCLFNBQU9DLGdCQUNKQyxVQURJLENBQ08sS0FEUCxFQUVKQyxNQUZJLENBRUdILElBRkgsRUFFUyxPQUZULEVBR0pJLE1BSEksQ0FHRyxLQUhILENBQVA7QUFJRDs7QUFFRCxTQUFTUixRQUFULENBQW1CSSxJQUFuQixFQUF5QjtBQUN2QjtBQUNBLFNBQU8sMkJBQWFBLElBQWIsRUFBbUI7QUFDeEJLLElBQUFBLHNCQUFzQixFQUFFLENBQUMsZ0JBQUQsRUFBbUIsU0FBbkI7QUFEQSxHQUFuQixDQUFQO0FBR0QiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxBcGxpY2FjaW9uRW1wcmVzYXJpYWxcXHNyY1xcY29tbWVudCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJ1xyXG5pbXBvcnQgSWQgZnJvbSAnLi4vSWQnXHJcbmltcG9ydCBpcFJlZ2V4IGZyb20gJ2lwLXJlZ2V4J1xyXG5pbXBvcnQgc2FuaXRpemVIdG1sIGZyb20gJ3Nhbml0aXplLWh0bWwnXHJcbmltcG9ydCBidWlsZE1ha2VDb21tZW50IGZyb20gJy4vY29tbWVudCdcclxuaW1wb3J0IGJ1aWxkTWFrZVNvdXJjZSBmcm9tICcuL3NvdXJjZSdcclxuXHJcbmNvbnN0IG1ha2VTb3VyY2UgPSBidWlsZE1ha2VTb3VyY2UoeyBpc1ZhbGlkSXAgfSlcclxuY29uc3QgbWFrZUNvbW1lbnQgPSBidWlsZE1ha2VDb21tZW50KHsgSWQsIG1kNSwgc2FuaXRpemUsIG1ha2VTb3VyY2UgfSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1ha2VDb21tZW50XHJcblxyXG5mdW5jdGlvbiBpc1ZhbGlkSXAgKGlwKSB7XHJcbiAgcmV0dXJuIGlwUmVnZXgoeyBleGFjdDogdHJ1ZSB9KS50ZXN0KGlwKVxyXG59XHJcblxyXG5mdW5jdGlvbiBtZDUgKHRleHQpIHtcclxuICByZXR1cm4gY3J5cHRvXHJcbiAgICAuY3JlYXRlSGFzaCgnbWQ1JylcclxuICAgIC51cGRhdGUodGV4dCwgJ3V0Zi04JylcclxuICAgIC5kaWdlc3QoJ2hleCcpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNhbml0aXplICh0ZXh0KSB7XHJcbiAgLy8gVE9ETzogYWxsb3cgbW9yZSBjb2RpbmcgZW1iZWRzXHJcbiAgcmV0dXJuIHNhbml0aXplSHRtbCh0ZXh0LCB7XHJcbiAgICBhbGxvd2VkSWZyYW1lSG9zdG5hbWVzOiBbJ2NvZGVzYW5kYm94LmlvJywgJ3JlcGwuaXQnXVxyXG4gIH0pXHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "makeSource",
        "isValidIp",
        "makeComment",
        "Id",
        "md5",
        "sanitize",
        "ip",
        "exact",
        "test",
        "text",
        "crypto",
        "createHash",
        "update",
        "digest",
        "allowedIframeHostnames"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,qBAAgB;AAAEC,EAAAA;AAAF,CAAhB,CAAnB;AACA,MAAMC,WAAW,GAAG,sBAAiB;AAAEC,EAAAA,EAAE,EAAFA,WAAF;AAAMC,EAAAA,GAAN;AAAWC,EAAAA,QAAX;AAAqBL,EAAAA;AAArB,CAAjB,CAApB;eAEeE,W;;;AAEf,SAASD,SAAT,CAAoBK,EAApB,EAAwB;AACtB,SAAO,sBAAQ;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAR,EAAyBC,IAAzB,CAA8BF,EAA9B,CAAP;AACD;;AAED,SAASF,GAAT,CAAcK,IAAd,EAAoB;AAClB,SAAOC,gBACJC,UADI,CACO,KADP,EAEJC,MAFI,CAEGH,IAFH,EAES,OAFT,EAGJI,MAHI,CAGG,KAHH,CAAP;AAID;;AAED,SAASR,QAAT,CAAmBI,IAAnB,EAAyB;AACvB;AACA,SAAO,2BAAaA,IAAb,EAAmB;AACxBK,IAAAA,sBAAsB,EAAE,CAAC,gBAAD,EAAmB,SAAnB;AADA,GAAnB,CAAP;AAGD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
      "sourcesContent": [
        "import crypto from 'crypto'\r\nimport Id from '../Id'\r\nimport ipRegex from 'ip-regex'\r\nimport sanitizeHtml from 'sanitize-html'\r\nimport buildMakeComment from './comment'\r\nimport buildMakeSource from './source'\r\n\r\nconst makeSource = buildMakeSource({ isValidIp })\r\nconst makeComment = buildMakeComment({ Id, md5, sanitize, makeSource })\r\n\r\nexport default makeComment\r\n\r\nfunction isValidIp (ip) {\r\n  return ipRegex({ exact: true }).test(ip)\r\n}\r\n\r\nfunction md5 (text) {\r\n  return crypto\r\n    .createHash('md5')\r\n    .update(text, 'utf-8')\r\n    .digest('hex')\r\n}\r\n\r\nfunction sanitize (text) {\r\n  // TODO: allow more coding embeds\r\n  return sanitizeHtml(text, {\r\n    allowedIframeHostnames: ['codesandbox.io', 'repl.it']\r\n  })\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969703
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\Id\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\Id\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\Id",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\Id\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\Id\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\Id\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\Id",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _cuid = _interopRequireDefault(require(\"cuid\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Id = Object.freeze({\n  makeId: _cuid.default,\n  isValidId: _cuid.default.isCuid\n});\nvar _default = Id;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIklkIiwiT2JqZWN0IiwiZnJlZXplIiwibWFrZUlkIiwiY3VpZCIsImlzVmFsaWRJZCIsImlzQ3VpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsRUFBRSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUN2QkMsRUFBQUEsTUFBTSxFQUFFQyxhQURlO0FBRXZCQyxFQUFBQSxTQUFTLEVBQUVELGNBQUtFO0FBRk8sQ0FBZCxDQUFYO2VBS2VOLEUiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxBcGxpY2FjaW9uRW1wcmVzYXJpYWxcXHNyY1xcSWQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3VpZCBmcm9tICdjdWlkJ1xyXG5cclxuY29uc3QgSWQgPSBPYmplY3QuZnJlZXplKHtcclxuICBtYWtlSWQ6IGN1aWQsXHJcbiAgaXNWYWxpZElkOiBjdWlkLmlzQ3VpZFxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSWRcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "Id",
        "Object",
        "freeze",
        "makeId",
        "cuid",
        "isValidId",
        "isCuid"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,EAAE,GAAGC,MAAM,CAACC,MAAP,CAAc;AACvBC,EAAAA,MAAM,EAAEC,aADe;AAEvBC,EAAAA,SAAS,EAAED,cAAKE;AAFO,CAAd,CAAX;eAKeN,E",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\Id",
      "sourcesContent": [
        "import cuid from 'cuid'\r\n\r\nconst Id = Object.freeze({\r\n  makeId: cuid,\r\n  isValidId: cuid.isCuid\r\n})\r\n\r\nexport default Id\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969702
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\comment\\\\comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
        "sourceFileName": "comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildMakeComment;\n\nfunction buildMakeComment({\n  Id,\n  md5,\n  sanitize,\n  makeSource\n}) {\n  return function makeComment({\n    author,\n    createdOn = Date.now(),\n    id = Id.makeId(),\n    source,\n    modifiedOn = Date.now(),\n    postId,\n    published = false,\n    replyToId,\n    text\n  } = {}) {\n    if (!Id.isValidId(id)) {\n      throw new Error('El comentario deben tener un id valido.');\n    }\n\n    if (!author) {\n      throw new Error('El comentario deben tener un autor.');\n    }\n\n    if (author.length < 2) {\n      throw new Error(\"El nombre del autor debe  tener minomo 2 caracteres.\");\n    }\n\n    if (!postId) {\n      throw new Error('El comentario debe tener un postId.');\n    }\n\n    if (!text || text.length < 1) {\n      throw new Error('El comentario debe incluir al menos un carcter de texto.');\n    }\n\n    if (!source) {\n      throw new Error('El comentario debe tener un origen.');\n    }\n\n    if (replyToId && !Id.isValidId(replyToId)) {\n      throw new Error('Si se suministra. El comentario debe contener un replyToId vlido.');\n    }\n\n    let sanitizedText = sanitize(text).trim();\n\n    if (sanitizedText.length < 1) {\n      throw new Error('El comentario no contiene texto utilizable.');\n    }\n\n    const validSource = makeSource(source);\n    const deletedText = '.xX Este comentario ha sido eliminado Xx.';\n    let hash;\n    return Object.freeze({\n      getAuthor: () => author,\n      getCreatedOn: () => createdOn,\n      getHash: () => hash || (hash = makeHash()),\n      getId: () => id,\n      getModifiedOn: () => modifiedOn,\n      getPostId: () => postId,\n      getReplyToId: () => replyToId,\n      getSource: () => validSource,\n      getText: () => sanitizedText,\n      isDeleted: () => sanitizedText === deletedText,\n      isPublished: () => published,\n      markDeleted: () => {\n        sanitizedText = deletedText;\n        author = 'borrado';\n      },\n      publish: () => {\n        published = true;\n      },\n      unPublish: () => {\n        published = false;\n      }\n    });\n\n    function makeHash() {\n      return md5(sanitizedText + published + (author || '') + (postId || '') + (replyToId || ''));\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnQuanMiXSwibmFtZXMiOlsiYnVpbGRNYWtlQ29tbWVudCIsIklkIiwibWQ1Iiwic2FuaXRpemUiLCJtYWtlU291cmNlIiwibWFrZUNvbW1lbnQiLCJhdXRob3IiLCJjcmVhdGVkT24iLCJEYXRlIiwibm93IiwiaWQiLCJtYWtlSWQiLCJzb3VyY2UiLCJtb2RpZmllZE9uIiwicG9zdElkIiwicHVibGlzaGVkIiwicmVwbHlUb0lkIiwidGV4dCIsImlzVmFsaWRJZCIsIkVycm9yIiwibGVuZ3RoIiwic2FuaXRpemVkVGV4dCIsInRyaW0iLCJ2YWxpZFNvdXJjZSIsImRlbGV0ZWRUZXh0IiwiaGFzaCIsIk9iamVjdCIsImZyZWV6ZSIsImdldEF1dGhvciIsImdldENyZWF0ZWRPbiIsImdldEhhc2giLCJtYWtlSGFzaCIsImdldElkIiwiZ2V0TW9kaWZpZWRPbiIsImdldFBvc3RJZCIsImdldFJlcGx5VG9JZCIsImdldFNvdXJjZSIsImdldFRleHQiLCJpc0RlbGV0ZWQiLCJpc1B1Ymxpc2hlZCIsIm1hcmtEZWxldGVkIiwicHVibGlzaCIsInVuUHVibGlzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGdCQUFULENBQTJCO0FBQUVDLEVBQUFBLEVBQUY7QUFBTUMsRUFBQUEsR0FBTjtBQUFXQyxFQUFBQSxRQUFYO0FBQXFCQyxFQUFBQTtBQUFyQixDQUEzQixFQUE4RDtBQUMzRSxTQUFPLFNBQVNDLFdBQVQsQ0FBc0I7QUFDM0JDLElBQUFBLE1BRDJCO0FBRTNCQyxJQUFBQSxTQUFTLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxFQUZlO0FBRzNCQyxJQUFBQSxFQUFFLEdBQUdULEVBQUUsQ0FBQ1UsTUFBSCxFQUhzQjtBQUkzQkMsSUFBQUEsTUFKMkI7QUFLM0JDLElBQUFBLFVBQVUsR0FBR0wsSUFBSSxDQUFDQyxHQUFMLEVBTGM7QUFNM0JLLElBQUFBLE1BTjJCO0FBTzNCQyxJQUFBQSxTQUFTLEdBQUcsS0FQZTtBQVEzQkMsSUFBQUEs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b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxBcGxpY2FjaW9uRW1wcmVzYXJpYWxcXHNyY1xcY29tbWVudCIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkTWFrZUNvbW1lbnQgKHsgSWQsIG1kNSwgc2FuaXRpemUsIG1ha2VTb3VyY2UgfSkge1xyXG4gIHJldHVybiBmdW5jdGlvbiBtYWtlQ29tbWVudCAoe1xyXG4gICAgYXV0aG9yLFxyXG4gICAgY3JlYXRlZE9uID0gRGF0ZS5ub3coKSxcclxuICAgIGlkID0gSWQubWFrZUlkKCksXHJcbiAgICBzb3VyY2UsXHJcbiAgICBtb2RpZmllZE9uID0gRGF0ZS5ub3coKSxcclxuICAgIHBvc3RJZCxcclxuICAgIHB1Ymxpc2hlZCA9IGZhbHNlLFxyXG4gICAgcmVwbHlUb0lkLFxyXG4gICAgdGV4dFxyXG4gIH0gPSB7fSkge1xyXG4gICAgaWYgKCFJZC5pc1ZhbGlkSWQoaWQpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgY29tZW50YXJpbyBkZWJlbiB0ZW5lciB1biBpZCB2YWxpZG8uJylcclxuICAgIH1cclxuICAgIGlmICghYXV0aG9yKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgY29tZW50YXJpbyBkZWJlbiB0ZW5lciB1biBhdXRvci4nKVxyXG4gICAgfVxyXG4gICAgaWYgKGF1dGhvci5sZW5ndGggPCAyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVsIG5vbWJyZSBkZWwgYXV0b3IgZGViZSAgdGVuZXIgbWlub21vIDIgY2FyYWN0ZXJlcy5cIilcclxuICAgIH1cclxuICAgIGlmICghcG9zdElkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgY29tZW50YXJpbyBkZWJlIHRlbmVyIHVuIHBvc3RJZC4nKVxyXG4gICAgfVxyXG4gICAgaWYgKCF0ZXh0IHx8IHRleHQubGVuZ3RoIDwgMSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIGNvbWVudGFyaW8gZGViZSBpbmNsdWlyIGFsIG1lbm9zIHVuIGNhcsOhY3RlciBkZSB0ZXh0by4nKVxyXG4gICAgfVxyXG4gICAgaWYgKCFzb3VyY2UpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbCBjb21lbnRhcmlvIGRlYmUgdGVuZXIgdW4gb3JpZ2VuLicpXHJcbiAgICB9XHJcbiAgICBpZiAocmVwbHlUb0lkICYmICFJZC5pc1ZhbGlkSWQocmVwbHlUb0lkKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpIHNlIHN1bWluaXN0cmEuIEVsIGNvbWVudGFyaW8gZGViZSBjb250ZW5lciB1biByZXBseVRvSWQgdsOhbGlkby4nKVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBzYW5pdGl6ZWRUZXh0ID0gc2FuaXRpemUodGV4dCkudHJpbSgpXHJcbiAgICBpZiAoc2FuaXRpemVkVGV4dC5sZW5ndGggPCAxKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgY29tZW50YXJpbyBubyBjb250aWVuZSB0ZXh0byB1dGlsaXphYmxlLicpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmFsaWRTb3VyY2UgPSBtYWtlU291cmNlKHNvdXJjZSlcclxuICAgIGNvbnN0IGRlbGV0ZWRUZXh0ID0gJy54WCBFc3RlIGNvbWVudGFyaW8gaGEgc2lkbyBlbGltaW5hZG8gWHguJ1xyXG4gICAgbGV0IGhhc2hcclxuXHJcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICAgIGdldEF1dGhvcjogKCkgPT4gYXV0aG9yLFxyXG4gICAgICBnZXRDcmVhdGVkT246ICgpID0+IGNyZWF0ZWRPbixcclxuICAgICAgZ2V0SGFzaDogKCkgPT4gaGFzaCB8fCAoaGFzaCA9IG1ha2VIYXNoKCkpLFxyXG4gICAgICBnZXRJZDogKCkgPT4gaWQsXHJcbiAgICAgIGdldE1vZGlmaWVkT246ICgpID0+IG1vZGlmaWVkT24sXHJcbiAgICAgIGdldFBvc3RJZDogKCkgPT4gcG9zdElkLFxyXG4gICAgICBnZXRSZXBseVRvSWQ6ICgpID0+IHJlcGx5VG9JZCxcclxuICAgICAgZ2V0U291cmNlOiAoKSA9PiB2YWxpZFNvdXJjZSxcclxuICAgICAgZ2V0VGV4dDogKCkgPT4gc2FuaXRpemVkVGV4dCxcclxuICAgICAgaXNEZWxldGVkOiAoKSA9PiBzYW5pdGl6ZWRUZXh0ID09PSBkZWxldGVkVGV4dCxcclxuICAgICAgaXNQdWJsaXNoZWQ6ICgpID0+IHB1Ymxpc2hlZCxcclxuICAgICAgbWFya0RlbGV0ZWQ6ICgpID0+IHtcclxuICAgICAgICBzYW5pdGl6ZWRUZXh0ID0gZGVsZXRlZFRleHRcclxuICAgICAgICBhdXRob3IgPSAnYm9ycmFkbydcclxuICAgICAgfSxcclxuICAgICAgcHVibGlzaDogKCkgPT4ge1xyXG4gICAgICAgIHB1Ymxpc2hlZCA9IHRydWVcclxuICAgICAgfSxcclxuICAgICAgdW5QdWJsaXNoOiAoKSA9PiB7XHJcbiAgICAgICAgcHVibGlzaGVkID0gZmFsc2VcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBmdW5jdGlvbiBtYWtlSGFzaCAoKSB7XHJcbiAgICAgIHJldHVybiBtZDUoXHJcbiAgICAgICAgc2FuaXRpemVkVGV4dCArXHJcbiAgICAgICAgICBwdWJsaXNoZWQgK1xyXG4gICAgICAgICAgKGF1dGhvciB8fCAnJykgK1xyXG4gICAgICAgICAgKHBvc3RJZCB8fCAnJykgK1xyXG4gICAgICAgICAgKHJlcGx5VG9JZCB8fCAnJylcclxuICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "comment.js"
      ],
      "names": [
        "buildMakeComment",
        "Id",
        "md5",
        "sanitize",
        "makeSource",
        "makeComment",
        "author",
        "createdOn",
        "Date",
        "now",
        "id",
        "makeId",
        "source",
        "modifiedOn",
        "postId",
        "published",
        "replyToId",
        "text",
        "isValidId",
        "Error",
        "length",
        "sanitizedText",
        "trim",
        "validSource",
        "deletedText",
        "hash",
        "Object",
        "freeze",
        "getAuthor",
        "getCreatedOn",
        "getHash",
        "makeHash",
        "getId",
        "getModifiedOn",
        "getPostId",
        "getReplyToId",
        "getSource",
        "getText",
        "isDeleted",
        "isPublished",
        "markDeleted",
        "publish",
        "unPublish"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
      "sourcesContent": [
        "export default function buildMakeComment ({ Id, md5, sanitize, makeSource }) {\r\n  return function makeComment ({\r\n    author,\r\n    createdOn = Date.now(),\r\n    id = Id.makeId(),\r\n    source,\r\n    modifiedOn = Date.now(),\r\n    postId,\r\n    published = false,\r\n    replyToId,\r\n    text\r\n  } = {}) {\r\n    if (!Id.isValidId(id)) {\r\n      throw new Error('El comentario deben tener un id valido.')\r\n    }\r\n    if (!author) {\r\n      throw new Error('El comentario deben tener un autor.')\r\n    }\r\n    if (author.length < 2) {\r\n      throw new Error(\"El nombre del autor debe  tener minomo 2 caracteres.\")\r\n    }\r\n    if (!postId) {\r\n      throw new Error('El comentario debe tener un postId.')\r\n    }\r\n    if (!text || text.length < 1) {\r\n      throw new Error('El comentario debe incluir al menos un carcter de texto.')\r\n    }\r\n    if (!source) {\r\n      throw new Error('El comentario debe tener un origen.')\r\n    }\r\n    if (replyToId && !Id.isValidId(replyToId)) {\r\n      throw new Error('Si se suministra. El comentario debe contener un replyToId vlido.')\r\n    }\r\n\r\n    let sanitizedText = sanitize(text).trim()\r\n    if (sanitizedText.length < 1) {\r\n      throw new Error('El comentario no contiene texto utilizable.')\r\n    }\r\n\r\n    const validSource = makeSource(source)\r\n    const deletedText = '.xX Este comentario ha sido eliminado Xx.'\r\n    let hash\r\n\r\n    return Object.freeze({\r\n      getAuthor: () => author,\r\n      getCreatedOn: () => createdOn,\r\n      getHash: () => hash || (hash = makeHash()),\r\n      getId: () => id,\r\n      getModifiedOn: () => modifiedOn,\r\n      getPostId: () => postId,\r\n      getReplyToId: () => replyToId,\r\n      getSource: () => validSource,\r\n      getText: () => sanitizedText,\r\n      isDeleted: () => sanitizedText === deletedText,\r\n      isPublished: () => published,\r\n      markDeleted: () => {\r\n        sanitizedText = deletedText\r\n        author = 'borrado'\r\n      },\r\n      publish: () => {\r\n        published = true\r\n      },\r\n      unPublish: () => {\r\n        published = false\r\n      }\r\n    })\r\n\r\n    function makeHash () {\r\n      return md5(\r\n        sanitizedText +\r\n          published +\r\n          (author || '') +\r\n          (postId || '') +\r\n          (replyToId || '')\r\n      )\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969702
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\comment\\\\source.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\source.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\source.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment\\source.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
        "sourceFileName": "source.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildMakeSource;\n\nfunction buildMakeSource({\n  isValidIp\n}) {\n  return function makeSource({\n    ip,\n    browser,\n    referrer\n  } = {}) {\n    if (!ip) {\n      throw new Error('El origen del comentario debe contener una IP.');\n    }\n\n    if (!isValidIp(ip)) {\n      throw new RangeError('El origen del comentario debe contener una IP valida.');\n    }\n\n    return Object.freeze({\n      getIp: () => ip,\n      getBrowser: () => browser,\n      getReferrer: () => referrer\n    });\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvdXJjZS5qcyJdLCJuYW1lcyI6WyJidWlsZE1ha2VTb3VyY2UiLCJpc1ZhbGlkSXAiLCJtYWtlU291cmNlIiwiaXAiLCJicm93c2VyIiwicmVmZXJyZXIiLCJFcnJvciIsIlJhbmdlRXJyb3IiLCJPYmplY3QiLCJmcmVlemUiLCJnZXRJcCIsImdldEJyb3dzZXIiLCJnZXRSZWZlcnJlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGVBQVQsQ0FBMEI7QUFBRUMsRUFBQUE7QUFBRixDQUExQixFQUF5QztBQUN0RCxTQUFPLFNBQVNDLFVBQVQsQ0FBcUI7QUFBRUMsSUFBQUEsRUFBRjtBQUFNQyxJQUFBQSxPQUFOO0FBQWVDLElBQUFBO0FBQWYsTUFBNEIsRUFBakQsRUFBcUQ7QUFDMUQsUUFBSSxDQUFDRixFQUFMLEVBQVM7QUFDUCxZQUFNLElBQUlHLEtBQUosQ0FBVSxnREFBVixDQUFOO0FBQ0Q7O0FBQ0QsUUFBSSxDQUFDTCxTQUFTLENBQUNFLEVBQUQsQ0FBZCxFQUFvQjtBQUNsQixZQUFNLElBQUlJLFVBQUosQ0FBZSx1REFBZixDQUFOO0FBQ0Q7O0FBQ0QsV0FBT0MsTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFDbkJDLE1BQUFBLEtBQUssRUFBRSxNQUFNUCxFQURNO0FBRW5CUSxNQUFBQSxVQUFVLEVBQUUsTUFBTVAsT0FGQztBQUduQlEsTUFBQUEsV0FBVyxFQUFFLE1BQU1QO0FBSEEsS0FBZCxDQUFQO0FBS0QsR0FaRDtBQWFEIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVmljdG9yXFxEZXNrdG9wXFxQcm95ZWN0b3NcXFByb3llY3RvcyBTb2ZrYVxcQXBsaWNhY2lvbkVtcHJlc2FyaWFsXFxzcmNcXGNvbW1lbnQiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZE1ha2VTb3VyY2UgKHsgaXNWYWxpZElwIH0pIHtcclxuICByZXR1cm4gZnVuY3Rpb24gbWFrZVNvdXJjZSAoeyBpcCwgYnJvd3NlciwgcmVmZXJyZXIgfSA9IHt9KSB7XHJcbiAgICBpZiAoIWlwKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgb3JpZ2VuIGRlbCBjb21lbnRhcmlvIGRlYmUgY29udGVuZXIgdW5hIElQLicpXHJcbiAgICB9XHJcbiAgICBpZiAoIWlzVmFsaWRJcChpcCkpIHtcclxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0VsIG9yaWdlbiBkZWwgY29tZW50YXJpbyBkZWJlIGNvbnRlbmVyIHVuYSBJUCB2YWxpZGEuJylcclxuICAgIH1cclxuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcclxuICAgICAgZ2V0SXA6ICgpID0+IGlwLFxyXG4gICAgICBnZXRCcm93c2VyOiAoKSA9PiBicm93c2VyLFxyXG4gICAgICBnZXRSZWZlcnJlcjogKCkgPT4gcmVmZXJyZXJcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "source.js"
      ],
      "names": [
        "buildMakeSource",
        "isValidIp",
        "makeSource",
        "ip",
        "browser",
        "referrer",
        "Error",
        "RangeError",
        "Object",
        "freeze",
        "getIp",
        "getBrowser",
        "getReferrer"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,eAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAAyC;AACtD,SAAO,SAASC,UAAT,CAAqB;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,OAAN;AAAeC,IAAAA;AAAf,MAA4B,EAAjD,EAAqD;AAC1D,QAAI,CAACF,EAAL,EAAS;AACP,YAAM,IAAIG,KAAJ,CAAU,gDAAV,CAAN;AACD;;AACD,QAAI,CAACL,SAAS,CAACE,EAAD,CAAd,EAAoB;AAClB,YAAM,IAAII,UAAJ,CAAe,uDAAf,CAAN;AACD;;AACD,WAAOC,MAAM,CAACC,MAAP,CAAc;AACnBC,MAAAA,KAAK,EAAE,MAAMP,EADM;AAEnBQ,MAAAA,UAAU,EAAE,MAAMP,OAFC;AAGnBQ,MAAAA,WAAW,EAAE,MAAMP;AAHA,KAAd,CAAP;AAKD,GAZD;AAaD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\comment",
      "sourcesContent": [
        "export default function buildMakeSource ({ isValidIp }) {\r\n  return function makeSource ({ ip, browser, referrer } = {}) {\r\n    if (!ip) {\r\n      throw new Error('El origen del comentario debe contener una IP.')\r\n    }\r\n    if (!isValidIp(ip)) {\r\n      throw new RangeError('El origen del comentario debe contener una IP valida.')\r\n    }\r\n    return Object.freeze({\r\n      getIp: () => ip,\r\n      getBrowser: () => browser,\r\n      getReferrer: () => referrer\r\n    })\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969704
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"filename\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\src\\\\use-cases\\\\edit-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\",\"plugins\":[{\"key\":\"C:\\\\Users\\\\Victor\\\\Desktop\\\\Proyectos\\\\Proyectos Sofka\\\\AplicacionEmpresarial\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\edit-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\edit-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases\\edit-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
        "sourceFileName": "edit-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeEditComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeEditComment({\n  commentsDb,\n  handleModeration\n}) {\n  return async function editComment({\n    id,\n    ...changes\n  } = {}) {\n    if (!id) {\n      throw new Error('You must supply an id.');\n    }\n\n    if (!changes.text) {\n      throw new Error('You must supply text.');\n    }\n\n    const existing = await commentsDb.findById({\n      id\n    });\n\n    if (!existing) {\n      throw new RangeError('Comment not found.');\n    }\n\n    const comment = (0, _comment.default)({ ...existing,\n      ...changes,\n      modifiedOn: null\n    });\n\n    if (comment.getHash() === existing.hash) {\n      return existing;\n    }\n\n    const moderated = await handleModeration({\n      comment\n    });\n    const updated = await commentsDb.update({\n      id: moderated.getId(),\n      published: moderated.isPublished(),\n      modifiedOn: moderated.getModifiedOn(),\n      text: moderated.getText(),\n      hash: moderated.getHash()\n    });\n    return { ...existing,\n      ...updated\n    };\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXQtY29tbWVudC5qcyJdLCJuYW1lcyI6WyJtYWtlRWRpdENvbW1lbnQiLCJjb21tZW50c0RiIiwiaGFuZGxlTW9kZXJhdGlvbiIsImVkaXRDb21tZW50IiwiaWQiLCJjaGFuZ2VzIiwiRXJyb3IiLCJ0ZXh0IiwiZXhpc3RpbmciLCJmaW5kQnlJZCIsIlJhbmdlRXJyb3IiLCJjb21tZW50IiwibW9kaWZpZWRPbiIsImdldEhhc2giLCJoYXNoIiwibW9kZXJhdGVkIiwidXBkYXRlZCIsInVwZGF0ZSIsImdldElkIiwicHVibGlzaGVkIiwiaXNQdWJsaXNoZWQiLCJnZXRNb2RpZmllZE9uIiwiZ2V0VGV4dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ2UsU0FBU0EsZUFBVCxDQUEwQjtBQUFFQyxFQUFBQSxVQUFGO0FBQWNDLEVBQUFBO0FBQWQsQ0FBMUIsRUFBNEQ7QUFDekUsU0FBTyxlQUFlQyxXQUFmLENBQTRCO0FBQUVDLElBQUFBLEVBQUY7QUFBTSxPQUFHQztBQUFULE1BQXFCLEVBQWpELEVBQXFEO0FBQzFELFFBQUksQ0FBQ0QsRUFBTCxFQUFTO0FBQ1AsWUFBTSxJQUFJRSxLQUFKLENBQVUsd0JBQVYsQ0FBTjtBQUNEOztBQUNELFFBQUksQ0FBQ0QsT0FBTyxDQUFDRSxJQUFiLEVBQW1CO0FBQ2pCLFlBQU0sSUFBSUQsS0FBSixDQUFVLHVCQUFWLENBQU47QUFDRDs7QUFDRCxVQUFNRSxRQUFRLEdBQUcsTUFBTVAsVUFBVSxDQUFDUSxRQUFYLENBQW9CO0FBQUVMLE1BQUFBO0FBQUYsS0FBcEIsQ0FBdkI7O0FBRUEsUUFBSSxDQUFDSSxRQUFMLEVBQWU7QUFDYixZQUFNLElBQUlFLFVBQUosQ0FBZSxvQkFBZixDQUFOO0FBQ0Q7O0FBQ0QsVUFBTUMsT0FBTyxHQUFHLHNCQUFZLEVBQUUsR0FBR0gsUUFBTDtBQUFlLFNBQUdILE9BQWxCO0FBQTJCTyxNQUFBQSxVQUFVLEVBQUU7QUFBdkMsS0FBWixDQUFoQjs7QUFDQSxRQUFJRCxPQUFPLENBQUNFLE9BQVIsT0FBc0JMLFFBQVEsQ0FBQ00sSUFBbkMsRUFBeUM7QUFDdkMsYUFBT04sUUFBUDtBQUNEOztBQUNELFVBQU1PLFNBQVMsR0FBRyxNQUFNYixnQkFBZ0IsQ0FBQztBQUFFUyxNQUFBQTtBQUFGLEtBQUQsQ0FBeEM7QUFDQSxVQUFNSyxPQUFPLEdBQUcsTUFBTWYsVUFBVSxDQUFDZ0IsTUFBWCxDQUFrQjtBQUN0Q2IsTUFBQUEsRUFBRSxFQUFFVyxTQUFTLENBQUNHLEtBQVYsRUFEa0M7QUFFdENDLE1BQUFBLFNBQVMsRUFBRUosU0FBUyxDQUFDSyxXQUFWLEVBRjJCO0FBR3RDUixNQUFBQSxVQUFVLEVBQUVHLFNBQVMsQ0FBQ00sYUFBVixFQUgwQjtBQUl0Q2QsTUFBQUEsSUFBSSxFQUFFUSxTQUFTLENBQUNPLE9BQVYsRUFKZ0M7QUFLdENSLE1BQUFBLElBQUksRUFBRUMsU0FBUyxDQUFDRixPQUFWO0FBTGdDLEtBQWxCLENBQXRCO0FBT0EsV0FBTyxFQUFFLEdBQUdMLFFBQUw7QUFBZSxTQUFHUTtBQUFsQixLQUFQO0FBQ0QsR0F6QkQ7QUEwQkQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxWaWN0b3JcXERlc2t0b3BcXFByb3llY3Rvc1xcUHJveWVjdG9zIFNvZmthXFxBcGxpY2FjaW9uRW1wcmVzYXJpYWxcXHNyY1xcdXNlLWNhc2VzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1ha2VDb21tZW50IGZyb20gJy4uL2NvbW1lbnQnXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VFZGl0Q29tbWVudCAoeyBjb21tZW50c0RiLCBoYW5kbGVNb2RlcmF0aW9uIH0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gZWRpdENvbW1lbnQgKHsgaWQsIC4uLmNoYW5nZXMgfSA9IHt9KSB7XHJcbiAgICBpZiAoIWlkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3Qgc3VwcGx5IGFuIGlkLicpXHJcbiAgICB9XHJcbiAgICBpZiAoIWNoYW5nZXMudGV4dCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IHN1cHBseSB0ZXh0LicpXHJcbiAgICB9XHJcbiAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IGNvbW1lbnRzRGIuZmluZEJ5SWQoeyBpZCB9KVxyXG5cclxuICAgIGlmICghZXhpc3RpbmcpIHtcclxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0NvbW1lbnQgbm90IGZvdW5kLicpXHJcbiAgICB9XHJcbiAgICBjb25zdCBjb21tZW50ID0gbWFrZUNvbW1lbnQoeyAuLi5leGlzdGluZywgLi4uY2hhbmdlcywgbW9kaWZpZWRPbjogbnVsbCB9KVxyXG4gICAgaWYgKGNvbW1lbnQuZ2V0SGFzaCgpID09PSBleGlzdGluZy5oYXNoKSB7XHJcbiAgICAgIHJldHVybiBleGlzdGluZ1xyXG4gICAgfVxyXG4gICAgY29uc3QgbW9kZXJhdGVkID0gYXdhaXQgaGFuZGxlTW9kZXJhdGlvbih7IGNvbW1lbnQgfSlcclxuICAgIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBjb21tZW50c0RiLnVwZGF0ZSh7XHJcbiAgICAgIGlkOiBtb2RlcmF0ZWQuZ2V0SWQoKSxcclxuICAgICAgcHVibGlzaGVkOiBtb2RlcmF0ZWQuaXNQdWJsaXNoZWQoKSxcclxuICAgICAgbW9kaWZpZWRPbjogbW9kZXJhdGVkLmdldE1vZGlmaWVkT24oKSxcclxuICAgICAgdGV4dDogbW9kZXJhdGVkLmdldFRleHQoKSxcclxuICAgICAgaGFzaDogbW9kZXJhdGVkLmdldEhhc2goKVxyXG4gICAgfSlcclxuICAgIHJldHVybiB7IC4uLmV4aXN0aW5nLCAuLi51cGRhdGVkIH1cclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "edit-comment.js"
      ],
      "names": [
        "makeEditComment",
        "commentsDb",
        "handleModeration",
        "editComment",
        "id",
        "changes",
        "Error",
        "text",
        "existing",
        "findById",
        "RangeError",
        "comment",
        "modifiedOn",
        "getHash",
        "hash",
        "moderated",
        "updated",
        "update",
        "getId",
        "published",
        "isPublished",
        "getModifiedOn",
        "getText"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACe,SAASA,eAAT,CAA0B;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAA1B,EAA4D;AACzE,SAAO,eAAeC,WAAf,CAA4B;AAAEC,IAAAA,EAAF;AAAM,OAAGC;AAAT,MAAqB,EAAjD,EAAqD;AAC1D,QAAI,CAACD,EAAL,EAAS;AACP,YAAM,IAAIE,KAAJ,CAAU,wBAAV,CAAN;AACD;;AACD,QAAI,CAACD,OAAO,CAACE,IAAb,EAAmB;AACjB,YAAM,IAAID,KAAJ,CAAU,uBAAV,CAAN;AACD;;AACD,UAAME,QAAQ,GAAG,MAAMP,UAAU,CAACQ,QAAX,CAAoB;AAAEL,MAAAA;AAAF,KAApB,CAAvB;;AAEA,QAAI,CAACI,QAAL,EAAe;AACb,YAAM,IAAIE,UAAJ,CAAe,oBAAf,CAAN;AACD;;AACD,UAAMC,OAAO,GAAG,sBAAY,EAAE,GAAGH,QAAL;AAAe,SAAGH,OAAlB;AAA2BO,MAAAA,UAAU,EAAE;AAAvC,KAAZ,CAAhB;;AACA,QAAID,OAAO,CAACE,OAAR,OAAsBL,QAAQ,CAACM,IAAnC,EAAyC;AACvC,aAAON,QAAP;AACD;;AACD,UAAMO,SAAS,GAAG,MAAMb,gBAAgB,CAAC;AAAES,MAAAA;AAAF,KAAD,CAAxC;AACA,UAAMK,OAAO,GAAG,MAAMf,UAAU,CAACgB,MAAX,CAAkB;AACtCb,MAAAA,EAAE,EAAEW,SAAS,CAACG,KAAV,EADkC;AAEtCC,MAAAA,SAAS,EAAEJ,SAAS,CAACK,WAAV,EAF2B;AAGtCR,MAAAA,UAAU,EAAEG,SAAS,CAACM,aAAV,EAH0B;AAItCd,MAAAA,IAAI,EAAEQ,SAAS,CAACO,OAAV,EAJgC;AAKtCR,MAAAA,IAAI,EAAEC,SAAS,CAACF,OAAV;AALgC,KAAlB,CAAtB;AAOA,WAAO,EAAE,GAAGL,QAAL;AAAe,SAAGQ;AAAlB,KAAP;AACD,GAzBD;AA0BD",
      "sourceRoot": "C:\\Users\\Victor\\Desktop\\Proyectos\\Proyectos Sofka\\AplicacionEmpresarial\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\nexport default function makeEditComment ({ commentsDb, handleModeration }) {\r\n  return async function editComment ({ id, ...changes } = {}) {\r\n    if (!id) {\r\n      throw new Error('You must supply an id.')\r\n    }\r\n    if (!changes.text) {\r\n      throw new Error('You must supply text.')\r\n    }\r\n    const existing = await commentsDb.findById({ id })\r\n\r\n    if (!existing) {\r\n      throw new RangeError('Comment not found.')\r\n    }\r\n    const comment = makeComment({ ...existing, ...changes, modifiedOn: null })\r\n    if (comment.getHash() === existing.hash) {\r\n      return existing\r\n    }\r\n    const moderated = await handleModeration({ comment })\r\n    const updated = await commentsDb.update({\r\n      id: moderated.getId(),\r\n      published: moderated.isPublished(),\r\n      modifiedOn: moderated.getModifiedOn(),\r\n      text: moderated.getText(),\r\n      hash: moderated.getHash()\r\n    })\r\n    return { ...existing, ...updated }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625587969710
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _controllers = require(\"./controllers\");\n\nvar _expressCallback = _interopRequireDefault(require(\"./express-callback\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nconst apiRoot = process && process.env && process.env.DM_API_ROOT || undefined || \"\";\nconst app = (0, _express.default)();\napp.use(_bodyParser.default.json()); // TODO: figure out DNT compliance.\n\napp.use((_, res, next) => {\n  res.set({\n    Tk: \"!\"\n  });\n  next();\n});\napp.post(`${apiRoot}/comments`, (0, _expressCallback.default)(_controllers.postComment));\napp.delete(`${apiRoot}/comments/:id`, (0, _expressCallback.default)(_controllers.deleteComment));\napp.delete(`${apiRoot}/comments`, (0, _expressCallback.default)(_controllers.deleteComment));\napp.patch(`${apiRoot}/comments/:id`, (0, _expressCallback.default)(_controllers.patchComment));\napp.patch(`${apiRoot}/comments`, (0, _expressCallback.default)(_controllers.patchComment));\napp.get(`${apiRoot}/comments`, (0, _expressCallback.default)(_controllers.getComments));\napp.use((0, _expressCallback.default)(_controllers.notFound)); // listen for requests\n\napp.listen(3000, () => {\n  console.log(\"Server is listening on port 3000\");\n});\nvar _default = app;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRvdGVudiIsImNvbmZpZyIsImFwaVJvb3QiLCJhcHAiLCJ1c2UiLCJib2R5UGFyc2VyIiwianNvbiIsIl8iLCJyZXMiLCJuZXh0Iiwic2V0IiwiVGsiLCJwb3N0IiwicG9zdENvbW1lbnQiLCJkZWxldGUiLCJkZWxldGVDb21tZW50IiwicGF0Y2giLCJwYXRjaENvbW1lbnQiLCJnZXQiLCJnZXRDb21tZW50cyIsIm5vdEZvdW5kIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQU9BOzs7O0FBRUFBLGdCQUFPQyxNQUFQOztBQUVBLE1BQU1DLE9BQU8sR0FBRyxrRUFBMkIsRUFBM0M7QUFFQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVo7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVFDLG9CQUFXQyxJQUFYLEVBQVIsRSxDQUNBOztBQUNBSCxHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDRyxDQUFELEVBQUlDLEdBQUosRUFBU0MsSUFBVCxLQUFrQjtBQUN4QkQsRUFBQUEsR0FBRyxDQUFDRSxHQUFKLENBQVE7QUFBRUMsSUFBQUEsRUFBRSxFQUFFO0FBQU4sR0FBUjtBQUNBRixFQUFBQSxJQUFJO0FBQ0wsQ0FIRDtBQUlBTixHQUFHLENBQUNTLElBQUosQ0FBVSxHQUFFVixPQUFRLFdBQXBCLEVBQWdDLDhCQUFhVyx3QkFBYixDQUFoQztBQUNBVixHQUFHLENBQUNXLE1BQUosQ0FBWSxHQUFFWixPQUFRLGVBQXRCLEVBQXNDLDhCQUFhYSwwQkFBYixDQUF0QztBQUNBWixHQUFHLENBQUNXLE1BQUosQ0FBWSxHQUFFWixPQUFRLFdBQXRCLEVBQWtDLDhCQUFhYSwwQkFBYixDQUFsQztBQUNBWixHQUFHLENBQUNhLEtBQUosQ0FBVyxHQUFFZCxPQUFRLGVBQXJCLEVBQXFDLDhCQUFhZSx5QkFBYixDQUFyQztBQUNBZCxHQUFHLENBQUNhLEtBQUosQ0FBVyxHQUFFZCxPQUFRLFdBQXJCLEVBQWlDLDhCQUFhZSx5QkFBYixDQUFqQztBQUNBZCxHQUFHLENBQUNlLEdBQUosQ0FBUyxHQUFFaEIsT0FBUSxXQUFuQixFQUErQiw4QkFBYWlCLHdCQUFiLENBQS9CO0FBQ0FoQixHQUFHLENBQUNDLEdBQUosQ0FBUSw4QkFBYWdCLHFCQUFiLENBQVIsRSxDQUVBOztBQUNBakIsR0FBRyxDQUFDa0IsTUFBSixDQUFXLElBQVgsRUFBaUIsTUFBTTtBQUNyQkMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksa0NBQVo7QUFDRCxDQUZEO2VBSWVwQixHIiwic291cmNlUm9vdCI6IkQ6XFxTb2ZrYVVcXDYuTm9kZUpzXFw0LmFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyYyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XHJcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gXCJib2R5LXBhcnNlclwiO1xyXG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIjtcclxuaW1wb3J0IHtcclxuICBkZWxldGVDb21tZW50LFxyXG4gIGdldENvbW1lbnRzLFxyXG4gIG5vdEZvdW5kLFxyXG4gIHBvc3RDb21tZW50LFxyXG4gIHBhdGNoQ29tbWVudCxcclxufSBmcm9tIFwiLi9jb250cm9sbGVyc1wiO1xyXG5pbXBvcnQgbWFrZUNhbGxiYWNrIGZyb20gXCIuL2V4cHJlc3MtY2FsbGJhY2tcIjtcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuXHJcbmNvbnN0IGFwaVJvb3QgPSBwcm9jZXNzLmVudi5ETV9BUElfUk9PVCB8fCBcIlwiO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcclxuLy8gVE9ETzogZmlndXJlIG91dCBETlQgY29tcGxpYW5jZS5cclxuYXBwLnVzZSgoXywgcmVzLCBuZXh0KSA9PiB7XHJcbiAgcmVzLnNldCh7IFRrOiBcIiFcIiB9KTtcclxuICBuZXh0KCk7XHJcbn0pO1xyXG5hcHAucG9zdChgJHthcGlSb290fS9jb21tZW50c2AsIG1ha2VDYWxsYmFjayhwb3N0Q29tbWVudCkpO1xyXG5hcHAuZGVsZXRlKGAke2FwaVJvb3R9L2NvbW1lbnRzLzppZGAsIG1ha2VDYWxsYmFjayhkZWxldGVDb21tZW50KSk7XHJcbmFwcC5kZWxldGUoYCR7YXBpUm9vdH0vY29tbWVudHNgLCBtYWtlQ2FsbGJhY2soZGVsZXRlQ29tbWVudCkpO1xyXG5hcHAucGF0Y2goYCR7YXBpUm9vdH0vY29tbWVudHMvOmlkYCwgbWFrZUNhbGxiYWNrKHBhdGNoQ29tbWVudCkpO1xyXG5hcHAucGF0Y2goYCR7YXBpUm9vdH0vY29tbWVudHNgLCBtYWtlQ2FsbGJhY2socGF0Y2hDb21tZW50KSk7XHJcbmFwcC5nZXQoYCR7YXBpUm9vdH0vY29tbWVudHNgLCBtYWtlQ2FsbGJhY2soZ2V0Q29tbWVudHMpKTtcclxuYXBwLnVzZShtYWtlQ2FsbGJhY2sobm90Rm91bmQpKTtcclxuXHJcbi8vIGxpc3RlbiBmb3IgcmVxdWVzdHNcclxuYXBwLmxpc3RlbigzMDAwLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJTZXJ2ZXIgaXMgbGlzdGVuaW5nIG9uIHBvcnQgMzAwMFwiKTtcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhcHA7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "dotenv",
        "config",
        "apiRoot",
        "app",
        "use",
        "bodyParser",
        "json",
        "_",
        "res",
        "next",
        "set",
        "Tk",
        "post",
        "postComment",
        "delete",
        "deleteComment",
        "patch",
        "patchComment",
        "get",
        "getComments",
        "notFound",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AAOA;;;;AAEAA,gBAAOC,MAAP;;AAEA,MAAMC,OAAO,GAAG,kEAA2B,EAA3C;AAEA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR,E,CACA;;AACAH,GAAG,CAACC,GAAJ,CAAQ,CAACG,CAAD,EAAIC,GAAJ,EAASC,IAAT,KAAkB;AACxBD,EAAAA,GAAG,CAACE,GAAJ,CAAQ;AAAEC,IAAAA,EAAE,EAAE;AAAN,GAAR;AACAF,EAAAA,IAAI;AACL,CAHD;AAIAN,GAAG,CAACS,IAAJ,CAAU,GAAEV,OAAQ,WAApB,EAAgC,8BAAaW,wBAAb,CAAhC;AACAV,GAAG,CAACW,MAAJ,CAAY,GAAEZ,OAAQ,eAAtB,EAAsC,8BAAaa,0BAAb,CAAtC;AACAZ,GAAG,CAACW,MAAJ,CAAY,GAAEZ,OAAQ,WAAtB,EAAkC,8BAAaa,0BAAb,CAAlC;AACAZ,GAAG,CAACa,KAAJ,CAAW,GAAEd,OAAQ,eAArB,EAAqC,8BAAae,yBAAb,CAArC;AACAd,GAAG,CAACa,KAAJ,CAAW,GAAEd,OAAQ,WAArB,EAAiC,8BAAae,yBAAb,CAAjC;AACAd,GAAG,CAACe,GAAJ,CAAS,GAAEhB,OAAQ,WAAnB,EAA+B,8BAAaiB,wBAAb,CAA/B;AACAhB,GAAG,CAACC,GAAJ,CAAQ,8BAAagB,qBAAb,CAAR,E,CAEA;;AACAjB,GAAG,CAACkB,MAAJ,CAAW,IAAX,EAAiB,MAAM;AACrBC,EAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACD,CAFD;eAIepB,G",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src",
      "sourcesContent": [
        "import express from \"express\";\r\nimport bodyParser from \"body-parser\";\r\nimport dotenv from \"dotenv\";\r\nimport {\r\n  deleteComment,\r\n  getComments,\r\n  notFound,\r\n  postComment,\r\n  patchComment,\r\n} from \"./controllers\";\r\nimport makeCallback from \"./express-callback\";\r\n\r\ndotenv.config();\r\n\r\nconst apiRoot = process.env.DM_API_ROOT || \"\";\r\n\r\nconst app = express();\r\napp.use(bodyParser.json());\r\n// TODO: figure out DNT compliance.\r\napp.use((_, res, next) => {\r\n  res.set({ Tk: \"!\" });\r\n  next();\r\n});\r\napp.post(`${apiRoot}/comments`, makeCallback(postComment));\r\napp.delete(`${apiRoot}/comments/:id`, makeCallback(deleteComment));\r\napp.delete(`${apiRoot}/comments`, makeCallback(deleteComment));\r\napp.patch(`${apiRoot}/comments/:id`, makeCallback(patchComment));\r\napp.patch(`${apiRoot}/comments`, makeCallback(patchComment));\r\napp.get(`${apiRoot}/comments`, makeCallback(getComments));\r\napp.use(makeCallback(notFound));\r\n\r\n// listen for requests\r\napp.listen(3000, () => {\r\n  console.log(\"Server is listening on port 3000\");\r\n});\r\n\r\nexport default app;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625525131579
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"notFound\", {\n  enumerable: true,\n  get: function () {\n    return _notFound.default;\n  }\n});\nexports.patchComment = exports.postComment = exports.getComments = exports.deleteComment = exports.default = void 0;\n\nvar _useCases = require(\"../use-cases\");\n\nvar _deleteComment = _interopRequireDefault(require(\"./delete-comment\"));\n\nvar _getComments = _interopRequireDefault(require(\"./get-comments\"));\n\nvar _postComment = _interopRequireDefault(require(\"./post-comment\"));\n\nvar _patchComment = _interopRequireDefault(require(\"./patch-comment\"));\n\nvar _notFound = _interopRequireDefault(require(\"./not-found\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst deleteComment = (0, _deleteComment.default)({\n  removeComment: _useCases.removeComment\n});\nexports.deleteComment = deleteComment;\nconst getComments = (0, _getComments.default)({\n  listComments: _useCases.listComments\n});\nexports.getComments = getComments;\nconst postComment = (0, _postComment.default)({\n  addComment: _useCases.addComment\n});\nexports.postComment = postComment;\nconst patchComment = (0, _patchComment.default)({\n  editComment: _useCases.editComment\n});\nexports.patchComment = patchComment;\nconst commentController = Object.freeze({\n  deleteComment,\n  getComments,\n  notFound: _notFound.default,\n  postComment,\n  patchComment\n});\nvar _default = commentController;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRlbGV0ZUNvbW1lbnQiLCJyZW1vdmVDb21tZW50IiwiZ2V0Q29tbWVudHMiLCJsaXN0Q29tbWVudHMiLCJwb3N0Q29tbWVudCIsImFkZENvbW1lbnQiLCJwYXRjaENvbW1lbnQiLCJlZGl0Q29tbWVudCIsImNvbW1lbnRDb250cm9sbGVyIiwiT2JqZWN0IiwiZnJlZXplIiwibm90Rm91bmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFNQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLGFBQWEsR0FBRyw0QkFBa0I7QUFBRUMsRUFBQUEsYUFBYSxFQUFiQTtBQUFGLENBQWxCLENBQXRCOztBQUNBLE1BQU1DLFdBQVcsR0FBRywwQkFBZ0I7QUFDbENDLEVBQUFBLFlBQVksRUFBWkE7QUFEa0MsQ0FBaEIsQ0FBcEI7O0FBR0EsTUFBTUMsV0FBVyxHQUFHLDBCQUFnQjtBQUFFQyxFQUFBQSxVQUFVLEVBQVZBO0FBQUYsQ0FBaEIsQ0FBcEI7O0FBQ0EsTUFBTUMsWUFBWSxHQUFHLDJCQUFpQjtBQUFFQyxFQUFBQSxXQUFXLEVBQVhBO0FBQUYsQ0FBakIsQ0FBckI7O0FBRUEsTUFBTUMsaUJBQWlCLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjO0FBQ3RDVixFQUFBQSxhQURzQztBQUV0Q0UsRUFBQUEsV0FGc0M7QUFHdENTLEVBQUFBLFFBQVEsRUFBUkEsaUJBSHNDO0FBSXRDUCxFQUFBQSxXQUpzQztBQUt0Q0UsRUFBQUE7QUFMc0MsQ0FBZCxDQUExQjtlQVFlRSxpQiIsInNvdXJjZVJvb3QiOiJEOlxcU29ma2FVXFw2Lk5vZGVKc1xcNC5hcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGNvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBhZGRDb21tZW50LFxyXG4gIGVkaXRDb21tZW50LFxyXG4gIGxpc3RDb21tZW50cyxcclxuICByZW1vdmVDb21tZW50XHJcbn0gZnJvbSAnLi4vdXNlLWNhc2VzJ1xyXG5pbXBvcnQgbWFrZURlbGV0ZUNvbW1lbnQgZnJvbSAnLi9kZWxldGUtY29tbWVudCdcclxuaW1wb3J0IG1ha2VHZXRDb21tZW50cyBmcm9tICcuL2dldC1jb21tZW50cydcclxuaW1wb3J0IG1ha2VQb3N0Q29tbWVudCBmcm9tICcuL3Bvc3QtY29tbWVudCdcclxuaW1wb3J0IG1ha2VQYXRjaENvbW1lbnQgZnJvbSAnLi9wYXRjaC1jb21tZW50J1xyXG5pbXBvcnQgbm90Rm91bmQgZnJvbSAnLi9ub3QtZm91bmQnXHJcblxyXG5jb25zdCBkZWxldGVDb21tZW50ID0gbWFrZURlbGV0ZUNvbW1lbnQoeyByZW1vdmVDb21tZW50IH0pXHJcbmNvbnN0IGdldENvbW1lbnRzID0gbWFrZUdldENvbW1lbnRzKHtcclxuICBsaXN0Q29tbWVudHNcclxufSlcclxuY29uc3QgcG9zdENvbW1lbnQgPSBtYWtlUG9zdENvbW1lbnQoeyBhZGRDb21tZW50IH0pXHJcbmNvbnN0IHBhdGNoQ29tbWVudCA9IG1ha2VQYXRjaENvbW1lbnQoeyBlZGl0Q29tbWVudCB9KVxyXG5cclxuY29uc3QgY29tbWVudENvbnRyb2xsZXIgPSBPYmplY3QuZnJlZXplKHtcclxuICBkZWxldGVDb21tZW50LFxyXG4gIGdldENvbW1lbnRzLFxyXG4gIG5vdEZvdW5kLFxyXG4gIHBvc3RDb21tZW50LFxyXG4gIHBhdGNoQ29tbWVudFxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29tbWVudENvbnRyb2xsZXJcclxuZXhwb3J0IHsgZGVsZXRlQ29tbWVudCwgZ2V0Q29tbWVudHMsIG5vdEZvdW5kLCBwb3N0Q29tbWVudCwgcGF0Y2hDb21tZW50IH1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "deleteComment",
        "removeComment",
        "getComments",
        "listComments",
        "postComment",
        "addComment",
        "patchComment",
        "editComment",
        "commentController",
        "Object",
        "freeze",
        "notFound"
      ],
      "mappings": ";;;;;;;;;;;;;AAAA;;AAMA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,4BAAkB;AAAEC,EAAAA,aAAa,EAAbA;AAAF,CAAlB,CAAtB;;AACA,MAAMC,WAAW,GAAG,0BAAgB;AAClCC,EAAAA,YAAY,EAAZA;AADkC,CAAhB,CAApB;;AAGA,MAAMC,WAAW,GAAG,0BAAgB;AAAEC,EAAAA,UAAU,EAAVA;AAAF,CAAhB,CAApB;;AACA,MAAMC,YAAY,GAAG,2BAAiB;AAAEC,EAAAA,WAAW,EAAXA;AAAF,CAAjB,CAArB;;AAEA,MAAMC,iBAAiB,GAAGC,MAAM,CAACC,MAAP,CAAc;AACtCV,EAAAA,aADsC;AAEtCE,EAAAA,WAFsC;AAGtCS,EAAAA,QAAQ,EAARA,iBAHsC;AAItCP,EAAAA,WAJsC;AAKtCE,EAAAA;AALsC,CAAd,CAA1B;eAQeE,iB",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "import {\r\n  addComment,\r\n  editComment,\r\n  listComments,\r\n  removeComment\r\n} from '../use-cases'\r\nimport makeDeleteComment from './delete-comment'\r\nimport makeGetComments from './get-comments'\r\nimport makePostComment from './post-comment'\r\nimport makePatchComment from './patch-comment'\r\nimport notFound from './not-found'\r\n\r\nconst deleteComment = makeDeleteComment({ removeComment })\r\nconst getComments = makeGetComments({\r\n  listComments\r\n})\r\nconst postComment = makePostComment({ addComment })\r\nconst patchComment = makePatchComment({ editComment })\r\n\r\nconst commentController = Object.freeze({\r\n  deleteComment,\r\n  getComments,\r\n  notFound,\r\n  postComment,\r\n  patchComment\r\n})\r\n\r\nexport default commentController\r\nexport { deleteComment, getComments, notFound, postComment, patchComment }\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625525243893
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeComment = exports.listComments = exports.editComment = exports.addComment = exports.default = void 0;\n\nvar _addComment = _interopRequireDefault(require(\"./add-comment\"));\n\nvar _editComment = _interopRequireDefault(require(\"./edit-comment\"));\n\nvar _removeComment = _interopRequireDefault(require(\"./remove-comment\"));\n\nvar _listComments = _interopRequireDefault(require(\"./list-comments\"));\n\nvar _handleModeration = _interopRequireDefault(require(\"./handle-moderation\"));\n\nvar _dataAccess = _interopRequireDefault(require(\"../data-access\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst handleModeration = (0, _handleModeration.default)({\n  initiateReview: async () => {} // TODO: Make real initiate review function.\n\n});\nconst addComment = (0, _addComment.default)({\n  commentsDb: _dataAccess.default,\n  handleModeration\n});\nexports.addComment = addComment;\nconst editComment = (0, _editComment.default)({\n  commentsDb: _dataAccess.default,\n  handleModeration\n});\nexports.editComment = editComment;\nconst listComments = (0, _listComments.default)({\n  commentsDb: _dataAccess.default\n});\nexports.listComments = listComments;\nconst removeComment = (0, _removeComment.default)({\n  commentsDb: _dataAccess.default\n});\nexports.removeComment = removeComment;\nconst commentService = Object.freeze({\n  addComment,\n  editComment,\n  handleModeration,\n  listComments,\n  removeComment\n});\nvar _default = commentService;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImhhbmRsZU1vZGVyYXRpb24iLCJpbml0aWF0ZVJldmlldyIsImFkZENvbW1lbnQiLCJjb21tZW50c0RiIiwiZWRpdENvbW1lbnQiLCJsaXN0Q29tbWVudHMiLCJyZW1vdmVDb21tZW50IiwiY29tbWVudFNlcnZpY2UiLCJPYmplY3QiLCJmcmVlemUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLGdCQUFnQixHQUFHLCtCQUFxQjtBQUM1Q0MsRUFBQUEsY0FBYyxFQUFFLFlBQVksQ0FBRSxDQURjLENBQ2I7O0FBRGEsQ0FBckIsQ0FBekI7QUFHQSxNQUFNQyxVQUFVLEdBQUcseUJBQWU7QUFBRUMsRUFBQUEsVUFBVSxFQUFWQSxtQkFBRjtBQUFjSCxFQUFBQTtBQUFkLENBQWYsQ0FBbkI7O0FBQ0EsTUFBTUksV0FBVyxHQUFHLDBCQUFnQjtBQUFFRCxFQUFBQSxVQUFVLEVBQVZBLG1CQUFGO0FBQWNILEVBQUFBO0FBQWQsQ0FBaEIsQ0FBcEI7O0FBQ0EsTUFBTUssWUFBWSxHQUFHLDJCQUFpQjtBQUFFRixFQUFBQSxVQUFVLEVBQVZBO0FBQUYsQ0FBakIsQ0FBckI7O0FBQ0EsTUFBTUcsYUFBYSxHQUFHLDRCQUFrQjtBQUFFSCxFQUFBQSxVQUFVLEVBQVZBO0FBQUYsQ0FBbEIsQ0FBdEI7O0FBRUEsTUFBTUksY0FBYyxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUNuQ1AsRUFBQUEsVUFEbUM7QUFFbkNFLEVBQUFBLFdBRm1DO0FBR25DSixFQUFBQSxnQkFIbUM7QUFJbkNLLEVBQUFBLFlBSm1DO0FBS25DQyxFQUFBQTtBQUxtQyxDQUFkLENBQXZCO2VBUWVDLGMiLCJzb3VyY2VSb290IjoiRDpcXFNvZmthVVxcNi5Ob2RlSnNcXDQuYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFx1c2UtY2FzZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFrZUFkZENvbW1lbnQgZnJvbSAnLi9hZGQtY29tbWVudCdcclxuaW1wb3J0IG1ha2VFZGl0Q29tbWVudCBmcm9tICcuL2VkaXQtY29tbWVudCdcclxuaW1wb3J0IG1ha2VSZW1vdmVDb21tZW50IGZyb20gJy4vcmVtb3ZlLWNvbW1lbnQnXHJcbmltcG9ydCBtYWtlTGlzdENvbW1lbnRzIGZyb20gJy4vbGlzdC1jb21tZW50cydcclxuaW1wb3J0IG1ha2VIYW5kbGVNb2RlcmF0aW9uIGZyb20gJy4vaGFuZGxlLW1vZGVyYXRpb24nXHJcbmltcG9ydCBjb21tZW50c0RiIGZyb20gJy4uL2RhdGEtYWNjZXNzJ1xyXG5cclxuY29uc3QgaGFuZGxlTW9kZXJhdGlvbiA9IG1ha2VIYW5kbGVNb2RlcmF0aW9uKHtcclxuICBpbml0aWF0ZVJldmlldzogYXN5bmMgKCkgPT4ge30gLy8gVE9ETzogTWFrZSByZWFsIGluaXRpYXRlIHJldmlldyBmdW5jdGlvbi5cclxufSlcclxuY29uc3QgYWRkQ29tbWVudCA9IG1ha2VBZGRDb21tZW50KHsgY29tbWVudHNEYiwgaGFuZGxlTW9kZXJhdGlvbiB9KVxyXG5jb25zdCBlZGl0Q29tbWVudCA9IG1ha2VFZGl0Q29tbWVudCh7IGNvbW1lbnRzRGIsIGhhbmRsZU1vZGVyYXRpb24gfSlcclxuY29uc3QgbGlzdENvbW1lbnRzID0gbWFrZUxpc3RDb21tZW50cyh7IGNvbW1lbnRzRGIgfSlcclxuY29uc3QgcmVtb3ZlQ29tbWVudCA9IG1ha2VSZW1vdmVDb21tZW50KHsgY29tbWVudHNEYiB9KVxyXG5cclxuY29uc3QgY29tbWVudFNlcnZpY2UgPSBPYmplY3QuZnJlZXplKHtcclxuICBhZGRDb21tZW50LFxyXG4gIGVkaXRDb21tZW50LFxyXG4gIGhhbmRsZU1vZGVyYXRpb24sXHJcbiAgbGlzdENvbW1lbnRzLFxyXG4gIHJlbW92ZUNvbW1lbnRcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbW1lbnRTZXJ2aWNlXHJcbmV4cG9ydCB7IGFkZENvbW1lbnQsIGVkaXRDb21tZW50LCBsaXN0Q29tbWVudHMsIHJlbW92ZUNvbW1lbnQgfVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "handleModeration",
        "initiateReview",
        "addComment",
        "commentsDb",
        "editComment",
        "listComments",
        "removeComment",
        "commentService",
        "Object",
        "freeze"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,gBAAgB,GAAG,+BAAqB;AAC5CC,EAAAA,cAAc,EAAE,YAAY,CAAE,CADc,CACb;;AADa,CAArB,CAAzB;AAGA,MAAMC,UAAU,GAAG,yBAAe;AAAEC,EAAAA,UAAU,EAAVA,mBAAF;AAAcH,EAAAA;AAAd,CAAf,CAAnB;;AACA,MAAMI,WAAW,GAAG,0BAAgB;AAAED,EAAAA,UAAU,EAAVA,mBAAF;AAAcH,EAAAA;AAAd,CAAhB,CAApB;;AACA,MAAMK,YAAY,GAAG,2BAAiB;AAAEF,EAAAA,UAAU,EAAVA;AAAF,CAAjB,CAArB;;AACA,MAAMG,aAAa,GAAG,4BAAkB;AAAEH,EAAAA,UAAU,EAAVA;AAAF,CAAlB,CAAtB;;AAEA,MAAMI,cAAc,GAAGC,MAAM,CAACC,MAAP,CAAc;AACnCP,EAAAA,UADmC;AAEnCE,EAAAA,WAFmC;AAGnCJ,EAAAA,gBAHmC;AAInCK,EAAAA,YAJmC;AAKnCC,EAAAA;AALmC,CAAd,CAAvB;eAQeC,c",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "import makeAddComment from './add-comment'\r\nimport makeEditComment from './edit-comment'\r\nimport makeRemoveComment from './remove-comment'\r\nimport makeListComments from './list-comments'\r\nimport makeHandleModeration from './handle-moderation'\r\nimport commentsDb from '../data-access'\r\n\r\nconst handleModeration = makeHandleModeration({\r\n  initiateReview: async () => {} // TODO: Make real initiate review function.\r\n})\r\nconst addComment = makeAddComment({ commentsDb, handleModeration })\r\nconst editComment = makeEditComment({ commentsDb, handleModeration })\r\nconst listComments = makeListComments({ commentsDb })\r\nconst removeComment = makeRemoveComment({ commentsDb })\r\n\r\nconst commentService = Object.freeze({\r\n  addComment,\r\n  editComment,\r\n  handleModeration,\r\n  listComments,\r\n  removeComment\r\n})\r\n\r\nexport default commentService\r\nexport { addComment, editComment, listComments, removeComment }\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\add-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\add-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\add-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\add-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "add-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeAddComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeAddComment({\n  commentsDb,\n  handleModeration\n}) {\n  return async function addComment(commentInfo) {\n    const comment = (0, _comment.default)(commentInfo);\n    const exists = await commentsDb.findByHash({\n      hash: comment.getHash()\n    });\n\n    if (exists) {\n      return exists;\n    }\n\n    const moderated = await handleModeration({\n      comment\n    });\n    const commentSource = moderated.getSource();\n    return commentsDb.insert({\n      author: moderated.getAuthor(),\n      createdOn: moderated.getCreatedOn(),\n      hash: moderated.getHash(),\n      id: moderated.getId(),\n      modifiedOn: moderated.getModifiedOn(),\n      postId: moderated.getPostId(),\n      published: moderated.isPublished(),\n      replyToId: moderated.getReplyToId(),\n      source: {\n        ip: commentSource.getIp(),\n        browser: commentSource.getBrowser(),\n        referrer: commentSource.getReferrer()\n      },\n      text: moderated.getText()\n    });\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1jb21tZW50LmpzIl0sIm5hbWVzIjpbIm1ha2VBZGRDb21tZW50IiwiY29tbWVudHNEYiIsImhhbmRsZU1vZGVyYXRpb24iLCJhZGRDb21tZW50IiwiY29tbWVudEluZm8iLCJjb21tZW50IiwiZXhpc3RzIiwiZmluZEJ5SGFzaCIsImhhc2giLCJnZXRIYXNoIiwibW9kZXJhdGVkIiwiY29tbWVudFNvdXJjZSIsImdldFNvdXJjZSIsImluc2VydCIsImF1dGhvciIsImdldEF1dGhvciIsImNyZWF0ZWRPbiIsImdldENyZWF0ZWRPbiIsImlkIiwiZ2V0SWQiLCJtb2RpZmllZE9uIiwiZ2V0TW9kaWZpZWRPbiIsInBvc3RJZCIsImdldFBvc3RJZCIsInB1Ymxpc2hlZCIsImlzUHVibGlzaGVkIiwicmVwbHlUb0lkIiwiZ2V0UmVwbHlUb0lkIiwic291cmNlIiwiaXAiLCJnZXRJcCIsImJyb3dzZXIiLCJnZXRCcm93c2VyIiwicmVmZXJyZXIiLCJnZXRSZWZlcnJlciIsInRleHQiLCJnZXRUZXh0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFDZSxTQUFTQSxjQUFULENBQXlCO0FBQUVDLEVBQUFBLFVBQUY7QUFBY0MsRUFBQUE7QUFBZCxDQUF6QixFQUEyRDtBQUN4RSxTQUFPLGVBQWVDLFVBQWYsQ0FBMkJDLFdBQTNCLEVBQXdDO0FBQzdDLFVBQU1DLE9BQU8sR0FBRyxzQkFBWUQsV0FBWixDQUFoQjtBQUNBLFVBQU1FLE1BQU0sR0FBRyxNQUFNTCxVQUFVLENBQUNNLFVBQVgsQ0FBc0I7QUFBRUMsTUFBQUEsSUFBSSxFQUFFSCxPQUFPLENBQUNJLE9BQVI7QUFBUixLQUF0QixDQUFyQjs7QUFDQSxRQUFJSCxNQUFKLEVBQVk7QUFDVixhQUFPQSxNQUFQO0FBQ0Q7O0FBRUQsVUFBTUksU0FBUyxHQUFHLE1BQU1SLGdCQUFnQixDQUFDO0FBQUVHLE1BQUFBO0FBQUYsS0FBRCxDQUF4QztBQUNBLFVBQU1NLGFBQWEsR0FBR0QsU0FBUyxDQUFDRSxTQUFWLEVBQXRCO0FBQ0EsV0FBT1gsVUFBVSxDQUFDWSxNQUFYLENBQWtCO0FBQ3ZCQyxNQUFBQSxNQUFNLEVBQUVKLFNBQVMsQ0FBQ0ssU0FBVixFQURlO0FBRXZCQyxNQUFBQSxTQUFTLEVBQUVOLFNBQVMsQ0FBQ08sWUFBVixFQUZZO0FBR3ZCVCxNQUFBQSxJQUFJLEVBQUVFLFNBQVMsQ0FBQ0QsT0FBVixFQUhpQjtBQUl2QlMsTUFBQUEsRUFBRSxFQUFFUixTQUFTLENBQUNTLEtBQVYsRUFKbUI7QUFLdkJDLE1BQUFBLFVBQVUsRUFBRVYsU0FBUyxDQUFDVyxhQUFWLEVBTFc7QUFNdkJDLE1BQUFBLE1BQU0sRUFBRVosU0FBUyxDQUFDYSxTQUFWLEVBTmU7QUFPdkJDLE1BQUFBLFNBQVMsRUFBRWQsU0FBUyxDQUFDZSxXQUFWLEVBUFk7QUFRdkJDLE1BQUFBLFNBQVMsRUFBRWhCLFNBQVMsQ0FBQ2lCLFlBQVYsRUFSWTtBQVN2QkMsTUFBQUEsTUFBTSxFQUFFO0FBQ05DLFFBQUFBLEVBQUUsRUFBRWxCLGFBQWEsQ0FBQ21CLEtBQWQsRUFERTtBQUVOQyxRQUFBQSxPQUFPLEVBQUVwQixhQUFhLENBQUNxQixVQUFkLEVBRkg7QUFHTkMsUUFBQUEsUUFBUSxFQUFFdEIsYUFBYSxDQUFDdUIsV0FBZDtBQUhKLE9BVGU7QUFjdkJDLE1BQUFBLElBQUksRUFBRXpCLFNBQVMsQ0FBQzBCLE9BQVY7QUFkaUIsS0FBbEIsQ0FBUDtBQWdCRCxHQXpCRDtBQTBCRCIsInNvdXJjZVJvb3QiOiJEOlxcU29ma2FVXFw2Lk5vZGVKc1xcNC5hcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXHVzZS1jYXNlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtYWtlQ29tbWVudCBmcm9tICcuLi9jb21tZW50J1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlQWRkQ29tbWVudCAoeyBjb21tZW50c0RiLCBoYW5kbGVNb2RlcmF0aW9uIH0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gYWRkQ29tbWVudCAoY29tbWVudEluZm8pIHtcclxuICAgIGNvbnN0IGNvbW1lbnQgPSBtYWtlQ29tbWVudChjb21tZW50SW5mbylcclxuICAgIGNvbnN0IGV4aXN0cyA9IGF3YWl0IGNvbW1lbnRzRGIuZmluZEJ5SGFzaCh7IGhhc2g6IGNvbW1lbnQuZ2V0SGFzaCgpIH0pXHJcbiAgICBpZiAoZXhpc3RzKSB7XHJcbiAgICAgIHJldHVybiBleGlzdHNcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBtb2RlcmF0ZWQgPSBhd2FpdCBoYW5kbGVNb2RlcmF0aW9uKHsgY29tbWVudCB9KVxyXG4gICAgY29uc3QgY29tbWVudFNvdXJjZSA9IG1vZGVyYXRlZC5nZXRTb3VyY2UoKVxyXG4gICAgcmV0dXJuIGNvbW1lbnRzRGIuaW5zZXJ0KHtcclxuICAgICAgYXV0aG9yOiBtb2RlcmF0ZWQuZ2V0QXV0aG9yKCksXHJcbiAgICAgIGNyZWF0ZWRPbjogbW9kZXJhdGVkLmdldENyZWF0ZWRPbigpLFxyXG4gICAgICBoYXNoOiBtb2RlcmF0ZWQuZ2V0SGFzaCgpLFxyXG4gICAgICBpZDogbW9kZXJhdGVkLmdldElkKCksXHJcbiAgICAgIG1vZGlmaWVkT246IG1vZGVyYXRlZC5nZXRNb2RpZmllZE9uKCksXHJcbiAgICAgIHBvc3RJZDogbW9kZXJhdGVkLmdldFBvc3RJZCgpLFxyXG4gICAgICBwdWJsaXNoZWQ6IG1vZGVyYXRlZC5pc1B1Ymxpc2hlZCgpLFxyXG4gICAgICByZXBseVRvSWQ6IG1vZGVyYXRlZC5nZXRSZXBseVRvSWQoKSxcclxuICAgICAgc291cmNlOiB7XHJcbiAgICAgICAgaXA6IGNvbW1lbnRTb3VyY2UuZ2V0SXAoKSxcclxuICAgICAgICBicm93c2VyOiBjb21tZW50U291cmNlLmdldEJyb3dzZXIoKSxcclxuICAgICAgICByZWZlcnJlcjogY29tbWVudFNvdXJjZS5nZXRSZWZlcnJlcigpXHJcbiAgICAgIH0sXHJcbiAgICAgIHRleHQ6IG1vZGVyYXRlZC5nZXRUZXh0KClcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "add-comment.js"
      ],
      "names": [
        "makeAddComment",
        "commentsDb",
        "handleModeration",
        "addComment",
        "commentInfo",
        "comment",
        "exists",
        "findByHash",
        "hash",
        "getHash",
        "moderated",
        "commentSource",
        "getSource",
        "insert",
        "author",
        "getAuthor",
        "createdOn",
        "getCreatedOn",
        "id",
        "getId",
        "modifiedOn",
        "getModifiedOn",
        "postId",
        "getPostId",
        "published",
        "isPublished",
        "replyToId",
        "getReplyToId",
        "source",
        "ip",
        "getIp",
        "browser",
        "getBrowser",
        "referrer",
        "getReferrer",
        "text",
        "getText"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACe,SAASA,cAAT,CAAyB;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAAzB,EAA2D;AACxE,SAAO,eAAeC,UAAf,CAA2BC,WAA3B,EAAwC;AAC7C,UAAMC,OAAO,GAAG,sBAAYD,WAAZ,CAAhB;AACA,UAAME,MAAM,GAAG,MAAML,UAAU,CAACM,UAAX,CAAsB;AAAEC,MAAAA,IAAI,EAAEH,OAAO,CAACI,OAAR;AAAR,KAAtB,CAArB;;AACA,QAAIH,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;;AAED,UAAMI,SAAS,GAAG,MAAMR,gBAAgB,CAAC;AAAEG,MAAAA;AAAF,KAAD,CAAxC;AACA,UAAMM,aAAa,GAAGD,SAAS,CAACE,SAAV,EAAtB;AACA,WAAOX,UAAU,CAACY,MAAX,CAAkB;AACvBC,MAAAA,MAAM,EAAEJ,SAAS,CAACK,SAAV,EADe;AAEvBC,MAAAA,SAAS,EAAEN,SAAS,CAACO,YAAV,EAFY;AAGvBT,MAAAA,IAAI,EAAEE,SAAS,CAACD,OAAV,EAHiB;AAIvBS,MAAAA,EAAE,EAAER,SAAS,CAACS,KAAV,EAJmB;AAKvBC,MAAAA,UAAU,EAAEV,SAAS,CAACW,aAAV,EALW;AAMvBC,MAAAA,MAAM,EAAEZ,SAAS,CAACa,SAAV,EANe;AAOvBC,MAAAA,SAAS,EAAEd,SAAS,CAACe,WAAV,EAPY;AAQvBC,MAAAA,SAAS,EAAEhB,SAAS,CAACiB,YAAV,EARY;AASvBC,MAAAA,MAAM,EAAE;AACNC,QAAAA,EAAE,EAAElB,aAAa,CAACmB,KAAd,EADE;AAENC,QAAAA,OAAO,EAAEpB,aAAa,CAACqB,UAAd,EAFH;AAGNC,QAAAA,QAAQ,EAAEtB,aAAa,CAACuB,WAAd;AAHJ,OATe;AAcvBC,MAAAA,IAAI,EAAEzB,SAAS,CAAC0B,OAAV;AAdiB,KAAlB,CAAP;AAgBD,GAzBD;AA0BD",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\nexport default function makeAddComment ({ commentsDb, handleModeration }) {\r\n  return async function addComment (commentInfo) {\r\n    const comment = makeComment(commentInfo)\r\n    const exists = await commentsDb.findByHash({ hash: comment.getHash() })\r\n    if (exists) {\r\n      return exists\r\n    }\r\n\r\n    const moderated = await handleModeration({ comment })\r\n    const commentSource = moderated.getSource()\r\n    return commentsDb.insert({\r\n      author: moderated.getAuthor(),\r\n      createdOn: moderated.getCreatedOn(),\r\n      hash: moderated.getHash(),\r\n      id: moderated.getId(),\r\n      modifiedOn: moderated.getModifiedOn(),\r\n      postId: moderated.getPostId(),\r\n      published: moderated.isPublished(),\r\n      replyToId: moderated.getReplyToId(),\r\n      source: {\r\n        ip: commentSource.getIp(),\r\n        browser: commentSource.getBrowser(),\r\n        referrer: commentSource.getReferrer()\r\n      },\r\n      text: moderated.getText()\r\n    })\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nvar _Id = _interopRequireDefault(require(\"../Id\"));\n\nvar _ipRegex = _interopRequireDefault(require(\"ip-regex\"));\n\nvar _sanitizeHtml = _interopRequireDefault(require(\"sanitize-html\"));\n\nvar _comment = _interopRequireDefault(require(\"./comment\"));\n\nvar _source = _interopRequireDefault(require(\"./source\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst makeSource = (0, _source.default)({\n  isValidIp\n});\nconst makeComment = (0, _comment.default)({\n  Id: _Id.default,\n  md5,\n  sanitize,\n  makeSource\n});\nvar _default = makeComment;\nexports.default = _default;\n\nfunction isValidIp(ip) {\n  return (0, _ipRegex.default)({\n    exact: true\n  }).test(ip);\n}\n\nfunction md5(text) {\n  return _crypto.default.createHash('md5').update(text, 'utf-8').digest('hex');\n}\n\nfunction sanitize(text) {\n  // TODO: allow more coding embeds\n  return (0, _sanitizeHtml.default)(text, {\n    allowedIframeHostnames: ['codesandbox.io', 'repl.it']\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1ha2VTb3VyY2UiLCJpc1ZhbGlkSXAiLCJtYWtlQ29tbWVudCIsIklkIiwibWQ1Iiwic2FuaXRpemUiLCJpcCIsImV4YWN0IiwidGVzdCIsInRleHQiLCJjcnlwdG8iLCJjcmVhdGVIYXNoIiwidXBkYXRlIiwiZGlnZXN0IiwiYWxsb3dlZElmcmFtZUhvc3RuYW1lcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLHFCQUFnQjtBQUFFQyxFQUFBQTtBQUFGLENBQWhCLENBQW5CO0FBQ0EsTUFBTUMsV0FBVyxHQUFHLHNCQUFpQjtBQUFFQyxFQUFBQSxFQUFFLEVBQUZBLFdBQUY7QUFBTUMsRUFBQUEsR0FBTjtBQUFXQyxFQUFBQSxRQUFYO0FBQXFCTCxFQUFBQTtBQUFyQixDQUFqQixDQUFwQjtlQUVlRSxXOzs7QUFFZixTQUFTRCxTQUFULENBQW9CSyxFQUFwQixFQUF3QjtBQUN0QixTQUFPLHNCQUFRO0FBQUVDLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQVIsRUFBeUJDLElBQXpCLENBQThCRixFQUE5QixDQUFQO0FBQ0Q7O0FBRUQsU0FBU0YsR0FBVCxDQUFjSyxJQUFkLEVBQW9CO0FBQ2xCLFNBQU9DLGdCQUNKQyxVQURJLENBQ08sS0FEUCxFQUVKQyxNQUZJLENBRUdILElBRkgsRUFFUyxPQUZULEVBR0pJLE1BSEksQ0FHRyxLQUhILENBQVA7QUFJRDs7QUFFRCxTQUFTUixRQUFULENBQW1CSSxJQUFuQixFQUF5QjtBQUN2QjtBQUNBLFNBQU8sMkJBQWFBLElBQWIsRUFBbUI7QUFDeEJLLElBQUFBLHNCQUFzQixFQUFFLENBQUMsZ0JBQUQsRUFBbUIsU0FBbkI7QUFEQSxHQUFuQixDQUFQO0FBR0QiLCJzb3VyY2VSb290IjoiRDpcXFNvZmthVVxcNi5Ob2RlSnNcXDQuYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFxjb21tZW50Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nXHJcbmltcG9ydCBJZCBmcm9tICcuLi9JZCdcclxuaW1wb3J0IGlwUmVnZXggZnJvbSAnaXAtcmVnZXgnXHJcbmltcG9ydCBzYW5pdGl6ZUh0bWwgZnJvbSAnc2FuaXRpemUtaHRtbCdcclxuaW1wb3J0IGJ1aWxkTWFrZUNvbW1lbnQgZnJvbSAnLi9jb21tZW50J1xyXG5pbXBvcnQgYnVpbGRNYWtlU291cmNlIGZyb20gJy4vc291cmNlJ1xyXG5cclxuY29uc3QgbWFrZVNvdXJjZSA9IGJ1aWxkTWFrZVNvdXJjZSh7IGlzVmFsaWRJcCB9KVxyXG5jb25zdCBtYWtlQ29tbWVudCA9IGJ1aWxkTWFrZUNvbW1lbnQoeyBJZCwgbWQ1LCBzYW5pdGl6ZSwgbWFrZVNvdXJjZSB9KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbWFrZUNvbW1lbnRcclxuXHJcbmZ1bmN0aW9uIGlzVmFsaWRJcCAoaXApIHtcclxuICByZXR1cm4gaXBSZWdleCh7IGV4YWN0OiB0cnVlIH0pLnRlc3QoaXApXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1kNSAodGV4dCkge1xyXG4gIHJldHVybiBjcnlwdG9cclxuICAgIC5jcmVhdGVIYXNoKCdtZDUnKVxyXG4gICAgLnVwZGF0ZSh0ZXh0LCAndXRmLTgnKVxyXG4gICAgLmRpZ2VzdCgnaGV4JylcclxufVxyXG5cclxuZnVuY3Rpb24gc2FuaXRpemUgKHRleHQpIHtcclxuICAvLyBUT0RPOiBhbGxvdyBtb3JlIGNvZGluZyBlbWJlZHNcclxuICByZXR1cm4gc2FuaXRpemVIdG1sKHRleHQsIHtcclxuICAgIGFsbG93ZWRJZnJhbWVIb3N0bmFtZXM6IFsnY29kZXNhbmRib3guaW8nLCAncmVwbC5pdCddXHJcbiAgfSlcclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "makeSource",
        "isValidIp",
        "makeComment",
        "Id",
        "md5",
        "sanitize",
        "ip",
        "exact",
        "test",
        "text",
        "crypto",
        "createHash",
        "update",
        "digest",
        "allowedIframeHostnames"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,qBAAgB;AAAEC,EAAAA;AAAF,CAAhB,CAAnB;AACA,MAAMC,WAAW,GAAG,sBAAiB;AAAEC,EAAAA,EAAE,EAAFA,WAAF;AAAMC,EAAAA,GAAN;AAAWC,EAAAA,QAAX;AAAqBL,EAAAA;AAArB,CAAjB,CAApB;eAEeE,W;;;AAEf,SAASD,SAAT,CAAoBK,EAApB,EAAwB;AACtB,SAAO,sBAAQ;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAR,EAAyBC,IAAzB,CAA8BF,EAA9B,CAAP;AACD;;AAED,SAASF,GAAT,CAAcK,IAAd,EAAoB;AAClB,SAAOC,gBACJC,UADI,CACO,KADP,EAEJC,MAFI,CAEGH,IAFH,EAES,OAFT,EAGJI,MAHI,CAGG,KAHH,CAAP;AAID;;AAED,SAASR,QAAT,CAAmBI,IAAnB,EAAyB;AACvB;AACA,SAAO,2BAAaA,IAAb,EAAmB;AACxBK,IAAAA,sBAAsB,EAAE,CAAC,gBAAD,EAAmB,SAAnB;AADA,GAAnB,CAAP;AAGD",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "sourcesContent": [
        "import crypto from 'crypto'\r\nimport Id from '../Id'\r\nimport ipRegex from 'ip-regex'\r\nimport sanitizeHtml from 'sanitize-html'\r\nimport buildMakeComment from './comment'\r\nimport buildMakeSource from './source'\r\n\r\nconst makeSource = buildMakeSource({ isValidIp })\r\nconst makeComment = buildMakeComment({ Id, md5, sanitize, makeSource })\r\n\r\nexport default makeComment\r\n\r\nfunction isValidIp (ip) {\r\n  return ipRegex({ exact: true }).test(ip)\r\n}\r\n\r\nfunction md5 (text) {\r\n  return crypto\r\n    .createHash('md5')\r\n    .update(text, 'utf-8')\r\n    .digest('hex')\r\n}\r\n\r\nfunction sanitize (text) {\r\n  // TODO: allow more coding embeds\r\n  return sanitizeHtml(text, {\r\n    allowedIframeHostnames: ['codesandbox.io', 'repl.it']\r\n  })\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\Id\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\Id\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\Id",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\Id\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\Id\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\Id\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\Id",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _cuid = _interopRequireDefault(require(\"cuid\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Id = Object.freeze({\n  makeId: _cuid.default,\n  isValidId: _cuid.default.isCuid\n});\nvar _default = Id;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIklkIiwiT2JqZWN0IiwiZnJlZXplIiwibWFrZUlkIiwiY3VpZCIsImlzVmFsaWRJZCIsImlzQ3VpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsRUFBRSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUN2QkMsRUFBQUEsTUFBTSxFQUFFQyxhQURlO0FBRXZCQyxFQUFBQSxTQUFTLEVBQUVELGNBQUtFO0FBRk8sQ0FBZCxDQUFYO2VBS2VOLEUiLCJzb3VyY2VSb290IjoiRDpcXFNvZmthVVxcNi5Ob2RlSnNcXDQuYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFxJZCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjdWlkIGZyb20gJ2N1aWQnXHJcblxyXG5jb25zdCBJZCA9IE9iamVjdC5mcmVlemUoe1xyXG4gIG1ha2VJZDogY3VpZCxcclxuICBpc1ZhbGlkSWQ6IGN1aWQuaXNDdWlkXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBJZFxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "Id",
        "Object",
        "freeze",
        "makeId",
        "cuid",
        "isValidId",
        "isCuid"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,EAAE,GAAGC,MAAM,CAACC,MAAP,CAAc;AACvBC,EAAAA,MAAM,EAAEC,aADe;AAEvBC,EAAAA,SAAS,EAAED,cAAKE;AAFO,CAAd,CAAX;eAKeN,E",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\Id",
      "sourcesContent": [
        "import cuid from 'cuid'\r\n\r\nconst Id = Object.freeze({\r\n  makeId: cuid,\r\n  isValidId: cuid.isCuid\r\n})\r\n\r\nexport default Id\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\\\\comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment\\comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment\\comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment\\comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment",
        "sourceFileName": "comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildMakeComment;\n\nfunction buildMakeComment({\n  Id,\n  md5,\n  sanitize,\n  makeSource\n}) {\n  return function makeComment({\n    author,\n    createdOn = Date.now(),\n    id = Id.makeId(),\n    source,\n    modifiedOn = Date.now(),\n    postId,\n    published = false,\n    replyToId,\n    text\n  } = {}) {\n    if (!Id.isValidId(id)) {\n      throw new Error('El comentario debe tener un id valido.');\n    }\n\n    if (!author) {\n      throw new Error('El comentario debe teneer un autor.');\n    }\n\n    if (author.length < 2) {\n      throw new Error(\"El autor del comentario debe tener una longitud de al menos 2 caracteres.\");\n    }\n\n    if (!postId) {\n      throw new Error('El comentario debe contener un Id de Post.');\n    }\n\n    if (!text || text.length < 1) {\n      throw new Error('El comentario debe incluir al menos un caracter de texto.');\n    }\n\n    if (!source) {\n      throw new Error('El comentario debe tener una fuente.');\n    }\n\n    if (replyToId && !Id.isValidId(replyToId)) {\n      throw new Error('Si se provee, el Comentario debe contener un id de respuesta valido.');\n    }\n\n    let sanitizedText = sanitize(text).trim();\n\n    if (sanitizedText.length < 1) {\n      throw new Error('El comentario contiene texto no usable.');\n    }\n\n    const validSource = makeSource(source);\n    const deletedText = '.xX Este comentario ha sido eliminado Xx.';\n    let hash;\n    return Object.freeze({\n      getAuthor: () => author,\n      getCreatedOn: () => createdOn,\n      getHash: () => hash || (hash = makeHash()),\n      getId: () => id,\n      getModifiedOn: () => modifiedOn,\n      getPostId: () => postId,\n      getReplyToId: () => replyToId,\n      getSource: () => validSource,\n      getText: () => sanitizedText,\n      isDeleted: () => sanitizedText === deletedText,\n      isPublished: () => published,\n      markDeleted: () => {\n        sanitizedText = deletedText;\n        author = 'deleted';\n      },\n      publish: () => {\n        published = true;\n      },\n      unPublish: () => {\n        published = false;\n      }\n    });\n\n    function makeHash() {\n      return md5(sanitizedText + published + (author || '') + (postId || '') + (replyToId || ''));\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnQuanMiXSwibmFtZXMiOlsiYnVpbGRNYWtlQ29tbWVudCIsIklkIiwibWQ1Iiwic2FuaXRpemUiLCJtYWtlU291cmNlIiwibWFrZUNvbW1lbnQiLCJhdXRob3IiLCJjcmVhdGVkT24iLCJEYXRlIiwibm93IiwiaWQiLCJtYWtlSWQiLCJzb3VyY2UiLCJtb2RpZmllZE9uIiwicG9zdElkIiwicHVibGlzaGVkIiwicmVwbHlUb0lkIiwidGV4dCIsImlzVmFsaWRJZCIsIkVycm9yIiwibGVuZ3RoIiwic2FuaXRpemVkVGV4dCIsInRyaW0iLCJ2YWxpZFNvdXJjZSIsImRlbGV0ZWRUZXh0IiwiaGFzaCIsIk9iamVjdCIsImZyZWV6ZSIsImdldEF1dGhvciIsImdldENyZWF0ZWRPbiIsImdldEhhc2giLCJtYWtlSGFzaCIsImdldElkIiwiZ2V0TW9kaWZpZWRPbiIsImdldFBvc3RJZCIsImdldFJlcGx5VG9JZCIsImdldFNvdXJjZSIsImdldFRleHQiLCJpc0RlbGV0ZWQiLCJpc1B1Ymxpc2hlZCIsIm1hcmtEZWxldGVkIiwicHVibGlzaCIsInVuUHVibGlzaCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGdCQUFULENBQTJCO0FBQUVDLEVBQUFBLEVBQUY7QUFBTUMsRUFBQUEsR0FBTjtBQUFXQyxFQUFBQSxRQUFYO0FBQXFCQyxFQUFBQTtBQUFyQixDQUEzQixFQUE4RDtBQUMzRSxTQUFPLFNBQVNDLFdBQVQsQ0FBc0I7QUFDM0JDLElBQUFBLE1BRDJCO0FBRTNCQyxJQUFBQSxTQUFTLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxFQUZlO0FBRzNCQyxJQUFBQSxFQUFFLEdBQUdULEVBQUUsQ0FBQ1UsTUFBSCxFQUhzQjtBQUkzQkMsSUFBQUEsTUFKMkI7QUFLM0JDLElBQUFBLFVBQVUsR0FBR0wsSUFBSSxDQUFDQyxHQUFMLEVBTGM7QUFNM0JLLElBQUFBLE1BTjJCO0FBTzNCQyxJQUFBQSxTQUFTLEdBQUcsS0FQZTtBQVEzQkMsSUFBQUEs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b2RlSnNcXDQuYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFxjb21tZW50Iiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYnVpbGRNYWtlQ29tbWVudCAoeyBJZCwgbWQ1LCBzYW5pdGl6ZSwgbWFrZVNvdXJjZSB9KSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uIG1ha2VDb21tZW50ICh7XHJcbiAgICBhdXRob3IsXHJcbiAgICBjcmVhdGVkT24gPSBEYXRlLm5vdygpLFxyXG4gICAgaWQgPSBJZC5tYWtlSWQoKSxcclxuICAgIHNvdXJjZSxcclxuICAgIG1vZGlmaWVkT24gPSBEYXRlLm5vdygpLFxyXG4gICAgcG9zdElkLFxyXG4gICAgcHVibGlzaGVkID0gZmFsc2UsXHJcbiAgICByZXBseVRvSWQsXHJcbiAgICB0ZXh0XHJcbiAgfSA9IHt9KSB7XHJcbiAgICBpZiAoIUlkLmlzVmFsaWRJZChpZCkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbCBjb21lbnRhcmlvIGRlYmUgdGVuZXIgdW4gaWQgdmFsaWRvLicpXHJcbiAgICB9XHJcbiAgICBpZiAoIWF1dGhvcikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIGNvbWVudGFyaW8gZGViZSB0ZW5lZXIgdW4gYXV0b3IuJylcclxuICAgIH1cclxuICAgIGlmIChhdXRob3IubGVuZ3RoIDwgMikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbCBhdXRvciBkZWwgY29tZW50YXJpbyBkZWJlIHRlbmVyIHVuYSBsb25naXR1ZCBkZSBhbCBtZW5vcyAyIGNhcmFjdGVyZXMuXCIpXHJcbiAgICB9XHJcbiAgICBpZiAoIXBvc3RJZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VsIGNvbWVudGFyaW8gZGViZSBjb250ZW5lciB1biBJZCBkZSBQb3N0LicpXHJcbiAgICB9XHJcbiAgICBpZiAoIXRleHQgfHwgdGV4dC5sZW5ndGggPCAxKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgY29tZW50YXJpbyBkZWJlIGluY2x1aXIgYWwgbWVub3MgdW4gY2FyYWN0ZXIgZGUgdGV4dG8uJylcclxuICAgIH1cclxuICAgIGlmICghc291cmNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgY29tZW50YXJpbyBkZWJlIHRlbmVyIHVuYSBmdWVudGUuJylcclxuICAgIH1cclxuICAgIGlmIChyZXBseVRvSWQgJiYgIUlkLmlzVmFsaWRJZChyZXBseVRvSWQpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignU2kgc2UgcHJvdmVlLCBlbCBDb21lbnRhcmlvIGRlYmUgY29udGVuZXIgdW4gaWQgZGUgcmVzcHVlc3RhIHZhbGlkby4nKVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBzYW5pdGl6ZWRUZXh0ID0gc2FuaXRpemUodGV4dCkudHJpbSgpXHJcbiAgICBpZiAoc2FuaXRpemVkVGV4dC5sZW5ndGggPCAxKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWwgY29tZW50YXJpbyBjb250aWVuZSB0ZXh0byBubyB1c2FibGUuJylcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB2YWxpZFNvdXJjZSA9IG1ha2VTb3VyY2Uoc291cmNlKVxyXG4gICAgY29uc3QgZGVsZXRlZFRleHQgPSAnLnhYIEVzdGUgY29tZW50YXJpbyBoYSBzaWRvIGVsaW1pbmFkbyBYeC4nXHJcbiAgICBsZXQgaGFzaFxyXG5cclxuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcclxuICAgICAgZ2V0QXV0aG9yOiAoKSA9PiBhdXRob3IsXHJcbiAgICAgIGdldENyZWF0ZWRPbjogKCkgPT4gY3JlYXRlZE9uLFxyXG4gICAgICBnZXRIYXNoOiAoKSA9PiBoYXNoIHx8IChoYXNoID0gbWFrZUhhc2goKSksXHJcbiAgICAgIGdldElkOiAoKSA9PiBpZCxcclxuICAgICAgZ2V0TW9kaWZpZWRPbjogKCkgPT4gbW9kaWZpZWRPbixcclxuICAgICAgZ2V0UG9zdElkOiAoKSA9PiBwb3N0SWQsXHJcbiAgICAgIGdldFJlcGx5VG9JZDogKCkgPT4gcmVwbHlUb0lkLFxyXG4gICAgICBnZXRTb3VyY2U6ICgpID0+IHZhbGlkU291cmNlLFxyXG4gICAgICBnZXRUZXh0OiAoKSA9PiBzYW5pdGl6ZWRUZXh0LFxyXG4gICAgICBpc0RlbGV0ZWQ6ICgpID0+IHNhbml0aXplZFRleHQgPT09IGRlbGV0ZWRUZXh0LFxyXG4gICAgICBpc1B1Ymxpc2hlZDogKCkgPT4gcHVibGlzaGVkLFxyXG4gICAgICBtYXJrRGVsZXRlZDogKCkgPT4ge1xyXG4gICAgICAgIHNhbml0aXplZFRleHQgPSBkZWxldGVkVGV4dFxyXG4gICAgICAgIGF1dGhvciA9ICdkZWxldGVkJ1xyXG4gICAgICB9LFxyXG4gICAgICBwdWJsaXNoOiAoKSA9PiB7XHJcbiAgICAgICAgcHVibGlzaGVkID0gdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICB1blB1Ymxpc2g6ICgpID0+IHtcclxuICAgICAgICBwdWJsaXNoZWQgPSBmYWxzZVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGZ1bmN0aW9uIG1ha2VIYXNoICgpIHtcclxuICAgICAgcmV0dXJuIG1kNShcclxuICAgICAgICBzYW5pdGl6ZWRUZXh0ICtcclxuICAgICAgICAgIHB1Ymxpc2hlZCArXHJcbiAgICAgICAgICAoYXV0aG9yIHx8ICcnKSArXHJcbiAgICAgICAgICAocG9zdElkIHx8ICcnKSArXHJcbiAgICAgICAgICAocmVwbHlUb0lkIHx8ICcnKVxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "comment.js"
      ],
      "names": [
        "buildMakeComment",
        "Id",
        "md5",
        "sanitize",
        "makeSource",
        "makeComment",
        "author",
        "createdOn",
        "Date",
        "now",
        "id",
        "makeId",
        "source",
        "modifiedOn",
        "postId",
        "published",
        "replyToId",
        "text",
        "isValidId",
        "Error",
        "length",
        "sanitizedText",
        "trim",
        "validSource",
        "deletedText",
        "hash",
        "Object",
        "freeze",
        "getAuthor",
        "getCreatedOn",
        "getHash",
        "makeHash",
        "getId",
        "getModifiedOn",
        "getPostId",
        "getReplyToId",
        "getSource",
        "getText",
        "isDeleted",
        "isPublished",
        "markDeleted",
        "publish",
        "unPublish"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "sourcesContent": [
        "export default function buildMakeComment ({ Id, md5, sanitize, makeSource }) {\r\n  return function makeComment ({\r\n    author,\r\n    createdOn = Date.now(),\r\n    id = Id.makeId(),\r\n    source,\r\n    modifiedOn = Date.now(),\r\n    postId,\r\n    published = false,\r\n    replyToId,\r\n    text\r\n  } = {}) {\r\n    if (!Id.isValidId(id)) {\r\n      throw new Error('El comentario debe tener un id valido.')\r\n    }\r\n    if (!author) {\r\n      throw new Error('El comentario debe teneer un autor.')\r\n    }\r\n    if (author.length < 2) {\r\n      throw new Error(\"El autor del comentario debe tener una longitud de al menos 2 caracteres.\")\r\n    }\r\n    if (!postId) {\r\n      throw new Error('El comentario debe contener un Id de Post.')\r\n    }\r\n    if (!text || text.length < 1) {\r\n      throw new Error('El comentario debe incluir al menos un caracter de texto.')\r\n    }\r\n    if (!source) {\r\n      throw new Error('El comentario debe tener una fuente.')\r\n    }\r\n    if (replyToId && !Id.isValidId(replyToId)) {\r\n      throw new Error('Si se provee, el Comentario debe contener un id de respuesta valido.')\r\n    }\r\n\r\n    let sanitizedText = sanitize(text).trim()\r\n    if (sanitizedText.length < 1) {\r\n      throw new Error('El comentario contiene texto no usable.')\r\n    }\r\n\r\n    const validSource = makeSource(source)\r\n    const deletedText = '.xX Este comentario ha sido eliminado Xx.'\r\n    let hash\r\n\r\n    return Object.freeze({\r\n      getAuthor: () => author,\r\n      getCreatedOn: () => createdOn,\r\n      getHash: () => hash || (hash = makeHash()),\r\n      getId: () => id,\r\n      getModifiedOn: () => modifiedOn,\r\n      getPostId: () => postId,\r\n      getReplyToId: () => replyToId,\r\n      getSource: () => validSource,\r\n      getText: () => sanitizedText,\r\n      isDeleted: () => sanitizedText === deletedText,\r\n      isPublished: () => published,\r\n      markDeleted: () => {\r\n        sanitizedText = deletedText\r\n        author = 'deleted'\r\n      },\r\n      publish: () => {\r\n        published = true\r\n      },\r\n      unPublish: () => {\r\n        published = false\r\n      }\r\n    })\r\n\r\n    function makeHash () {\r\n      return md5(\r\n        sanitizedText +\r\n          published +\r\n          (author || '') +\r\n          (postId || '') +\r\n          (replyToId || '')\r\n      )\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625527340747
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\\\\source.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment\\source.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment\\source.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment\\source.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment",
        "sourceFileName": "source.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = buildMakeSource;\n\nfunction buildMakeSource({\n  isValidIp\n}) {\n  return function makeSource({\n    ip,\n    browser,\n    referrer\n  } = {}) {\n    if (!ip) {\n      throw new Error('Comment source must contain an IP.');\n    }\n\n    if (!isValidIp(ip)) {\n      throw new RangeError('Comment source must contain a valid IP.');\n    }\n\n    return Object.freeze({\n      getIp: () => ip,\n      getBrowser: () => browser,\n      getReferrer: () => referrer\n    });\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvdXJjZS5qcyJdLCJuYW1lcyI6WyJidWlsZE1ha2VTb3VyY2UiLCJpc1ZhbGlkSXAiLCJtYWtlU291cmNlIiwiaXAiLCJicm93c2VyIiwicmVmZXJyZXIiLCJFcnJvciIsIlJhbmdlRXJyb3IiLCJPYmplY3QiLCJmcmVlemUiLCJnZXRJcCIsImdldEJyb3dzZXIiLCJnZXRSZWZlcnJlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGVBQVQsQ0FBMEI7QUFBRUMsRUFBQUE7QUFBRixDQUExQixFQUF5QztBQUN0RCxTQUFPLFNBQVNDLFVBQVQsQ0FBcUI7QUFBRUMsSUFBQUEsRUFBRjtBQUFNQyxJQUFBQSxPQUFOO0FBQWVDLElBQUFBO0FBQWYsTUFBNEIsRUFBakQsRUFBcUQ7QUFDMUQsUUFBSSxDQUFDRixFQUFMLEVBQVM7QUFDUCxZQUFNLElBQUlHLEtBQUosQ0FBVSxvQ0FBVixDQUFOO0FBQ0Q7O0FBQ0QsUUFBSSxDQUFDTCxTQUFTLENBQUNFLEVBQUQsQ0FBZCxFQUFvQjtBQUNsQixZQUFNLElBQUlJLFVBQUosQ0FBZSx5Q0FBZixDQUFOO0FBQ0Q7O0FBQ0QsV0FBT0MsTUFBTSxDQUFDQyxNQUFQLENBQWM7QUFDbkJDLE1BQUFBLEtBQUssRUFBRSxNQUFNUCxFQURNO0FBRW5CUSxNQUFBQSxVQUFVLEVBQUUsTUFBTVAsT0FGQztBQUduQlEsTUFBQUEsV0FBVyxFQUFFLE1BQU1QO0FBSEEsS0FBZCxDQUFQO0FBS0QsR0FaRDtBQWFEIiwic291cmNlUm9vdCI6IkQ6XFxTb2ZrYVVcXDYuTm9kZUpzXFw0LmFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcY29tbWVudCIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkTWFrZVNvdXJjZSAoeyBpc1ZhbGlkSXAgfSkge1xyXG4gIHJldHVybiBmdW5jdGlvbiBtYWtlU291cmNlICh7IGlwLCBicm93c2VyLCByZWZlcnJlciB9ID0ge30pIHtcclxuICAgIGlmICghaXApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb21tZW50IHNvdXJjZSBtdXN0IGNvbnRhaW4gYW4gSVAuJylcclxuICAgIH1cclxuICAgIGlmICghaXNWYWxpZElwKGlwKSkge1xyXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQ29tbWVudCBzb3VyY2UgbXVzdCBjb250YWluIGEgdmFsaWQgSVAuJylcclxuICAgIH1cclxuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcclxuICAgICAgZ2V0SXA6ICgpID0+IGlwLFxyXG4gICAgICBnZXRCcm93c2VyOiAoKSA9PiBicm93c2VyLFxyXG4gICAgICBnZXRSZWZlcnJlcjogKCkgPT4gcmVmZXJyZXJcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "source.js"
      ],
      "names": [
        "buildMakeSource",
        "isValidIp",
        "makeSource",
        "ip",
        "browser",
        "referrer",
        "Error",
        "RangeError",
        "Object",
        "freeze",
        "getIp",
        "getBrowser",
        "getReferrer"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,eAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAAyC;AACtD,SAAO,SAASC,UAAT,CAAqB;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,OAAN;AAAeC,IAAAA;AAAf,MAA4B,EAAjD,EAAqD;AAC1D,QAAI,CAACF,EAAL,EAAS;AACP,YAAM,IAAIG,KAAJ,CAAU,oCAAV,CAAN;AACD;;AACD,QAAI,CAACL,SAAS,CAACE,EAAD,CAAd,EAAoB;AAClB,YAAM,IAAII,UAAJ,CAAe,yCAAf,CAAN;AACD;;AACD,WAAOC,MAAM,CAACC,MAAP,CAAc;AACnBC,MAAAA,KAAK,EAAE,MAAMP,EADM;AAEnBQ,MAAAA,UAAU,EAAE,MAAMP,OAFC;AAGnBQ,MAAAA,WAAW,EAAE,MAAMP;AAHA,KAAd,CAAP;AAKD,GAZD;AAaD",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "sourcesContent": [
        "export default function buildMakeSource ({ isValidIp }) {\r\n  return function makeSource ({ ip, browser, referrer } = {}) {\r\n    if (!ip) {\r\n      throw new Error('Comment source must contain an IP.')\r\n    }\r\n    if (!isValidIp(ip)) {\r\n      throw new RangeError('Comment source must contain a valid IP.')\r\n    }\r\n    return Object.freeze({\r\n      getIp: () => ip,\r\n      getBrowser: () => browser,\r\n      getReferrer: () => referrer\r\n    })\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\edit-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\edit-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\edit-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\edit-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "edit-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeEditComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeEditComment({\n  commentsDb,\n  handleModeration\n}) {\n  return async function editComment({\n    id,\n    ...changes\n  } = {}) {\n    if (!id) {\n      throw new Error('You must supply an id.');\n    }\n\n    if (!changes.text) {\n      throw new Error('You must supply text.');\n    }\n\n    const existing = await commentsDb.findById({\n      id\n    });\n\n    if (!existing) {\n      throw new RangeError('Comment not found.');\n    }\n\n    const comment = (0, _comment.default)({ ...existing,\n      ...changes,\n      modifiedOn: null\n    });\n\n    if (comment.getHash() === existing.hash) {\n      return existing;\n    }\n\n    const moderated = await handleModeration({\n      comment\n    });\n    const updated = await commentsDb.update({\n      id: moderated.getId(),\n      published: moderated.isPublished(),\n      modifiedOn: moderated.getModifiedOn(),\n      text: moderated.getText(),\n      hash: moderated.getHash()\n    });\n    return { ...existing,\n      ...updated\n    };\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXQtY29tbWVudC5qcyJdLCJuYW1lcyI6WyJtYWtlRWRpdENvbW1lbnQiLCJjb21tZW50c0RiIiwiaGFuZGxlTW9kZXJhdGlvbiIsImVkaXRDb21tZW50IiwiaWQiLCJjaGFuZ2VzIiwiRXJyb3IiLCJ0ZXh0IiwiZXhpc3RpbmciLCJmaW5kQnlJZCIsIlJhbmdlRXJyb3IiLCJjb21tZW50IiwibW9kaWZpZWRPbiIsImdldEhhc2giLCJoYXNoIiwibW9kZXJhdGVkIiwidXBkYXRlZCIsInVwZGF0ZSIsImdldElkIiwicHVibGlzaGVkIiwiaXNQdWJsaXNoZWQiLCJnZXRNb2RpZmllZE9uIiwiZ2V0VGV4dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ2UsU0FBU0EsZUFBVCxDQUEwQjtBQUFFQyxFQUFBQSxVQUFGO0FBQWNDLEVBQUFBO0FBQWQsQ0FBMUIsRUFBNEQ7QUFDekUsU0FBTyxlQUFlQyxXQUFmLENBQTRCO0FBQUVDLElBQUFBLEVBQUY7QUFBTSxPQUFHQztBQUFULE1BQXFCLEVBQWpELEVBQXFEO0FBQzFELFFBQUksQ0FBQ0QsRUFBTCxFQUFTO0FBQ1AsWUFBTSxJQUFJRSxLQUFKLENBQVUsd0JBQVYsQ0FBTjtBQUNEOztBQUNELFFBQUksQ0FBQ0QsT0FBTyxDQUFDRSxJQUFiLEVBQW1CO0FBQ2pCLFlBQU0sSUFBSUQsS0FBSixDQUFVLHVCQUFWLENBQU47QUFDRDs7QUFDRCxVQUFNRSxRQUFRLEdBQUcsTUFBTVAsVUFBVSxDQUFDUSxRQUFYLENBQW9CO0FBQUVMLE1BQUFBO0FBQUYsS0FBcEIsQ0FBdkI7O0FBRUEsUUFBSSxDQUFDSSxRQUFMLEVBQWU7QUFDYixZQUFNLElBQUlFLFVBQUosQ0FBZSxvQkFBZixDQUFOO0FBQ0Q7O0FBQ0QsVUFBTUMsT0FBTyxHQUFHLHNCQUFZLEVBQUUsR0FBR0gsUUFBTDtBQUFlLFNBQUdILE9BQWxCO0FBQTJCTyxNQUFBQSxVQUFVLEVBQUU7QUFBdkMsS0FBWixDQUFoQjs7QUFDQSxRQUFJRCxPQUFPLENBQUNFLE9BQVIsT0FBc0JMLFFBQVEsQ0FBQ00sSUFBbkMsRUFBeUM7QUFDdkMsYUFBT04sUUFBUDtBQUNEOztBQUNELFVBQU1PLFNBQVMsR0FBRyxNQUFNYixnQkFBZ0IsQ0FBQztBQUFFUyxNQUFBQTtBQUFGLEtBQUQsQ0FBeEM7QUFDQSxVQUFNSyxPQUFPLEdBQUcsTUFBTWYsVUFBVSxDQUFDZ0IsTUFBWCxDQUFrQjtBQUN0Q2IsTUFBQUEsRUFBRSxFQUFFVyxTQUFTLENBQUNHLEtBQVYsRUFEa0M7QUFFdENDLE1BQUFBLFNBQVMsRUFBRUosU0FBUyxDQUFDSyxXQUFWLEVBRjJCO0FBR3RDUixNQUFBQSxVQUFVLEVBQUVHLFNBQVMsQ0FBQ00sYUFBVixFQUgwQjtBQUl0Q2QsTUFBQUEsSUFBSSxFQUFFUSxTQUFTLENBQUNPLE9BQVYsRUFKZ0M7QUFLdENSLE1BQUFBLElBQUksRUFBRUMsU0FBUyxDQUFDRixPQUFWO0FBTGdDLEtBQWxCLENBQXRCO0FBT0EsV0FBTyxFQUFFLEdBQUdMLFFBQUw7QUFBZSxTQUFHUTtBQUFsQixLQUFQO0FBQ0QsR0F6QkQ7QUEwQkQiLCJzb3VyY2VSb290IjoiRDpcXFNvZmthVVxcNi5Ob2RlSnNcXDQuYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFx1c2UtY2FzZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFrZUNvbW1lbnQgZnJvbSAnLi4vY29tbWVudCdcclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZUVkaXRDb21tZW50ICh7IGNvbW1lbnRzRGIsIGhhbmRsZU1vZGVyYXRpb24gfSkge1xyXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBlZGl0Q29tbWVudCAoeyBpZCwgLi4uY2hhbmdlcyB9ID0ge30pIHtcclxuICAgIGlmICghaWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBzdXBwbHkgYW4gaWQuJylcclxuICAgIH1cclxuICAgIGlmICghY2hhbmdlcy50ZXh0KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3Qgc3VwcGx5IHRleHQuJylcclxuICAgIH1cclxuICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgY29tbWVudHNEYi5maW5kQnlJZCh7IGlkIH0pXHJcblxyXG4gICAgaWYgKCFleGlzdGluZykge1xyXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQ29tbWVudCBub3QgZm91bmQuJylcclxuICAgIH1cclxuICAgIGNvbnN0IGNvbW1lbnQgPSBtYWtlQ29tbWVudCh7IC4uLmV4aXN0aW5nLCAuLi5jaGFuZ2VzLCBtb2RpZmllZE9uOiBudWxsIH0pXHJcbiAgICBpZiAoY29tbWVudC5nZXRIYXNoKCkgPT09IGV4aXN0aW5nLmhhc2gpIHtcclxuICAgICAgcmV0dXJuIGV4aXN0aW5nXHJcbiAgICB9XHJcbiAgICBjb25zdCBtb2RlcmF0ZWQgPSBhd2FpdCBoYW5kbGVNb2RlcmF0aW9uKHsgY29tbWVudCB9KVxyXG4gICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IGNvbW1lbnRzRGIudXBkYXRlKHtcclxuICAgICAgaWQ6IG1vZGVyYXRlZC5nZXRJZCgpLFxyXG4gICAgICBwdWJsaXNoZWQ6IG1vZGVyYXRlZC5pc1B1Ymxpc2hlZCgpLFxyXG4gICAgICBtb2RpZmllZE9uOiBtb2RlcmF0ZWQuZ2V0TW9kaWZpZWRPbigpLFxyXG4gICAgICB0ZXh0OiBtb2RlcmF0ZWQuZ2V0VGV4dCgpLFxyXG4gICAgICBoYXNoOiBtb2RlcmF0ZWQuZ2V0SGFzaCgpXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIHsgLi4uZXhpc3RpbmcsIC4uLnVwZGF0ZWQgfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "edit-comment.js"
      ],
      "names": [
        "makeEditComment",
        "commentsDb",
        "handleModeration",
        "editComment",
        "id",
        "changes",
        "Error",
        "text",
        "existing",
        "findById",
        "RangeError",
        "comment",
        "modifiedOn",
        "getHash",
        "hash",
        "moderated",
        "updated",
        "update",
        "getId",
        "published",
        "isPublished",
        "getModifiedOn",
        "getText"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACe,SAASA,eAAT,CAA0B;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAA1B,EAA4D;AACzE,SAAO,eAAeC,WAAf,CAA4B;AAAEC,IAAAA,EAAF;AAAM,OAAGC;AAAT,MAAqB,EAAjD,EAAqD;AAC1D,QAAI,CAACD,EAAL,EAAS;AACP,YAAM,IAAIE,KAAJ,CAAU,wBAAV,CAAN;AACD;;AACD,QAAI,CAACD,OAAO,CAACE,IAAb,EAAmB;AACjB,YAAM,IAAID,KAAJ,CAAU,uBAAV,CAAN;AACD;;AACD,UAAME,QAAQ,GAAG,MAAMP,UAAU,CAACQ,QAAX,CAAoB;AAAEL,MAAAA;AAAF,KAApB,CAAvB;;AAEA,QAAI,CAACI,QAAL,EAAe;AACb,YAAM,IAAIE,UAAJ,CAAe,oBAAf,CAAN;AACD;;AACD,UAAMC,OAAO,GAAG,sBAAY,EAAE,GAAGH,QAAL;AAAe,SAAGH,OAAlB;AAA2BO,MAAAA,UAAU,EAAE;AAAvC,KAAZ,CAAhB;;AACA,QAAID,OAAO,CAACE,OAAR,OAAsBL,QAAQ,CAACM,IAAnC,EAAyC;AACvC,aAAON,QAAP;AACD;;AACD,UAAMO,SAAS,GAAG,MAAMb,gBAAgB,CAAC;AAAES,MAAAA;AAAF,KAAD,CAAxC;AACA,UAAMK,OAAO,GAAG,MAAMf,UAAU,CAACgB,MAAX,CAAkB;AACtCb,MAAAA,EAAE,EAAEW,SAAS,CAACG,KAAV,EADkC;AAEtCC,MAAAA,SAAS,EAAEJ,SAAS,CAACK,WAAV,EAF2B;AAGtCR,MAAAA,UAAU,EAAEG,SAAS,CAACM,aAAV,EAH0B;AAItCd,MAAAA,IAAI,EAAEQ,SAAS,CAACO,OAAV,EAJgC;AAKtCR,MAAAA,IAAI,EAAEC,SAAS,CAACF,OAAV;AALgC,KAAlB,CAAtB;AAOA,WAAO,EAAE,GAAGL,QAAL;AAAe,SAAGQ;AAAlB,KAAP;AACD,GAzBD;AA0BD",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\nexport default function makeEditComment ({ commentsDb, handleModeration }) {\r\n  return async function editComment ({ id, ...changes } = {}) {\r\n    if (!id) {\r\n      throw new Error('You must supply an id.')\r\n    }\r\n    if (!changes.text) {\r\n      throw new Error('You must supply text.')\r\n    }\r\n    const existing = await commentsDb.findById({ id })\r\n\r\n    if (!existing) {\r\n      throw new RangeError('Comment not found.')\r\n    }\r\n    const comment = makeComment({ ...existing, ...changes, modifiedOn: null })\r\n    if (comment.getHash() === existing.hash) {\r\n      return existing\r\n    }\r\n    const moderated = await handleModeration({ comment })\r\n    const updated = await commentsDb.update({\r\n      id: moderated.getId(),\r\n      published: moderated.isPublished(),\r\n      modifiedOn: moderated.getModifiedOn(),\r\n      text: moderated.getText(),\r\n      hash: moderated.getHash()\r\n    })\r\n    return { ...existing, ...updated }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\remove-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\remove-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\remove-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\remove-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "remove-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeRemoveComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeRemoveComment({\n  commentsDb\n}) {\n  return async function removeComment({\n    id\n  } = {}) {\n    if (!id) {\n      throw new Error('You must supply a comment id.');\n    }\n\n    const commentToDelete = await commentsDb.findById({\n      id\n    });\n\n    if (!commentToDelete) {\n      return deleteNothing();\n    }\n\n    if (await hasReplies(commentToDelete)) {\n      return softDelete(commentToDelete);\n    }\n\n    if (await isOnlyReplyOfDeletedParent(commentToDelete)) {\n      return deleteCommentAndParent(commentToDelete);\n    }\n\n    return hardDelete(commentToDelete);\n  };\n\n  async function hasReplies({\n    id: commentId\n  }) {\n    const replies = await commentsDb.findReplies({\n      commentId,\n      publishedOnly: false\n    });\n    return replies.length > 0;\n  }\n\n  async function isOnlyReplyOfDeletedParent(comment) {\n    if (!comment.replyToId) {\n      return false;\n    }\n\n    const parent = await commentsDb.findById({\n      id: comment.replyToId\n    });\n\n    if (parent && (0, _comment.default)(parent).isDeleted()) {\n      const replies = await commentsDb.findReplies({\n        commentId: parent.id,\n        publishedOnly: false\n      });\n      return replies.length === 1;\n    }\n\n    return false;\n  }\n\n  function deleteNothing() {\n    return {\n      deletedCount: 0,\n      softDelete: false,\n      message: 'Comment not found, nothing to delete.'\n    };\n  }\n\n  async function softDelete(commentInfo) {\n    const toDelete = (0, _comment.default)(commentInfo);\n    toDelete.markDeleted();\n    await commentsDb.update({\n      id: toDelete.getId(),\n      author: toDelete.getAuthor(),\n      text: toDelete.getText(),\n      replyToId: toDelete.getReplyToId(),\n      postId: toDelete.getPostId()\n    });\n    return {\n      deletedCount: 1,\n      softDelete: true,\n      message: 'Comment has replies. Soft deleted.'\n    };\n  }\n\n  async function deleteCommentAndParent(comment) {\n    await Promise.all([commentsDb.remove(comment), commentsDb.remove({\n      id: comment.replyToId\n    })]);\n    return {\n      deletedCount: 2,\n      softDelete: false,\n      message: 'Comment and parent deleted.'\n    };\n  }\n\n  async function hardDelete(comment) {\n    await commentsDb.remove(comment);\n    return {\n      deletedCount: 1,\n      softDelete: false,\n      message: 'Comment deleted.'\n    };\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlbW92ZS1jb21tZW50LmpzIl0sIm5hbWVzIjpbIm1ha2VSZW1vdmVDb21tZW50IiwiY29tbWVudHNEYiIsInJlbW92ZUNvbW1lbnQiLCJpZCIsIkVycm9yIiwiY29tbWVudFRvRGVsZXRlIiwiZmluZEJ5SWQiLCJkZWxldGVOb3RoaW5nIiwiaGFzUmVwbGllcyIsInNvZnREZWxldGUiLCJpc09ubHlSZXBseU9mRGVsZXRlZFBhcmVudCIsImRlbGV0ZUNvbW1lbnRBbmRQYXJlbnQiLCJoYXJkRGVsZXRlIiwiY29tbWVudElkIiwicmVwbGllcyIsImZpbmRSZXBsaWVzIiwicHVibGlzaGVkT25seSIsImxlbmd0aCIsImNvbW1lbnQiLCJyZXBseVRvSWQiLCJwYXJlbnQiLCJpc0RlbGV0ZWQiLCJkZWxldGVkQ291bnQiLCJtZXNzYWdlIiwiY29tbWVudEluZm8iLCJ0b0RlbGV0ZSIsIm1hcmtEZWxldGVkIiwidXBkYXRlIiwiZ2V0SWQiLCJhdXRob3IiLCJnZXRBdXRob3IiLCJ0ZXh0IiwiZ2V0VGV4dCIsImdldFJlcGx5VG9JZCIsInBvc3RJZCIsImdldFBvc3RJZCIsIlByb21pc2UiLCJhbGwiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVlLFNBQVNBLGlCQUFULENBQTRCO0FBQUVDLEVBQUFBO0FBQUYsQ0FBNUIsRUFBNEM7QUFDekQsU0FBTyxlQUFlQyxhQUFmLENBQThCO0FBQUVDLElBQUFBO0FBQUYsTUFBUyxFQUF2QyxFQUEyQztBQUNoRCxRQUFJLENBQUNBLEVBQUwsRUFBUztBQUNQLFlBQU0sSUFBSUMsS0FBSixDQUFVLCtCQUFWLENBQU47QUFDRDs7QUFFRCxVQUFNQyxlQUFlLEdBQUcsTUFBTUosVUFBVSxDQUFDSyxRQUFYLENBQW9CO0FBQUVILE1BQUFBO0FBQUYsS0FBcEIsQ0FBOUI7O0FBRUEsUUFBSSxDQUFDRSxlQUFMLEVBQXNCO0FBQ3BCLGFBQU9FLGFBQWEsRUFBcEI7QUFDRDs7QUFFRCxRQUFJLE1BQU1D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QkFBZVgsVUFBZixDQUEyQk0sT0FBM0IsRUFBb0M7QUFDbEMsVUFBTWpCLFVBQVUsQ0FBQ3FDLE1BQVgsQ0FBa0JwQixPQUFsQixDQUFOO0FBQ0EsV0FBTztBQUNMSSxNQUFBQSxZQUFZLEVBQUUsQ0FEVDtBQUVMYixNQUFBQSxVQUFVLEVBQUUsS0FGUDtBQUdMYyxNQUFBQSxPQUFPLEVBQUU7QUFISixLQUFQO0FBS0Q7QUFDRiIsInNvdXJjZVJvb3QiOiJEOlxcU29ma2FVXFw2Lk5vZGVKc1xcNC5hcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXHVzZS1jYXNlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtYWtlQ29tbWVudCBmcm9tICcuLi9jb21tZW50J1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZVJlbW92ZUNvbW1lbnQgKHsgY29tbWVudHNEYiB9KSB7XHJcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHJlbW92ZUNvbW1lbnQgKHsgaWQgfSA9IHt9KSB7XHJcbiAgICBpZiAoIWlkKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3Qgc3VwcGx5IGEgY29tbWVudCBpZC4nKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbW1lbnRUb0RlbGV0ZSA9IGF3YWl0IGNvbW1lbnRzRGIuZmluZEJ5SWQoeyBpZCB9KVxyXG5cclxuICAgIGlmICghY29tbWVudFRvRGVsZXRlKSB7XHJcbiAgICAgIHJldHVybiBkZWxldGVOb3RoaW5nKClcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXdhaXQgaGFzUmVwbGllcyhjb21tZW50VG9EZWxldGUpKSB7XHJcbiAgICAgIHJldHVybiBzb2Z0RGVsZXRlKGNvbW1lbnRUb0RlbGV0ZSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXdhaXQgaXNPbmx5UmVwbHlPZkRlbGV0ZWRQYXJlbnQoY29tbWVudFRvRGVsZXRlKSkge1xyXG4gICAgICByZXR1cm4gZGVsZXRlQ29tbWVudEFuZFBhcmVudChjb21tZW50VG9EZWxldGUpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGhhcmREZWxldGUoY29tbWVudFRvRGVsZXRlKVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gaGFzUmVwbGllcyAoeyBpZDogY29tbWVudElkIH0pIHtcclxuICAgIGNvbnN0IHJlcGxpZXMgPSBhd2FpdCBjb21tZW50c0RiLmZpbmRSZXBsaWVzKHtcclxuICAgICAgY29tbWVudElkLFxyXG4gICAgICBwdWJsaXNoZWRPbmx5OiBmYWxzZVxyXG4gICAgfSlcclxuICAgIHJldHVybiByZXBsaWVzLmxlbmd0aCA+IDBcclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGlzT25seVJlcGx5T2ZEZWxldGVkUGFyZW50IChjb21tZW50KSB7XHJcbiAgICBpZiAoIWNvbW1lbnQucmVwbHlUb0lkKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgY29uc3QgcGFyZW50ID0gYXdhaXQgY29tbWVudHNEYi5maW5kQnlJZCh7IGlkOiBjb21tZW50LnJlcGx5VG9JZCB9KVxyXG4gICAgaWYgKHBhcmVudCAmJiBtYWtlQ29tbWVudChwYXJlbnQpLmlzRGVsZXRlZCgpKSB7XHJcbiAgICAgIGNvbnN0IHJlcGxpZXMgPSBhd2FpdCBjb21tZW50c0RiLmZpbmRSZXBsaWVzKHtcclxuICAgICAgICBjb21tZW50SWQ6IHBhcmVudC5pZCxcclxuICAgICAgICBwdWJsaXNoZWRPbmx5OiBmYWxzZVxyXG4gICAgICB9KVxyXG4gICAgICByZXR1cm4gcmVwbGllcy5sZW5ndGggPT09IDFcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZGVsZXRlTm90aGluZyAoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkZWxldGVkQ291bnQ6IDAsXHJcbiAgICAgIHNvZnREZWxldGU6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAnQ29tbWVudCBub3QgZm91bmQsIG5vdGhpbmcgdG8gZGVsZXRlLidcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIHNvZnREZWxldGUgKGNvbW1lbnRJbmZvKSB7XHJcbiAgICBjb25zdCB0b0RlbGV0ZSA9IG1ha2VDb21tZW50KGNvbW1lbnRJbmZvKVxyXG4gICAgdG9EZWxldGUubWFya0RlbGV0ZWQoKVxyXG4gICAgYXdhaXQgY29tbWVudHNEYi51cGRhdGUoe1xyXG4gICAgICBpZDogdG9EZWxldGUuZ2V0SWQoKSxcclxuICAgICAgYXV0aG9yOiB0b0RlbGV0ZS5nZXRBdXRob3IoKSxcclxuICAgICAgdGV4dDogdG9EZWxldGUuZ2V0VGV4dCgpLFxyXG4gICAgICByZXBseVRvSWQ6IHRvRGVsZXRlLmdldFJlcGx5VG9JZCgpLFxyXG4gICAgICBwb3N0SWQ6IHRvRGVsZXRlLmdldFBvc3RJZCgpXHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGVsZXRlZENvdW50OiAxLFxyXG4gICAgICBzb2Z0RGVsZXRlOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAnQ29tbWVudCBoYXMgcmVwbGllcy4gU29mdCBkZWxldGVkLidcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNvbW1lbnRBbmRQYXJlbnQgKGNvbW1lbnQpIHtcclxuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgY29tbWVudHNEYi5yZW1vdmUoY29tbWVudCksXHJcbiAgICAgIGNvbW1lbnRzRGIucmVtb3ZlKHsgaWQ6IGNvbW1lbnQucmVwbHlUb0lkIH0pXHJcbiAgICBdKVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGVsZXRlZENvdW50OiAyLFxyXG4gICAgICBzb2Z0RGVsZXRlOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogJ0NvbW1lbnQgYW5kIHBhcmVudCBkZWxldGVkLidcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGhhcmREZWxldGUgKGNvbW1lbnQpIHtcclxuICAgIGF3YWl0IGNvbW1lbnRzRGIucmVtb3ZlKGNvbW1lbnQpXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkZWxldGVkQ291bnQ6IDEsXHJcbiAgICAgIHNvZnREZWxldGU6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAnQ29tbWVudCBkZWxldGVkLidcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "remove-comment.js"
      ],
      "names": [
        "makeRemoveComment",
        "commentsDb",
        "removeComment",
        "id",
        "Error",
        "commentToDelete",
        "findById",
        "deleteNothing",
        "hasReplies",
        "softDelete",
        "isOnlyReplyOfDeletedParent",
        "deleteCommentAndParent",
        "hardDelete",
        "commentId",
        "replies",
        "findReplies",
        "publishedOnly",
        "length",
        "comment",
        "replyToId",
        "parent",
        "isDeleted",
        "deletedCount",
        "message",
        "commentInfo",
        "toDelete",
        "markDeleted",
        "update",
        "getId",
        "author",
        "getAuthor",
        "text",
        "getText",
        "getReplyToId",
        "postId",
        "getPostId",
        "Promise",
        "all",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\n\r\nexport default function makeRemoveComment ({ commentsDb }) {\r\n  return async function removeComment ({ id } = {}) {\r\n    if (!id) {\r\n      throw new Error('You must supply a comment id.')\r\n    }\r\n\r\n    const commentToDelete = await commentsDb.findById({ id })\r\n\r\n    if (!commentToDelete) {\r\n      return deleteNothing()\r\n    }\r\n\r\n    if (await hasReplies(commentToDelete)) {\r\n      return softDelete(commentToDelete)\r\n    }\r\n\r\n    if (await isOnlyReplyOfDeletedParent(commentToDelete)) {\r\n      return deleteCommentAndParent(commentToDelete)\r\n    }\r\n\r\n    return hardDelete(commentToDelete)\r\n  }\r\n\r\n  async function hasReplies ({ id: commentId }) {\r\n    const replies = await commentsDb.findReplies({\r\n      commentId,\r\n      publishedOnly: false\r\n    })\r\n    return replies.length > 0\r\n  }\r\n\r\n  async function isOnlyReplyOfDeletedParent (comment) {\r\n    if (!comment.replyToId) {\r\n      return false\r\n    }\r\n    const parent = await commentsDb.findById({ id: comment.replyToId })\r\n    if (parent && makeComment(parent).isDeleted()) {\r\n      const replies = await commentsDb.findReplies({\r\n        commentId: parent.id,\r\n        publishedOnly: false\r\n      })\r\n      return replies.length === 1\r\n    }\r\n    return false\r\n  }\r\n\r\n  function deleteNothing () {\r\n    return {\r\n      deletedCount: 0,\r\n      softDelete: false,\r\n      message: 'Comment not found, nothing to delete.'\r\n    }\r\n  }\r\n\r\n  async function softDelete (commentInfo) {\r\n    const toDelete = makeComment(commentInfo)\r\n    toDelete.markDeleted()\r\n    await commentsDb.update({\r\n      id: toDelete.getId(),\r\n      author: toDelete.getAuthor(),\r\n      text: toDelete.getText(),\r\n      replyToId: toDelete.getReplyToId(),\r\n      postId: toDelete.getPostId()\r\n    })\r\n    return {\r\n      deletedCount: 1,\r\n      softDelete: true,\r\n      message: 'Comment has replies. Soft deleted.'\r\n    }\r\n  }\r\n\r\n  async function deleteCommentAndParent (comment) {\r\n    await Promise.all([\r\n      commentsDb.remove(comment),\r\n      commentsDb.remove({ id: comment.replyToId })\r\n    ])\r\n    return {\r\n      deletedCount: 2,\r\n      softDelete: false,\r\n      message: 'Comment and parent deleted.'\r\n    }\r\n  }\r\n\r\n  async function hardDelete (comment) {\r\n    await commentsDb.remove(comment)\r\n    return {\r\n      deletedCount: 1,\r\n      softDelete: false,\r\n      message: 'Comment deleted.'\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\list-comments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-comments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-comments.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\list-comments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "list-comments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeListComments;\n\nfunction makeListComments({\n  commentsDb\n}) {\n  return async function listComments({\n    postId\n  } = {}) {\n    const comments = !postId ? await commentsDb.findAll() : await commentsDb.findByPostId({\n      postId,\n      omitReplies: false\n    });\n    const nestedComments = nest(comments);\n    return nestedComments; // If this gets slow introduce caching.\n\n    function nest(comments) {\n      if (comments.length === 0) {\n        return comments;\n      }\n\n      return comments.reduce((nested, comment) => {\n        comment.replies = comments.filter(reply => reply.replyToId === comment.id);\n        nest(comment.replies);\n\n        if (comment.replyToId == null) {\n          nested.push(comment);\n        }\n\n        return nested;\n      }, []);\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpc3QtY29tbWVudHMuanMiXSwibmFtZXMiOlsibWFrZUxpc3RDb21tZW50cyIsImNvbW1lbnRzRGIiLCJsaXN0Q29tbWVudHMiLCJwb3N0SWQiLCJjb21tZW50cyIsImZpbmRBbGwiLCJmaW5kQnlQb3N0SWQiLCJvbWl0UmVwbGllcyIsIm5lc3RlZENvbW1lbnRzIiwibmVzdCIsImxlbmd0aCIsInJlZHVjZSIsIm5lc3RlZCIsImNvbW1lbnQiLCJyZXBsaWVzIiwiZmlsdGVyIiwicmVwbHkiLCJyZXBseVRvSWQiLCJpZCIsInB1c2giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZSxTQUFTQSxnQkFBVCxDQUEyQjtBQUFFQyxFQUFBQTtBQUFGLENBQTNCLEVBQTJDO0FBQ3hELFNBQU8sZUFBZUMsWUFBZixDQUE2QjtBQUFFQyxJQUFBQTtBQUFGLE1BQWEsRUFBMUMsRUFBOEM7QUFFbkQsVUFBTUMsUUFBUSxHQUFHLENBQUNELE1BQUQsR0FBUyxNQUFNRixVQUFVLENBQUNJLE9BQVgsRUFBZixHQUFzQyxNQUFNSixVQUFVLENBQUNLLFlBQVgsQ0FBd0I7QUFDbkZILE1BQUFBLE1BRG1GO0FBRW5GSSxNQUFBQSxXQUFXLEVBQUU7QUFGc0UsS0FBeEIsQ0FBN0Q7QUFJQSxVQUFNQyxjQUFjLEdBQUdDLElBQUksQ0FBQ0wsUUFBRCxDQUEzQjtBQUNBLFdBQU9JLGNBQVAsQ0FQbUQsQ0FTbkQ7O0FBQ0EsYUFBU0MsSUFBVCxDQUFlTCxRQUFmLEVBQXlCO0FBQ3ZCLFVBQUlBLFFBQVEsQ0FBQ00sTUFBVCxLQUFvQixDQUF4QixFQUEyQjtBQUN6QixlQUFPTixRQUFQO0FBQ0Q7O0FBQ0QsYUFBT0EsUUFBUSxDQUFDTyxNQUFULENBQWdCLENBQUNDLE1BQUQsRUFBU0MsT0FBVCxLQUFxQjtBQUMxQ0EsUUFBQUEsT0FBTyxDQUFDQyxPQUFSLEdBQWtCVixRQUFRLENBQUNXLE1BQVQsQ0FDaEJDLEtBQUssSUFBSUEsS0FBSyxDQUFDQyxTQUFOLEtBQW9CSixPQUFPLENBQUNLLEVBRHJCLENBQWxCO0FBR0FULFFBQUFBLElBQUksQ0FBQ0ksT0FBTyxDQUFDQyxPQUFULENBQUo7O0FBQ0EsWUFBSUQsT0FBTyxDQUFDSSxTQUFSLElBQXFCLElBQXpCLEVBQStCO0FBQzdCTCxVQUFBQSxNQUFNLENBQUNPLElBQVAsQ0FBWU4sT0FBWjtBQUNEOztBQUNELGVBQU9ELE1BQVA7QUFDRCxPQVRNLEVBU0osRUFUSSxDQUFQO0FBVUQ7QUFDRixHQXpCRDtBQTBCRCIsInNvdXJjZVJvb3QiOiJEOlxcU29ma2FVXFw2Lk5vZGVKc1xcNC5hcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXHVzZS1jYXNlcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1ha2VMaXN0Q29tbWVudHMgKHsgY29tbWVudHNEYiB9KSB7XHJcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGxpc3RDb21tZW50cyAoeyBwb3N0SWQgfSA9IHt9KSB7XHJcbiAgICBcclxuICAgIGNvbnN0IGNvbW1lbnRzID0gIXBvc3RJZD8gYXdhaXQgY29tbWVudHNEYi5maW5kQWxsKCkgOiBhd2FpdCBjb21tZW50c0RiLmZpbmRCeVBvc3RJZCh7XHJcbiAgICAgIHBvc3RJZCxcclxuICAgICAgb21pdFJlcGxpZXM6IGZhbHNlXHJcbiAgICB9KVxyXG4gICAgY29uc3QgbmVzdGVkQ29tbWVudHMgPSBuZXN0KGNvbW1lbnRzKVxyXG4gICAgcmV0dXJuIG5lc3RlZENvbW1lbnRzXHJcblxyXG4gICAgLy8gSWYgdGhpcyBnZXRzIHNsb3cgaW50cm9kdWNlIGNhY2hpbmcuXHJcbiAgICBmdW5jdGlvbiBuZXN0IChjb21tZW50cykge1xyXG4gICAgICBpZiAoY29tbWVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbW1lbnRzXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGNvbW1lbnRzLnJlZHVjZSgobmVzdGVkLCBjb21tZW50KSA9PiB7XHJcbiAgICAgICAgY29tbWVudC5yZXBsaWVzID0gY29tbWVudHMuZmlsdGVyKFxyXG4gICAgICAgICAgcmVwbHkgPT4gcmVwbHkucmVwbHlUb0lkID09PSBjb21tZW50LmlkXHJcbiAgICAgICAgKVxyXG4gICAgICAgIG5lc3QoY29tbWVudC5yZXBsaWVzKVxyXG4gICAgICAgIGlmIChjb21tZW50LnJlcGx5VG9JZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICBuZXN0ZWQucHVzaChjb21tZW50KVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmVzdGVkXHJcbiAgICAgIH0sIFtdKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "list-comments.js"
      ],
      "names": [
        "makeListComments",
        "commentsDb",
        "listComments",
        "postId",
        "comments",
        "findAll",
        "findByPostId",
        "omitReplies",
        "nestedComments",
        "nest",
        "length",
        "reduce",
        "nested",
        "comment",
        "replies",
        "filter",
        "reply",
        "replyToId",
        "id",
        "push"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,gBAAT,CAA2B;AAAEC,EAAAA;AAAF,CAA3B,EAA2C;AACxD,SAAO,eAAeC,YAAf,CAA6B;AAAEC,IAAAA;AAAF,MAAa,EAA1C,EAA8C;AAEnD,UAAMC,QAAQ,GAAG,CAACD,MAAD,GAAS,MAAMF,UAAU,CAACI,OAAX,EAAf,GAAsC,MAAMJ,UAAU,CAACK,YAAX,CAAwB;AACnFH,MAAAA,MADmF;AAEnFI,MAAAA,WAAW,EAAE;AAFsE,KAAxB,CAA7D;AAIA,UAAMC,cAAc,GAAGC,IAAI,CAACL,QAAD,CAA3B;AACA,WAAOI,cAAP,CAPmD,CASnD;;AACA,aAASC,IAAT,CAAeL,QAAf,EAAyB;AACvB,UAAIA,QAAQ,CAACM,MAAT,KAAoB,CAAxB,EAA2B;AACzB,eAAON,QAAP;AACD;;AACD,aAAOA,QAAQ,CAACO,MAAT,CAAgB,CAACC,MAAD,EAASC,OAAT,KAAqB;AAC1CA,QAAAA,OAAO,CAACC,OAAR,GAAkBV,QAAQ,CAACW,MAAT,CAChBC,KAAK,IAAIA,KAAK,CAACC,SAAN,KAAoBJ,OAAO,CAACK,EADrB,CAAlB;AAGAT,QAAAA,IAAI,CAACI,OAAO,CAACC,OAAT,CAAJ;;AACA,YAAID,OAAO,CAACI,SAAR,IAAqB,IAAzB,EAA+B;AAC7BL,UAAAA,MAAM,CAACO,IAAP,CAAYN,OAAZ;AACD;;AACD,eAAOD,MAAP;AACD,OATM,EASJ,EATI,CAAP;AAUD;AACF,GAzBD;AA0BD",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "export default function makeListComments ({ commentsDb }) {\r\n  return async function listComments ({ postId } = {}) {\r\n    \r\n    const comments = !postId? await commentsDb.findAll() : await commentsDb.findByPostId({\r\n      postId,\r\n      omitReplies: false\r\n    })\r\n    const nestedComments = nest(comments)\r\n    return nestedComments\r\n\r\n    // If this gets slow introduce caching.\r\n    function nest (comments) {\r\n      if (comments.length === 0) {\r\n        return comments\r\n      }\r\n      return comments.reduce((nested, comment) => {\r\n        comment.replies = comments.filter(\r\n          reply => reply.replyToId === comment.id\r\n        )\r\n        nest(comment.replies)\r\n        if (comment.replyToId == null) {\r\n          nested.push(comment)\r\n        }\r\n        return nested\r\n      }, [])\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625525057849
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\handle-moderation.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\handle-moderation.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\handle-moderation.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\handle-moderation.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "handle-moderation.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeHandleModeration;\n\nfunction makeHandleModeration({\n  initiateReview\n}) {\n  return async function handleModeration({\n    comment\n  }) {\n    const moderated = { ...comment\n    };\n    initiateReview({\n      id: moderated.getId(),\n      content: moderated.getText()\n    });\n    return moderated;\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhhbmRsZS1tb2RlcmF0aW9uLmpzIl0sIm5hbWVzIjpbIm1ha2VIYW5kbGVNb2RlcmF0aW9uIiwiaW5pdGlhdGVSZXZpZXciLCJoYW5kbGVNb2RlcmF0aW9uIiwiY29tbWVudCIsIm1vZGVyYXRlZCIsImlkIiwiZ2V0SWQiLCJjb250ZW50IiwiZ2V0VGV4dCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLG9CQUFULENBQStCO0FBQzVDQyxFQUFBQTtBQUQ0QyxDQUEvQixFQUVaO0FBQ0QsU0FBTyxlQUFlQyxnQkFBZixDQUFpQztBQUFFQyxJQUFBQTtBQUFGLEdBQWpDLEVBQThDO0FBQ25ELFVBQU1DLFNBQVMsR0FBRyxFQUFFLEdBQUdEO0FBQUwsS0FBbEI7QUFDQUYsSUFBQUEsY0FBYyxDQUFDO0FBQUVJLE1BQUFBLEVBQUUsRUFBRUQsU0FBUyxDQUFDRSxLQUFWLEVBQU47QUFBeUJDLE1BQUFBLE9BQU8sRUFBRUgsU0FBUyxDQUFDSSxPQUFWO0FBQWxDLEtBQUQsQ0FBZDtBQUNBLFdBQU9KLFNBQVA7QUFDRCxHQUpEO0FBS0QiLCJzb3VyY2VSb290IjoiRDpcXFNvZmthVVxcNi5Ob2RlSnNcXDQuYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFx1c2UtY2FzZXMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlSGFuZGxlTW9kZXJhdGlvbiAoe1xyXG4gIGluaXRpYXRlUmV2aWV3XHJcbn0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gaGFuZGxlTW9kZXJhdGlvbiAoeyBjb21tZW50IH0pIHtcclxuICAgIGNvbnN0IG1vZGVyYXRlZCA9IHsgLi4uY29tbWVudCB9XHJcbiAgICBpbml0aWF0ZVJldmlldyh7IGlkOiBtb2RlcmF0ZWQuZ2V0SWQoKSwgY29udGVudDogbW9kZXJhdGVkLmdldFRleHQoKSB9KVxyXG4gICAgcmV0dXJuIG1vZGVyYXRlZFxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "handle-moderation.js"
      ],
      "names": [
        "makeHandleModeration",
        "initiateReview",
        "handleModeration",
        "comment",
        "moderated",
        "id",
        "getId",
        "content",
        "getText"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,oBAAT,CAA+B;AAC5CC,EAAAA;AAD4C,CAA/B,EAEZ;AACD,SAAO,eAAeC,gBAAf,CAAiC;AAAEC,IAAAA;AAAF,GAAjC,EAA8C;AACnD,UAAMC,SAAS,GAAG,EAAE,GAAGD;AAAL,KAAlB;AACAF,IAAAA,cAAc,CAAC;AAAEI,MAAAA,EAAE,EAAED,SAAS,CAACE,KAAV,EAAN;AAAyBC,MAAAA,OAAO,EAAEH,SAAS,CAACI,OAAV;AAAlC,KAAD,CAAd;AACA,WAAOJ,SAAP;AACD,GAJD;AAKD",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "export default function makeHandleModeration ({\r\n  initiateReview\r\n}) {\r\n  return async function handleModeration ({ comment }) {\r\n    const moderated = { ...comment }\r\n    initiateReview({ id: moderated.getId(), content: moderated.getText() })\r\n    return moderated\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\data-access\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\data-access\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeDb = makeDb;\nexports.default = void 0;\n\nvar _commentsDb = _interopRequireDefault(require(\"./comments-db\"));\n\nvar _mongodb = _interopRequireDefault(require(\"mongodb\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst MongoClient = _mongodb.default.MongoClient;\nconst url = process && process.env && process.env.DM_COMMENTS_DB_URL || \"mongodb://localhost:27017\";\nconst dbName = process && process.env && process.env.DM_COMMENTS_DB_NAME || \"dm_comments_api\";\nconst client = new MongoClient(url, {\n  useNewUrlParser: true\n});\n\nasync function makeDb() {\n  if (!client.isConnected()) {\n    await client.connect();\n  }\n\n  return client.db(dbName);\n}\n\nconst commentsDb = (0, _commentsDb.default)({\n  makeDb\n});\nvar _default = commentsDb;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwibW9uZ29kYiIsInVybCIsImRiTmFtZSIsImNsaWVudCIsInVzZU5ld1VybFBhcnNlciIsIm1ha2VEYiIsImlzQ29ubmVjdGVkIiwiY29ubmVjdCIsImRiIiwiY29tbWVudHNEYiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVBLE1BQU1BLFdBQVcsR0FBR0MsaUJBQVFELFdBQTVCO0FBQ0EsTUFBTUUsR0FBRywwRkFBVDtBQUNBLE1BQU1DLE1BQU0saUZBQVo7QUFDQSxNQUFNQyxNQUFNLEdBQUcsSUFBSUosV0FBSixDQUFnQkUsR0FBaEIsRUFBcUI7QUFBRUcsRUFBQUEsZUFBZSxFQUFFO0FBQW5CLENBQXJCLENBQWY7O0FBRU8sZUFBZUMsTUFBZixHQUF5QjtBQUM5QixNQUFJLENBQUNGLE1BQU0sQ0FBQ0csV0FBUCxFQUFMLEVBQTJCO0FBQ3pCLFVBQU1ILE1BQU0sQ0FBQ0ksT0FBUCxFQUFOO0FBQ0Q7O0FBQ0QsU0FBT0osTUFBTSxDQUFDSyxFQUFQLENBQVVOLE1BQVYsQ0FBUDtBQUNEOztBQUVELE1BQU1PLFVBQVUsR0FBRyx5QkFBZTtBQUFFSixFQUFBQTtBQUFGLENBQWYsQ0FBbkI7ZUFDZUksVSIsInNvdXJjZVJvb3QiOiJEOlxcU29ma2FVXFw2Lk5vZGVKc1xcNC5hcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGRhdGEtYWNjZXNzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1ha2VDb21tZW50c0RiIGZyb20gJy4vY29tbWVudHMtZGInXHJcbmltcG9ydCBtb25nb2RiIGZyb20gJ21vbmdvZGInXHJcblxyXG5jb25zdCBNb25nb0NsaWVudCA9IG1vbmdvZGIuTW9uZ29DbGllbnRcclxuY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYuRE1fQ09NTUVOVFNfREJfVVJMXHJcbmNvbnN0IGRiTmFtZSA9IHByb2Nlc3MuZW52LkRNX0NPTU1FTlRTX0RCX05BTUVcclxuY29uc3QgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUgfSlcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYWtlRGIgKCkge1xyXG4gIGlmICghY2xpZW50LmlzQ29ubmVjdGVkKCkpIHtcclxuICAgIGF3YWl0IGNsaWVudC5jb25uZWN0KClcclxuICB9XHJcbiAgcmV0dXJuIGNsaWVudC5kYihkYk5hbWUpXHJcbn1cclxuXHJcbmNvbnN0IGNvbW1lbnRzRGIgPSBtYWtlQ29tbWVudHNEYih7IG1ha2VEYiB9KVxyXG5leHBvcnQgZGVmYXVsdCBjb21tZW50c0RiXHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "MongoClient",
        "mongodb",
        "url",
        "dbName",
        "client",
        "useNewUrlParser",
        "makeDb",
        "isConnected",
        "connect",
        "db",
        "commentsDb"
      ],
      "mappings": ";;;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,WAAW,GAAGC,iBAAQD,WAA5B;AACA,MAAME,GAAG,0FAAT;AACA,MAAMC,MAAM,iFAAZ;AACA,MAAMC,MAAM,GAAG,IAAIJ,WAAJ,CAAgBE,GAAhB,EAAqB;AAAEG,EAAAA,eAAe,EAAE;AAAnB,CAArB,CAAf;;AAEO,eAAeC,MAAf,GAAyB;AAC9B,MAAI,CAACF,MAAM,CAACG,WAAP,EAAL,EAA2B;AACzB,UAAMH,MAAM,CAACI,OAAP,EAAN;AACD;;AACD,SAAOJ,MAAM,CAACK,EAAP,CAAUN,MAAV,CAAP;AACD;;AAED,MAAMO,UAAU,GAAG,yBAAe;AAAEJ,EAAAA;AAAF,CAAf,CAAnB;eACeI,U",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
      "sourcesContent": [
        "import makeCommentsDb from './comments-db'\r\nimport mongodb from 'mongodb'\r\n\r\nconst MongoClient = mongodb.MongoClient\r\nconst url = process.env.DM_COMMENTS_DB_URL\r\nconst dbName = process.env.DM_COMMENTS_DB_NAME\r\nconst client = new MongoClient(url, { useNewUrlParser: true })\r\n\r\nexport async function makeDb () {\r\n  if (!client.isConnected()) {\r\n    await client.connect()\r\n  }\r\n  return client.db(dbName)\r\n}\r\n\r\nconst commentsDb = makeCommentsDb({ makeDb })\r\nexport default commentsDb\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\data-access\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\data-access\\\\comments-db.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\comments-db.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\comments-db.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\data-access\\comments-db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
        "sourceFileName": "comments-db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeCommentsDb;\n\nvar _Id = _interopRequireDefault(require(\"../Id\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeCommentsDb({\n  makeDb\n}) {\n  return Object.freeze({\n    findAll,\n    findByHash,\n    findById,\n    findByPostId,\n    findReplies,\n    insert,\n    remove,\n    update\n  });\n\n  async function findAll({\n    publishedOnly = false\n  } = {}) {\n    const db = await makeDb();\n    const query = publishedOnly ? {\n      published: true\n    } : {};\n    const result = await db.collection('comments').find(query);\n    return (await result.toArray()).map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    }));\n  }\n\n  async function findById({\n    id: _id\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').find({\n      _id\n    });\n    const found = await result.toArray();\n\n    if (found.length === 0) {\n      return null;\n    }\n\n    const {\n      _id: id,\n      ...info\n    } = found[0];\n    return {\n      id,\n      ...info\n    };\n  }\n\n  async function findByPostId({\n    postId,\n    omitReplies = true\n  }) {\n    const db = await makeDb();\n    const query = {\n      postId: postId\n    };\n\n    if (omitReplies) {\n      query.replyToId = null;\n    }\n\n    const result = await db.collection('comments').find(query);\n    return (await result.toArray()).map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    }));\n  }\n\n  async function findReplies({\n    commentId,\n    publishedOnly = true\n  }) {\n    const db = await makeDb();\n    const query = publishedOnly ? {\n      published: true,\n      replyToId: commentId\n    } : {\n      replyToId: commentId\n    };\n    const result = await db.collection('comments').find(query);\n    return (await result.toArray()).map(({\n      _id: id,\n      ...found\n    }) => ({\n      id,\n      ...found\n    }));\n  }\n\n  async function insert({\n    id: _id = _Id.default.makeId(),\n    ...commentInfo\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').insertOne({\n      _id,\n      ...commentInfo\n    });\n    const {\n      _id: id,\n      ...insertedInfo\n    } = result.ops[0];\n    return {\n      id,\n      ...insertedInfo\n    };\n  }\n\n  async function update({\n    id: _id,\n    ...commentInfo\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').updateOne({\n      _id\n    }, {\n      $set: { ...commentInfo\n      }\n    });\n    return result.modifiedCount > 0 ? {\n      id: _id,\n      ...commentInfo\n    } : null;\n  }\n\n  async function remove({\n    id: _id\n  }) {\n    const db = await makeDb();\n    const result = await db.collection('comments').deleteOne({\n      _id\n    });\n    return result.deletedCount;\n  }\n\n  async function findByHash(comment) {\n    const db = await makeDb();\n    const result = await db.collection('comments').find({\n      hash: comment.hash\n    });\n    const found = await result.toArray();\n\n    if (found.length === 0) {\n      return null;\n    }\n\n    const {\n      _id: id,\n      ...insertedInfo\n    } = found[0];\n    return {\n      id,\n      ...insertedInfo\n    };\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1lbnRzLWRiLmpzIl0sIm5hbWVzIjpbIm1ha2VDb21tZW50c0RiIiwibWFrZURiIiwiT2JqZWN0IiwiZnJlZXplIiwiZmluZEFsbCIsImZpbmRCeUhhc2giLCJmaW5kQnlJZCIsImZpbmRCeVBvc3RJZCIsImZpbmRSZXBsaWVzIiwiaW5zZXJ0IiwicmVtb3ZlIiwidXBkYXRlIiwicHVibGlzaGVkT25seSIsImRiIiwicXVlcnkiLCJwdWJsaXNoZWQiLCJyZXN1bHQiLCJjb2xsZWN0aW9uIiwiZmluZCIsInRvQXJyYXkiLCJtYXAiLCJfaWQiLCJpZCIsImZvdW5kIiwibGVuZ3RoIiwiaW5mbyIsInBvc3RJZCIsIm9taXRSZXBsaWVzIiwicmVwbHlUb0lkIiwiY29tbWVudElkIiwiSWQiLCJtYWtlSWQiLCJjb21tZW50SW5mbyIsImluc2VydE9uZSIsImluc2VydGVkSW5mbyIsIm9wcyIsInVwZGF0ZU9uZSIsIiRzZXQiLCJtb2RpZmllZENvdW50IiwiZGVsZXRlT25lIiwiZGVsZXRlZENvdW50IiwiY29tbWVudCIsImhhc2giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVlLFNBQVNBLGNBQVQsQ0FBeUI7QUFBRUMsRUFBQUE7QUFBRixDQUF6QixFQUFxQztBQUNsRCxTQUFPQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUNuQkMsSUFBQUEsT0FEbUI7QUFFbkJDLElBQUFBLFVBRm1CO0FBR25CQyxJQUFBQSxRQUhtQjtBQUluQkMsSUFBQUEsWUFKbUI7QUFLbkJDLElBQUFBLFdBTG1CO0FBTW5CQyxJQUFBQSxNQU5tQjtBQU9uQkMsSUFBQUEsTUFQbUI7QUFRbkJDLElBQUFBO0FBUm1CLEdBQWQsQ0FBUDs7QUFVQSxpQkFBZVAsT0FBZixDQUF3QjtBQUFFUSxJQUFBQSxhQUFhLEdBQUc7QUFBbEIsTUFBNEIsRUFBcEQsRUFBd0Q7QUFDdEQsVUFBTUMsRUFBRSxHQUFHLE1BQU1aLE1BQU0sRUFBdkI7QUFDQSxVQUFNYSxLQUFLLEdBQUdGLGFBQWEsR0FBRztBQUFFRyxNQUFBQSxTQUFTLEVBQUU7QUFBYixLQUFILEdBQXlCLEVBQXBEO0FBQ0EsVUFBTUMsTUFBTSxHQUFHLE1BQU1ILEVBQUUsQ0FBQ0ksVUFBSCxDQUFjLFVBQWQsRUFBMEJDLElBQTFCLENBQStCSixLQUEvQixDQUFyQjtBQUNBLFdBQU8sQ0FBQyxNQUFNRSxNQUFNLENBQUNHLE9BQVAsRUFBUCxFQUF5QkMsR0FBekIsQ0FBNkIsQ0FBQztBQUFFQyxNQUFBQSxHQUFHLEVBQUVDLEVBQVA7QUFBVyxTQUFHQztBQUFkLEtBQUQsTUFBNEI7QUFDOURELE1BQUFBLEVBRDhEO0FBRTlELFNBQUdDO0FBRjJELEtBQTVCLENBQTdCLENBQVA7QUFJRDs7QUFDRCxpQkFBZWpCLFFBQWYsQ0FBeUI7QUFBRWdCLElBQUFBLEVBQUUsRUFBRUQ7QUFBTixHQUF6QixFQUFzQztBQUNwQyxVQUFNUixFQUFFLEdBQUcsTUFBTVosTUFBTSxFQUF2QjtBQUNBLFVBQU1lLE1BQU0sR0FBRyxNQUFNSCxFQUFFLENBQUNJLFVBQUgsQ0FBYyxVQUFkLEVBQTBCQyxJQUExQixDQUErQjtBQUFFRyxNQUFBQTtBQUFGLEtBQS9CLENBQXJCO0FBQ0EsVUFBTUUsS0FBSyxHQUFHLE1BQU1QLE1BQU0sQ0FBQ0csT0FBUCxFQUFwQjs7QUFDQSxRQUFJSSxLQUFLLENBQUNDLE1BQU4sS0FBaUIsQ0FBckIsRUFBd0I7QUFDdEIsYUFBTyxJQUFQO0FBQ0Q7O0FBQ0QsVUFBTTtBQUFFSCxNQUFBQSxHQUFHLEVBQUVDLEVBQVA7QUFBVyxTQUFHRztBQUFkLFFBQXVCRixLQUFLLENBQUMsQ0FBRCxDQUFsQztBQUNBLFdBQU87QUFBRUQsTUFBQUEsRUFBRjtBQUFNLFNBQUdHO0FBQVQsS0FBUDtBQUNEOztBQUNELGlCQUFlbEIsWUFBZixDQUE2QjtBQUFFbUIsSUFBQUEsTUFBRjtBQUFVQyxJQUFBQSxXQUFXLEdBQUc7QUFBeEIsR0FBN0IsRUFBNkQ7QUFDM0QsVUFBTWQsRUFBRSxHQUFHLE1BQU1aLE1BQU0sRUFBdkI7QUFDQSxVQUFNYSxLQUFLLEdBQUc7QUFBRVksTUFBQUEsTUFBTSxFQUFFQTtBQUFWLEtBQWQ7O0FBQ0EsUUFBSUMsV0FBSixFQUFpQjtBQUNmYixNQUFBQSxLQUFLLENBQUNjLFNBQU4sR0FBa0IsSUFBbEI7QUFDRDs7QUFDRCxVQUFNWixNQUFNLEdBQUcsTUFBTUgsRUFBRSxDQUFDSSxVQUFILENBQWMsVUFBZCxFQUEwQkMsSUFBMUIsQ0FBK0JKLEtBQS9CLENBQXJCO0FBQ0EsV0FBTyxDQUFDLE1BQU1FLE1BQU0sQ0FBQ0csT0FBUCxFQUFQLEVBQXlCQyxHQUF6QixDQUE2QixDQUFDO0FBQUVDLE1BQUFBLEdBQUcsRUFBRUMsRUFBUDtBQUFXLFNBQUdDO0FBQWQsS0FBRCxNQUE0QjtBQUM5REQsTUFBQUEsRUFEOEQ7QUFFOUQsU0FBR0M7QUFGMkQsS0FBNUIsQ0FBN0IsQ0FBUDtBQUlEOztBQUNELGlCQUFlZixXQUFmLENBQTRCO0FBQUVxQixJQUFBQSxTQUFGO0FBQWFqQixJQUFBQSxhQUFhLEdBQUc7QUFBN0IsR0FBNUIsRUFBaUU7QUFDL0QsVUFBTUMsRUFBRSxHQUFHLE1BQU1aLE1BQU0sRUFBdkI7QUFDQSxVQUFNYSxLQUFLLEdBQUdGLGFBQWEsR0FDdkI7QUFBRUcsTUFBQUEsU0FBUyxFQUFFLElBQWI7QUFBbUJhLE1BQUFBLFNBQVMsRUFBRUM7QUFBOUIsS0FEdUIsR0FFdkI7QUFBRUQsTUFBQUEsU0FBUyxFQUFFQztBQUFiLEtBRko7QUFHQSxVQUFNYixNQUFNLEdBQUcsTUFBTUgsRUFBRSxDQUFDSSxVQUFILENBQWMsVUFBZCxFQUEwQkMsSUFBMUIsQ0FBK0JKLEtBQS9CLENBQXJCO0FBQ0EsV0FBTyxDQUFDLE1BQU1FLE1BQU0sQ0FBQ0csT0FBUCxFQUFQLEVBQXlCQyxHQUF6QixDQUE2QixDQUFDO0FBQUVDLE1BQUFBLEdBQUcsRUFBRUMsRUFBUDtBQUFXLFNBQUdDO0FBQWQsS0FBRCxNQUE0QjtBQUM5REQsTUFBQUEsRUFEOEQ7QUFFOUQsU0FBR0M7QUFGMkQsS0FBNUIsQ0FBN0IsQ0FBUDtBQUlEOztBQUNELGlCQUFlZCxNQUFmLENBQXVCO0FBQUVhLElBQUFBLEVBQUUsRUFBRUQsR0FBRyxHQUFHUyxZQUFHQyxNQUFILEVBQVo7QUFBeUIsT0FBR0M7QUFBNUIsR0FBdkIsRUFBa0U7QUFDaEUsVUFBTW5CLEVBQUUsR0FBRyxNQUFNWixNQUFNLEVBQXZCO0FBQ0EsVUFBTWUsTUFBTSxHQUFHLE1BQU1ILEVBQUUsQ0FDcEJJLFVBRGtCLENBQ1AsVUFETyxFQUVsQmdCLFNBRmtCLENBRVI7QUFBRVosTUFBQUEsR0FBRjtBQUFPLFNBQUdXO0FBQVYsS0FGUSxDQUFyQjtBQUdBLFVBQU07QUFBRVgsTUFBQUEsR0FBRyxFQUFFQyxFQUFQO0FBQVcsU0FBR1k7QUFBZCxRQUErQmxCLE1BQU0sQ0FBQ21CLEdBQVAsQ0FBVyxDQUFYLENBQXJDO0FBQ0EsV0FBTztBQUFFYixNQUFBQSxFQUFGO0FBQU0sU0FBR1k7QUFBVCxLQUFQO0FBQ0Q7O0FBRUQsaUJBQWV2QixNQUFmLENBQXVCO0FBQUVXLElBQUFBLEVBQUUsRUFBRUQsR0FBTjtBQUFXLE9BQUdXO0FBQWQsR0FBdkIsRUFBb0Q7QUFDbEQsVUFBTW5CLEVBQUUsR0FBRyxNQUFNWixNQUFNLEVBQXZCO0FBQ0EsVUFBTWUsTUFBTSxHQUFHLE1BQU1ILEVBQUUsQ0FDcEJJLFVBRGtCLENBQ1AsVUFETyxFQUVsQm1CLFNBRmtCLENBRVI7QUFBRWYsTUFBQUE7QUFBRixLQUZRLEVBRUM7QUFBRWdCLE1BQUFBLElBQUksRUFBRSxFQUFFLEdBQUdMO0FBQUw7QUFBUixLQUZELENBQXJCO0FBR0EsV0FBT2hCLE1BQU0sQ0FBQ3NCLGFBQVAsR0FBdUIsQ0FBdkIsR0FBMkI7QUFBRWhCLE1BQUFBLEVBQUUsRUFBRUQsR0FBTjtBQUFXLFNBQUdXO0FBQWQsS0FBM0IsR0FBeUQsSUFBaEU7QUFDRDs7QUFDRCxpQkFBZXRCLE1BQWYsQ0FBdUI7QUFBRVksSUFBQUEsRUFBRSxFQUFFRDtBQUFOLEdBQXZCLEVBQW9DO0FBQ2xDLFVBQU1SLEVBQUUsR0FBRyxNQUFNWixNQUFNLEVBQXZCO0FBQ0EsVUFBTWUsTUFBTSxHQUFHLE1BQU1ILEVBQUUsQ0FBQ0ksVUFBSCxDQUFjLFVBQWQsRUFBMEJzQixTQUExQixDQUFvQztBQUFFbEIsTUFBQUE7QUFBRixLQUFwQyxDQUFyQjtBQUNBLFdBQU9MLE1BQU0sQ0FBQ3dCLFlBQWQ7QUFDRDs7QUFDRCxpQkFBZW5DLFVBQWYsQ0FBMkJvQyxPQUEzQixFQUFvQztBQUNsQyxVQUFNNUIsRUFBRSxHQUFHLE1BQU1aLE1BQU0sRUFBdkI7QUFDQSxVQUFNZSxNQUFNLEdBQUcsTUFBTUgsRUFBRSxDQUFDSSxVQUFILENBQWMsVUFBZCxFQUEwQkMsSUFBMUIsQ0FBK0I7QUFBRXdCLE1BQUFBLElBQUksRUFBRUQsT0FBTyxDQUFDQztBQUFoQixLQUEvQixDQUFyQjtBQUNBLFVBQU1uQixLQUFLLEdBQUcsTUFBTVAsTUFBTSxDQUFDRyxPQUFQLEVBQXBCOztBQUNBLFFBQUlJLEtBQUssQ0FBQ0MsTUFBTixLQUFpQixDQUFyQixFQUF3QjtBQUN0QixhQUFPLElBQVA7QUFDRDs7QUFDRCxVQUFNO0FBQUVILE1BQUFBLEdBQUcsRUFBRUMsRUFBUDtBQUFXLFNBQUdZO0FBQWQsUUFBK0JYLEtBQUssQ0FBQyxDQUFELENBQTFDO0FBQ0EsV0FBTztBQUFFRCxNQUFBQSxFQUFGO0FBQU0sU0FBR1k7QUFBVCxLQUFQO0FBQ0Q7QUFDRiIsInNvdXJjZVJvb3QiOiJEOlxcU29ma2FVXFw2Lk5vZGVKc1xcNC5hcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGRhdGEtYWNjZXNzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IElkIGZyb20gJy4uL0lkJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZUNvbW1lbnRzRGIgKHsgbWFrZURiIH0pIHtcclxuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBmaW5kQWxsLFxyXG4gICAgZmluZEJ5SGFzaCxcclxuICAgIGZpbmRCeUlkLFxyXG4gICAgZmluZEJ5UG9zdElkLFxyXG4gICAgZmluZFJlcGxpZXMsXHJcbiAgICBpbnNlcnQsXHJcbiAgICByZW1vdmUsXHJcbiAgICB1cGRhdGVcclxuICB9KVxyXG4gIGFzeW5jIGZ1bmN0aW9uIGZpbmRBbGwgKHsgcHVibGlzaGVkT25seSA9IGZhbHNlIH0gPSB7fSkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBtYWtlRGIoKVxyXG4gICAgY29uc3QgcXVlcnkgPSBwdWJsaXNoZWRPbmx5ID8geyBwdWJsaXNoZWQ6IHRydWUgfSA6IHt9XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdjb21tZW50cycpLmZpbmQocXVlcnkpXHJcbiAgICByZXR1cm4gKGF3YWl0IHJlc3VsdC50b0FycmF5KCkpLm1hcCgoeyBfaWQ6IGlkLCAuLi5mb3VuZCB9KSA9PiAoe1xyXG4gICAgICBpZCxcclxuICAgICAgLi4uZm91bmRcclxuICAgIH0pKVxyXG4gIH1cclxuICBhc3luYyBmdW5jdGlvbiBmaW5kQnlJZCAoeyBpZDogX2lkIH0pIHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgbWFrZURiKClcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2NvbW1lbnRzJykuZmluZCh7IF9pZCB9KVxyXG4gICAgY29uc3QgZm91bmQgPSBhd2FpdCByZXN1bHQudG9BcnJheSgpXHJcbiAgICBpZiAoZm91bmQubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgICBjb25zdCB7IF9pZDogaWQsIC4uLmluZm8gfSA9IGZvdW5kWzBdXHJcbiAgICByZXR1cm4geyBpZCwgLi4uaW5mbyB9XHJcbiAgfVxyXG4gIGFzeW5jIGZ1bmN0aW9uIGZpbmRCeVBvc3RJZCAoeyBwb3N0SWQsIG9taXRSZXBsaWVzID0gdHJ1ZSB9KSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IG1ha2VEYigpXHJcbiAgICBjb25zdCBxdWVyeSA9IHsgcG9zdElkOiBwb3N0SWQgfVxyXG4gICAgaWYgKG9taXRSZXBsaWVzKSB7XHJcbiAgICAgIHF1ZXJ5LnJlcGx5VG9JZCA9IG51bGxcclxuICAgIH1cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2NvbW1lbnRzJykuZmluZChxdWVyeSlcclxuICAgIHJldHVybiAoYXdhaXQgcmVzdWx0LnRvQXJyYXkoKSkubWFwKCh7IF9pZDogaWQsIC4uLmZvdW5kIH0pID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICAuLi5mb3VuZFxyXG4gICAgfSkpXHJcbiAgfVxyXG4gIGFzeW5jIGZ1bmN0aW9uIGZpbmRSZXBsaWVzICh7IGNvbW1lbnRJZCwgcHVibGlzaGVkT25seSA9IHRydWUgfSkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBtYWtlRGIoKVxyXG4gICAgY29uc3QgcXVlcnkgPSBwdWJsaXNoZWRPbmx5XHJcbiAgICAgID8geyBwdWJsaXNoZWQ6IHRydWUsIHJlcGx5VG9JZDogY29tbWVudElkIH1cclxuICAgICAgOiB7IHJlcGx5VG9JZDogY29tbWVudElkIH1cclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2NvbW1lbnRzJykuZmluZChxdWVyeSlcclxuICAgIHJldHVybiAoYXdhaXQgcmVzdWx0LnRvQXJyYXkoKSkubWFwKCh7IF9pZDogaWQsIC4uLmZvdW5kIH0pID0+ICh7XHJcbiAgICAgIGlkLFxyXG4gICAgICAuLi5mb3VuZFxyXG4gICAgfSkpXHJcbiAgfVxyXG4gIGFzeW5jIGZ1bmN0aW9uIGluc2VydCAoeyBpZDogX2lkID0gSWQubWFrZUlkKCksIC4uLmNvbW1lbnRJbmZvIH0pIHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgbWFrZURiKClcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiXHJcbiAgICAgIC5jb2xsZWN0aW9uKCdjb21tZW50cycpXHJcbiAgICAgIC5pbnNlcnRPbmUoeyBfaWQsIC4uLmNvbW1lbnRJbmZvIH0pXHJcbiAgICBjb25zdCB7IF9pZDogaWQsIC4uLmluc2VydGVkSW5mbyB9ID0gcmVzdWx0Lm9wc1swXVxyXG4gICAgcmV0dXJuIHsgaWQsIC4uLmluc2VydGVkSW5mbyB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiB1cGRhdGUgKHsgaWQ6IF9pZCwgLi4uY29tbWVudEluZm8gfSkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBtYWtlRGIoKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGJcclxuICAgICAgLmNvbGxlY3Rpb24oJ2NvbW1lbnRzJylcclxuICAgICAgLnVwZGF0ZU9uZSh7IF9pZCB9LCB7ICRzZXQ6IHsgLi4uY29tbWVudEluZm8gfSB9KVxyXG4gICAgcmV0dXJuIHJlc3VsdC5tb2RpZmllZENvdW50ID4gMCA/IHsgaWQ6IF9pZCwgLi4uY29tbWVudEluZm8gfSA6IG51bGxcclxuICB9XHJcbiAgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlICh7IGlkOiBfaWQgfSkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBtYWtlRGIoKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbignY29tbWVudHMnKS5kZWxldGVPbmUoeyBfaWQgfSlcclxuICAgIHJldHVybiByZXN1bHQuZGVsZXRlZENvdW50XHJcbiAgfVxyXG4gIGFzeW5jIGZ1bmN0aW9uIGZpbmRCeUhhc2ggKGNvbW1lbnQpIHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgbWFrZURiKClcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2NvbW1lbnRzJykuZmluZCh7IGhhc2g6IGNvbW1lbnQuaGFzaCB9KVxyXG4gICAgY29uc3QgZm91bmQgPSBhd2FpdCByZXN1bHQudG9BcnJheSgpXHJcbiAgICBpZiAoZm91bmQubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgICBjb25zdCB7IF9pZDogaWQsIC4uLmluc2VydGVkSW5mbyB9ID0gZm91bmRbMF1cclxuICAgIHJldHVybiB7IGlkLCAuLi5pbnNlcnRlZEluZm8gfVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "comments-db.js"
      ],
      "names": [
        "makeCommentsDb",
        "makeDb",
        "Object",
        "freeze",
        "findAll",
        "findByHash",
        "findById",
        "findByPostId",
        "findReplies",
        "insert",
        "remove",
        "update",
        "publishedOnly",
        "db",
        "query",
        "published",
        "result",
        "collection",
        "find",
        "toArray",
        "map",
        "_id",
        "id",
        "found",
        "length",
        "info",
        "postId",
        "omitReplies",
        "replyToId",
        "commentId",
        "Id",
        "makeId",
        "commentInfo",
        "insertOne",
        "insertedInfo",
        "ops",
        "updateOne",
        "$set",
        "modifiedCount",
        "deleteOne",
        "deletedCount",
        "comment",
        "hash"
      ],
      "mappings": "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",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\data-access",
      "sourcesContent": [
        "import Id from '../Id'\r\n\r\nexport default function makeCommentsDb ({ makeDb }) {\r\n  return Object.freeze({\r\n    findAll,\r\n    findByHash,\r\n    findById,\r\n    findByPostId,\r\n    findReplies,\r\n    insert,\r\n    remove,\r\n    update\r\n  })\r\n  async function findAll ({ publishedOnly = false } = {}) {\r\n    const db = await makeDb()\r\n    const query = publishedOnly ? { published: true } : {}\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n  }\r\n  async function findById ({ id: _id }) {\r\n    const db = await makeDb()\r\n    const result = await db.collection('comments').find({ _id })\r\n    const found = await result.toArray()\r\n    if (found.length === 0) {\r\n      return null\r\n    }\r\n    const { _id: id, ...info } = found[0]\r\n    return { id, ...info }\r\n  }\r\n  async function findByPostId ({ postId, omitReplies = true }) {\r\n    const db = await makeDb()\r\n    const query = { postId: postId }\r\n    if (omitReplies) {\r\n      query.replyToId = null\r\n    }\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n  }\r\n  async function findReplies ({ commentId, publishedOnly = true }) {\r\n    const db = await makeDb()\r\n    const query = publishedOnly\r\n      ? { published: true, replyToId: commentId }\r\n      : { replyToId: commentId }\r\n    const result = await db.collection('comments').find(query)\r\n    return (await result.toArray()).map(({ _id: id, ...found }) => ({\r\n      id,\r\n      ...found\r\n    }))\r\n  }\r\n  async function insert ({ id: _id = Id.makeId(), ...commentInfo }) {\r\n    const db = await makeDb()\r\n    const result = await db\r\n      .collection('comments')\r\n      .insertOne({ _id, ...commentInfo })\r\n    const { _id: id, ...insertedInfo } = result.ops[0]\r\n    return { id, ...insertedInfo }\r\n  }\r\n\r\n  async function update ({ id: _id, ...commentInfo }) {\r\n    const db = await makeDb()\r\n    const result = await db\r\n      .collection('comments')\r\n      .updateOne({ _id }, { $set: { ...commentInfo } })\r\n    return result.modifiedCount > 0 ? { id: _id, ...commentInfo } : null\r\n  }\r\n  async function remove ({ id: _id }) {\r\n    const db = await makeDb()\r\n    const result = await db.collection('comments').deleteOne({ _id })\r\n    return result.deletedCount\r\n  }\r\n  async function findByHash (comment) {\r\n    const db = await makeDb()\r\n    const result = await db.collection('comments').find({ hash: comment.hash })\r\n    const found = await result.toArray()\r\n    if (found.length === 0) {\r\n      return null\r\n    }\r\n    const { _id: id, ...insertedInfo } = found[0]\r\n    return { id, ...insertedInfo }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625525087461
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\delete-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\delete-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\delete-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\delete-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "delete-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeDeleteComment;\n\nfunction makeDeleteComment({\n  removeComment\n}) {\n  return async function deleteComment(httpRequest) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n\n    try {\n      const deleted = await removeComment({\n        id: httpRequest.params.id\n      });\n      return {\n        headers,\n        statusCode: deleted.deletedCount === 0 ? 404 : 200,\n        body: {\n          deleted\n        }\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers,\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlbGV0ZS1jb21tZW50LmpzIl0sIm5hbWVzIjpbIm1ha2VEZWxldGVDb21tZW50IiwicmVtb3ZlQ29tbWVudCIsImRlbGV0ZUNvbW1lbnQiLCJodHRwUmVxdWVzdCIsImhlYWRlcnMiLCJkZWxldGVkIiwiaWQiLCJwYXJhbXMiLCJzdGF0dXNDb2RlIiwiZGVsZXRlZENvdW50IiwiYm9keSIsImUiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWUsU0FBU0EsaUJBQVQsQ0FBNEI7QUFBRUMsRUFBQUE7QUFBRixDQUE1QixFQUErQztBQUM1RCxTQUFPLGVBQWVDLGFBQWYsQ0FBOEJDLFdBQTlCLEVBQTJDO0FBQ2hELFVBQU1DLE9BQU8sR0FBRztBQUNkLHNCQUFnQjtBQURGLEtBQWhCOztBQUdBLFFBQUk7QUFDRixZQUFNQyxPQUFPLEdBQUcsTUFBTUosYUFBYSxDQUFDO0FBQUVLLFFBQUFBLEVBQUUsRUFBRUgsV0FBVyxDQUFDSSxNQUFaLENBQW1CRDtBQUF6QixPQUFELENBQW5DO0FBQ0EsYUFBTztBQUNMRixRQUFBQSxPQURLO0FBRUxJLFFBQUFBLFVBQVUsRUFBRUgsT0FBTyxDQUFDSSxZQUFSLEtBQXlCLENBQXpCLEdBQTZCLEdBQTdCLEdBQW1DLEdBRjFDO0FBR0xDLFFBQUFBLElBQUksRUFBRTtBQUFFTCxVQUFBQTtBQUFGO0FBSEQsT0FBUDtBQUtELEtBUEQsQ0FPRSxPQUFPTSxDQUFQLEVBQVU7QUFDVjtBQUNBQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsQ0FBWjtBQUNBLGFBQU87QUFDTFAsUUFBQUEsT0FESztBQUVMSSxRQUFBQSxVQUFVLEVBQUUsR0FGUDtBQUdMRSxRQUFBQSxJQUFJLEVBQUU7QUFDSkksVUFBQUEsS0FBSyxFQUFFSCxDQUFDLENBQUNJO0FBREw7QUFIRCxPQUFQO0FBT0Q7QUFDRixHQXRCRDtBQXVCRCIsInNvdXJjZVJvb3QiOiJEOlxcU29ma2FVXFw2Lk5vZGVKc1xcNC5hcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGNvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZURlbGV0ZUNvbW1lbnQgKHsgcmVtb3ZlQ29tbWVudCB9KSB7XHJcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNvbW1lbnQgKGh0dHBSZXF1ZXN0KSB7XHJcbiAgICBjb25zdCBoZWFkZXJzID0ge1xyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkZWxldGVkID0gYXdhaXQgcmVtb3ZlQ29tbWVudCh7IGlkOiBodHRwUmVxdWVzdC5wYXJhbXMuaWQgfSlcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFkZXJzLFxyXG4gICAgICAgIHN0YXR1c0NvZGU6IGRlbGV0ZWQuZGVsZXRlZENvdW50ID09PSAwID8gNDA0IDogMjAwLFxyXG4gICAgICAgIGJvZHk6IHsgZGVsZXRlZCB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgLy8gVE9ETzogRXJyb3IgbG9nZ2luZ1xyXG4gICAgICBjb25zb2xlLmxvZyhlKVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGhlYWRlcnMsXHJcbiAgICAgICAgc3RhdHVzQ29kZTogNDAwLFxyXG4gICAgICAgIGJvZHk6IHtcclxuICAgICAgICAgIGVycm9yOiBlLm1lc3NhZ2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "delete-comment.js"
      ],
      "names": [
        "makeDeleteComment",
        "removeComment",
        "deleteComment",
        "httpRequest",
        "headers",
        "deleted",
        "id",
        "params",
        "statusCode",
        "deletedCount",
        "body",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,iBAAT,CAA4B;AAAEC,EAAAA;AAAF,CAA5B,EAA+C;AAC5D,SAAO,eAAeC,aAAf,CAA8BC,WAA9B,EAA2C;AAChD,UAAMC,OAAO,GAAG;AACd,sBAAgB;AADF,KAAhB;;AAGA,QAAI;AACF,YAAMC,OAAO,GAAG,MAAMJ,aAAa,CAAC;AAAEK,QAAAA,EAAE,EAAEH,WAAW,CAACI,MAAZ,CAAmBD;AAAzB,OAAD,CAAnC;AACA,aAAO;AACLF,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAEH,OAAO,CAACI,YAAR,KAAyB,CAAzB,GAA6B,GAA7B,GAAmC,GAF1C;AAGLC,QAAAA,IAAI,EAAE;AAAEL,UAAAA;AAAF;AAHD,OAAP;AAKD,KAPD,CAOE,OAAOM,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,aAAO;AACLP,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLE,QAAAA,IAAI,EAAE;AACJI,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AAHD,OAAP;AAOD;AACF,GAtBD;AAuBD",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default function makeDeleteComment ({ removeComment }) {\r\n  return async function deleteComment (httpRequest) {\r\n    const headers = {\r\n      'Content-Type': 'application/json'\r\n    }\r\n    try {\r\n      const deleted = await removeComment({ id: httpRequest.params.id })\r\n      return {\r\n        headers,\r\n        statusCode: deleted.deletedCount === 0 ? 404 : 200,\r\n        body: { deleted }\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n      return {\r\n        headers,\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\get-comments.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-comments.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-comments.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\get-comments.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "get-comments.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeGetComments;\n\nfunction makeGetComments({\n  listComments\n}) {\n  return async function getComments(httpRequest) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n\n    try {\n      const postComments = await listComments({\n        postId: httpRequest.query.postId\n      });\n      return {\n        headers,\n        statusCode: 200,\n        body: postComments\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers,\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldC1jb21tZW50cy5qcyJdLCJuYW1lcyI6WyJtYWtlR2V0Q29tbWVudHMiLCJsaXN0Q29tbWVudHMiLCJnZXRDb21tZW50cyIsImh0dHBSZXF1ZXN0IiwiaGVhZGVycyIsInBvc3RDb21tZW50cyIsInBvc3RJZCIsInF1ZXJ5Iiwic3RhdHVzQ29kZSIsImJvZHkiLCJlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGVBQVQsQ0FBMEI7QUFBRUMsRUFBQUE7QUFBRixDQUExQixFQUE0QztBQUN6RCxTQUFPLGVBQWVDLFdBQWYsQ0FBNEJDLFdBQTVCLEVBQXlDO0FBQzlDLFVBQU1DLE9BQU8sR0FBRztBQUNkLHNCQUFnQjtBQURGLEtBQWhCOztBQUdBLFFBQUk7QUFDRixZQUFNQyxZQUFZLEdBQUcsTUFBTUosWUFBWSxDQUFDO0FBQ3RDSyxRQUFBQSxNQUFNLEVBQUVILFdBQVcsQ0FBQ0ksS0FBWixDQUFrQkQ7QUFEWSxPQUFELENBQXZDO0FBR0EsYUFBTztBQUNMRixRQUFBQSxPQURLO0FBRUxJLFFBQUFBLFVBQVUsRUFBRSxHQUZQO0FBR0xDLFFBQUFBLElBQUksRUFBRUo7QUFIRCxPQUFQO0FBS0QsS0FURCxDQVNFLE9BQU9LLENBQVAsRUFBVTtBQUNWO0FBQ0FDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixDQUFaO0FBQ0EsYUFBTztBQUNMTixRQUFBQSxPQURLO0FBRUxJLFFBQUFBLFVBQVUsRUFBRSxHQUZQO0FBR0xDLFFBQUFBLElBQUksRUFBRTtBQUNKSSxVQUFBQSxLQUFLLEVBQUVILENBQUMsQ0FBQ0k7QUFETDtBQUhELE9BQVA7QUFPRDtBQUNGLEdBeEJEO0FBeUJEIiwic291cmNlUm9vdCI6IkQ6XFxTb2ZrYVVcXDYuTm9kZUpzXFw0LmFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlR2V0Q29tbWVudHMgKHsgbGlzdENvbW1lbnRzIH0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gZ2V0Q29tbWVudHMgKGh0dHBSZXF1ZXN0KSB7XHJcbiAgICBjb25zdCBoZWFkZXJzID0ge1xyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBwb3N0Q29tbWVudHMgPSBhd2FpdCBsaXN0Q29tbWVudHMoe1xyXG4gICAgICAgIHBvc3RJZDogaHR0cFJlcXVlc3QucXVlcnkucG9zdElkXHJcbiAgICAgIH0pXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVycyxcclxuICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXHJcbiAgICAgICAgYm9keTogcG9zdENvbW1lbnRzXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgLy8gVE9ETzogRXJyb3IgbG9nZ2luZ1xyXG4gICAgICBjb25zb2xlLmxvZyhlKVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGhlYWRlcnMsXHJcbiAgICAgICAgc3RhdHVzQ29kZTogNDAwLFxyXG4gICAgICAgIGJvZHk6IHtcclxuICAgICAgICAgIGVycm9yOiBlLm1lc3NhZ2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "get-comments.js"
      ],
      "names": [
        "makeGetComments",
        "listComments",
        "getComments",
        "httpRequest",
        "headers",
        "postComments",
        "postId",
        "query",
        "statusCode",
        "body",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,eAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAA4C;AACzD,SAAO,eAAeC,WAAf,CAA4BC,WAA5B,EAAyC;AAC9C,UAAMC,OAAO,GAAG;AACd,sBAAgB;AADF,KAAhB;;AAGA,QAAI;AACF,YAAMC,YAAY,GAAG,MAAMJ,YAAY,CAAC;AACtCK,QAAAA,MAAM,EAAEH,WAAW,CAACI,KAAZ,CAAkBD;AADY,OAAD,CAAvC;AAGA,aAAO;AACLF,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLC,QAAAA,IAAI,EAAEJ;AAHD,OAAP;AAKD,KATD,CASE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,aAAO;AACLN,QAAAA,OADK;AAELI,QAAAA,UAAU,EAAE,GAFP;AAGLC,QAAAA,IAAI,EAAE;AACJI,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AAHD,OAAP;AAOD;AACF,GAxBD;AAyBD",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default function makeGetComments ({ listComments }) {\r\n  return async function getComments (httpRequest) {\r\n    const headers = {\r\n      'Content-Type': 'application/json'\r\n    }\r\n    try {\r\n      const postComments = await listComments({\r\n        postId: httpRequest.query.postId\r\n      })\r\n      return {\r\n        headers,\r\n        statusCode: 200,\r\n        body: postComments\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n      return {\r\n        headers,\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\post-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\post-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\post-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\post-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "post-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makePostComment;\n\nfunction makePostComment({\n  addComment\n}) {\n  return async function postComment(httpRequest) {\n    try {\n      const {\n        source = {},\n        ...commentInfo\n      } = httpRequest.body;\n      source.ip = httpRequest.ip;\n      source.browser = httpRequest.headers['User-Agent'];\n\n      if (httpRequest.headers['Referer']) {\n        source.referrer = httpRequest.headers['Referer'];\n      }\n\n      const posted = await addComment({ ...commentInfo,\n        source\n      });\n      return {\n        headers: {\n          'Content-Type': 'application/json',\n          'Last-Modified': new Date(posted.modifiedOn).toUTCString()\n        },\n        statusCode: 201,\n        body: {\n          posted\n        }\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n      return {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QtY29tbWVudC5qcyJdLCJuYW1lcyI6WyJtYWtlUG9zdENvbW1lbnQiLCJhZGRDb21tZW50IiwicG9zdENvbW1lbnQiLCJodHRwUmVxdWVzdCIsInNvdXJjZSIsImNvbW1lbnRJbmZvIiwiYm9keSIsImlwIiwiYnJvd3NlciIsImhlYWRlcnMiLCJyZWZlcnJlciIsInBvc3RlZCIsIkRhdGUiLCJtb2RpZmllZE9uIiwidG9VVENTdHJpbmciLCJzdGF0dXNDb2RlIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBZSxTQUFTQSxlQUFULENBQTBCO0FBQUVDLEVBQUFBO0FBQUYsQ0FBMUIsRUFBMEM7QUFDdkQsU0FBTyxlQUFlQyxXQUFmLENBQTRCQyxXQUE1QixFQUF5QztBQUM5QyxRQUFJO0FBQ0YsWUFBTTtBQUFFQyxRQUFBQSxNQUFNLEdBQUcsRUFBWDtBQUFlLFdBQUdDO0FBQWxCLFVBQWtDRixXQUFXLENBQUNHLElBQXBEO0FBQ0FGLE1BQUFBLE1BQU0sQ0FBQ0csRUFBUCxHQUFZSixXQUFXLENBQUNJLEVBQXhCO0FBQ0FILE1BQUFBLE1BQU0sQ0FBQ0ksT0FBUCxHQUFpQkwsV0FBVyxDQUFDTSxPQUFaLENBQW9CLFlBQXBCLENBQWpCOztBQUNBLFVBQUlOLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFKLEVBQW9DO0FBQ2xDTCxRQUFBQSxNQUFNLENBQUNNLFFBQVAsR0FBa0JQLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFsQjtBQUNEOztBQUNELFlBQU1FLE1BQU0sR0FBRyxNQUFNVixVQUFVLENBQUMsRUFDOUIsR0FBR0ksV0FEMkI7QUFFOUJELFFBQUFBO0FBRjhCLE9BQUQsQ0FBL0I7QUFJQSxhQUFPO0FBQ0xLLFFBQUFBLE9BQU8sRUFBRTtBQUNQLDBCQUFnQixrQkFEVDtBQUVQLDJCQUFpQixJQUFJRyxJQUFKLENBQVNELE1BQU0sQ0FBQ0UsVUFBaEIsRUFBNEJDLFdBQTVCO0FBRlYsU0FESjtBQUtMQyxRQUFBQSxVQUFVLEVBQUUsR0FMUDtBQU1MVCxRQUFBQSxJQUFJLEVBQUU7QUFBRUssVUFBQUE7QUFBRjtBQU5ELE9BQVA7QUFRRCxLQW5CRCxDQW1CRSxPQUFPSyxDQUFQLEVBQVU7QUFDVjtBQUNBQyxNQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsQ0FBWjtBQUVBLGFBQU87QUFDTFAsUUFBQUEsT0FBTyxFQUFFO0FBQ1AsMEJBQWdCO0FBRFQsU0FESjtBQUlMTSxRQUFBQSxVQUFVLEVBQUUsR0FKUDtBQUtMVCxRQUFBQSxJQUFJLEVBQUU7QUFDSmEsVUFBQUEsS0FBSyxFQUFFSCxDQUFDLENBQUNJO0FBREw7QUFMRCxPQUFQO0FBU0Q7QUFDRixHQWxDRDtBQW1DRCIsInNvdXJjZVJvb3QiOiJEOlxcU29ma2FVXFw2Lk5vZGVKc1xcNC5hcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGNvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZVBvc3RDb21tZW50ICh7IGFkZENvbW1lbnQgfSkge1xyXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBwb3N0Q29tbWVudCAoaHR0cFJlcXVlc3QpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgc291cmNlID0ge30sIC4uLmNvbW1lbnRJbmZvIH0gPSBodHRwUmVxdWVzdC5ib2R5XHJcbiAgICAgIHNvdXJjZS5pcCA9IGh0dHBSZXF1ZXN0LmlwXHJcbiAgICAgIHNvdXJjZS5icm93c2VyID0gaHR0cFJlcXVlc3QuaGVhZGVyc1snVXNlci1BZ2VudCddXHJcbiAgICAgIGlmIChodHRwUmVxdWVzdC5oZWFkZXJzWydSZWZlcmVyJ10pIHtcclxuICAgICAgICBzb3VyY2UucmVmZXJyZXIgPSBodHRwUmVxdWVzdC5oZWFkZXJzWydSZWZlcmVyJ11cclxuICAgICAgfVxyXG4gICAgICBjb25zdCBwb3N0ZWQgPSBhd2FpdCBhZGRDb21tZW50KHtcclxuICAgICAgICAuLi5jb21tZW50SW5mbyxcclxuICAgICAgICBzb3VyY2VcclxuICAgICAgfSlcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgJ0xhc3QtTW9kaWZpZWQnOiBuZXcgRGF0ZShwb3N0ZWQubW9kaWZpZWRPbikudG9VVENTdHJpbmcoKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RhdHVzQ29kZTogMjAxLFxyXG4gICAgICAgIGJvZHk6IHsgcG9zdGVkIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAvLyBUT0RPOiBFcnJvciBsb2dnaW5nXHJcbiAgICAgIGNvbnNvbGUubG9nKGUpXHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN0YXR1c0NvZGU6IDQwMCxcclxuICAgICAgICBib2R5OiB7XHJcbiAgICAgICAgICBlcnJvcjogZS5tZXNzYWdlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "post-comment.js"
      ],
      "names": [
        "makePostComment",
        "addComment",
        "postComment",
        "httpRequest",
        "source",
        "commentInfo",
        "body",
        "ip",
        "browser",
        "headers",
        "referrer",
        "posted",
        "Date",
        "modifiedOn",
        "toUTCString",
        "statusCode",
        "e",
        "console",
        "log",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,eAAT,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAA0C;AACvD,SAAO,eAAeC,WAAf,CAA4BC,WAA5B,EAAyC;AAC9C,QAAI;AACF,YAAM;AAAEC,QAAAA,MAAM,GAAG,EAAX;AAAe,WAAGC;AAAlB,UAAkCF,WAAW,CAACG,IAApD;AACAF,MAAAA,MAAM,CAACG,EAAP,GAAYJ,WAAW,CAACI,EAAxB;AACAH,MAAAA,MAAM,CAACI,OAAP,GAAiBL,WAAW,CAACM,OAAZ,CAAoB,YAApB,CAAjB;;AACA,UAAIN,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAJ,EAAoC;AAClCL,QAAAA,MAAM,CAACM,QAAP,GAAkBP,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAlB;AACD;;AACD,YAAME,MAAM,GAAG,MAAMV,UAAU,CAAC,EAC9B,GAAGI,WAD2B;AAE9BD,QAAAA;AAF8B,OAAD,CAA/B;AAIA,aAAO;AACLK,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,2BAAiB,IAAIG,IAAJ,CAASD,MAAM,CAACE,UAAhB,EAA4BC,WAA5B;AAFV,SADJ;AAKLC,QAAAA,UAAU,EAAE,GALP;AAMLT,QAAAA,IAAI,EAAE;AAAEK,UAAAA;AAAF;AAND,OAAP;AAQD,KAnBD,CAmBE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AAEA,aAAO;AACLP,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SADJ;AAILM,QAAAA,UAAU,EAAE,GAJP;AAKLT,QAAAA,IAAI,EAAE;AACJa,UAAAA,KAAK,EAAEH,CAAC,CAACI;AADL;AALD,OAAP;AASD;AACF,GAlCD;AAmCD",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default function makePostComment ({ addComment }) {\r\n  return async function postComment (httpRequest) {\r\n    try {\r\n      const { source = {}, ...commentInfo } = httpRequest.body\r\n      source.ip = httpRequest.ip\r\n      source.browser = httpRequest.headers['User-Agent']\r\n      if (httpRequest.headers['Referer']) {\r\n        source.referrer = httpRequest.headers['Referer']\r\n      }\r\n      const posted = await addComment({\r\n        ...commentInfo,\r\n        source\r\n      })\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Last-Modified': new Date(posted.modifiedOn).toUTCString()\r\n        },\r\n        statusCode: 201,\r\n        body: { posted }\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\patch-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\patch-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\patch-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\patch-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "patch-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makePatchComment;\n\nfunction makePatchComment({\n  editComment\n}) {\n  return async function patchComment(httpRequest) {\n    try {\n      const {\n        source = {},\n        ...commentInfo\n      } = httpRequest.body;\n      source.ip = httpRequest.ip;\n      source.browser = httpRequest.headers['User-Agent'];\n\n      if (httpRequest.headers['Referer']) {\n        source.referrer = httpRequest.headers['Referer'];\n      }\n\n      const toEdit = { ...commentInfo,\n        source,\n        id: httpRequest.params.id\n      };\n      const patched = await editComment(toEdit);\n      return {\n        headers: {\n          'Content-Type': 'application/json',\n          'Last-Modified': new Date(patched.modifiedOn).toUTCString()\n        },\n        statusCode: 200,\n        body: {\n          patched\n        }\n      };\n    } catch (e) {\n      // TODO: Error logging\n      console.log(e);\n\n      if (e.name === 'RangeError') {\n        return {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          statusCode: 404,\n          body: {\n            error: e.message\n          }\n        };\n      }\n\n      return {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        statusCode: 400,\n        body: {\n          error: e.message\n        }\n      };\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhdGNoLWNvbW1lbnQuanMiXSwibmFtZXMiOlsibWFrZVBhdGNoQ29tbWVudCIsImVkaXRDb21tZW50IiwicGF0Y2hDb21tZW50IiwiaHR0cFJlcXVlc3QiLCJzb3VyY2UiLCJjb21tZW50SW5mbyIsImJvZHkiLCJpcCIsImJyb3dzZXIiLCJoZWFkZXJzIiwicmVmZXJyZXIiLCJ0b0VkaXQiLCJpZCIsInBhcmFtcyIsInBhdGNoZWQiLCJEYXRlIiwibW9kaWZpZWRPbiIsInRvVVRDU3RyaW5nIiwic3RhdHVzQ29kZSIsImUiLCJjb25zb2xlIiwibG9nIiwibmFtZSIsImVycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFlLFNBQVNBLGdCQUFULENBQTJCO0FBQUVDLEVBQUFBO0FBQUYsQ0FBM0IsRUFBNEM7QUFDekQsU0FBTyxlQUFlQyxZQUFmLENBQTZCQyxXQUE3QixFQUEwQztBQUMvQyxRQUFJO0FBQ0YsWUFBTTtBQUFFQyxRQUFBQSxNQUFNLEdBQUcsRUFBWDtBQUFlLFdBQUdDO0FBQWxCLFVBQWtDRixXQUFXLENBQUNHLElBQXBEO0FBQ0FGLE1BQUFBLE1BQU0sQ0FBQ0csRUFBUCxHQUFZSixXQUFXLENBQUNJLEVBQXhCO0FBQ0FILE1BQUFBLE1BQU0sQ0FBQ0ksT0FBUCxHQUFpQkwsV0FBVyxDQUFDTSxPQUFaLENBQW9CLFlBQXBCLENBQWpCOztBQUNBLFVBQUlOLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFKLEVBQW9DO0FBQ2xDTCxRQUFBQSxNQUFNLENBQUNNLFFBQVAsR0FBa0JQLFdBQVcsQ0FBQ00sT0FBWixDQUFvQixTQUFwQixDQUFsQjtBQUNEOztBQUNELFlBQU1FLE1BQU0sR0FBRyxFQUNiLEdBQUdOLFdBRFU7QUFFYkQsUUFBQUEsTUFGYTtBQUdiUSxRQUFBQSxFQUFFLEVBQUVULFdBQVcsQ0FBQ1UsTUFBWixDQUFtQkQ7QUFIVixPQUFmO0FBS0EsWUFBTUUsT0FBTyxHQUFHLE1BQU1iLFdBQVcsQ0FBQ1UsTUFBRCxDQUFqQztBQUNBLGFBQU87QUFDTEYsUUFBQUEsT0FBTyxFQUFFO0FBQ1AsMEJBQWdCLGtCQURUO0FBRVAsMkJBQWlCLElBQUlNLElBQUosQ0FBU0QsT0FBTyxDQUFDRSxVQUFqQixFQUE2QkMsV0FBN0I7QUFGVixTQURKO0FBS0xDLFFBQUFBLFVBQVUsRUFBRSxHQUxQO0FBTUxaLFFBQUFBLElBQUksRUFBRTtBQUFFUSxVQUFBQTtBQUFGO0FBTkQsT0FBUDtBQVFELEtBckJELENBcUJFLE9BQU9LLENBQVAsRUFBVTtBQUNWO0FBQ0FDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixDQUFaOztBQUNBLFVBQUlBLENBQUMsQ0FBQ0csSUFBRixLQUFXLFlBQWYsRUFBNkI7QUFDM0IsZUFBTztBQUNMYixVQUFBQSxPQUFPLEVBQUU7QUFDUCw0QkFBZ0I7QUFEVCxXQURKO0FBSUxTLFVBQUFBLFVBQVUsRUFBRSxHQUpQO0FBS0xaLFVBQUFBLElBQUksRUFBRTtBQUNKaUIsWUFBQUEsS0FBSyxFQUFFSixDQUFDLENBQUNLO0FBREw7QUFMRCxTQUFQO0FBU0Q7O0FBQ0QsYUFBTztBQUNMZixRQUFBQSxPQUFPLEVBQUU7QUFDUCwwQkFBZ0I7QUFEVCxTQURKO0FBSUxTLFFBQUFBLFVBQVUsRUFBRSxHQUpQO0FBS0xaLFFBQUFBLElBQUksRUFBRTtBQUNKaUIsVUFBQUEsS0FBSyxFQUFFSixDQUFDLENBQUNLO0FBREw7QUFMRCxPQUFQO0FBU0Q7QUFDRixHQTlDRDtBQStDRCIsInNvdXJjZVJvb3QiOiJEOlxcU29ma2FVXFw2Lk5vZGVKc1xcNC5hcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGNvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZVBhdGNoQ29tbWVudCAoeyBlZGl0Q29tbWVudCB9KSB7XHJcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHBhdGNoQ29tbWVudCAoaHR0cFJlcXVlc3QpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgc291cmNlID0ge30sIC4uLmNvbW1lbnRJbmZvIH0gPSBodHRwUmVxdWVzdC5ib2R5XHJcbiAgICAgIHNvdXJjZS5pcCA9IGh0dHBSZXF1ZXN0LmlwXHJcbiAgICAgIHNvdXJjZS5icm93c2VyID0gaHR0cFJlcXVlc3QuaGVhZGVyc1snVXNlci1BZ2VudCddXHJcbiAgICAgIGlmIChodHRwUmVxdWVzdC5oZWFkZXJzWydSZWZlcmVyJ10pIHtcclxuICAgICAgICBzb3VyY2UucmVmZXJyZXIgPSBodHRwUmVxdWVzdC5oZWFkZXJzWydSZWZlcmVyJ11cclxuICAgICAgfVxyXG4gICAgICBjb25zdCB0b0VkaXQgPSB7XHJcbiAgICAgICAgLi4uY29tbWVudEluZm8sXHJcbiAgICAgICAgc291cmNlLFxyXG4gICAgICAgIGlkOiBodHRwUmVxdWVzdC5wYXJhbXMuaWRcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBwYXRjaGVkID0gYXdhaXQgZWRpdENvbW1lbnQodG9FZGl0KVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAnTGFzdC1Nb2RpZmllZCc6IG5ldyBEYXRlKHBhdGNoZWQubW9kaWZpZWRPbikudG9VVENTdHJpbmcoKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxyXG4gICAgICAgIGJvZHk6IHsgcGF0Y2hlZCB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgLy8gVE9ETzogRXJyb3IgbG9nZ2luZ1xyXG4gICAgICBjb25zb2xlLmxvZyhlKVxyXG4gICAgICBpZiAoZS5uYW1lID09PSAnUmFuZ2VFcnJvcicpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgc3RhdHVzQ29kZTogNDA0LFxyXG4gICAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgICBlcnJvcjogZS5tZXNzYWdlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RhdHVzQ29kZTogNDAwLFxyXG4gICAgICAgIGJvZHk6IHtcclxuICAgICAgICAgIGVycm9yOiBlLm1lc3NhZ2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "patch-comment.js"
      ],
      "names": [
        "makePatchComment",
        "editComment",
        "patchComment",
        "httpRequest",
        "source",
        "commentInfo",
        "body",
        "ip",
        "browser",
        "headers",
        "referrer",
        "toEdit",
        "id",
        "params",
        "patched",
        "Date",
        "modifiedOn",
        "toUTCString",
        "statusCode",
        "e",
        "console",
        "log",
        "name",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAe,SAASA,gBAAT,CAA2B;AAAEC,EAAAA;AAAF,CAA3B,EAA4C;AACzD,SAAO,eAAeC,YAAf,CAA6BC,WAA7B,EAA0C;AAC/C,QAAI;AACF,YAAM;AAAEC,QAAAA,MAAM,GAAG,EAAX;AAAe,WAAGC;AAAlB,UAAkCF,WAAW,CAACG,IAApD;AACAF,MAAAA,MAAM,CAACG,EAAP,GAAYJ,WAAW,CAACI,EAAxB;AACAH,MAAAA,MAAM,CAACI,OAAP,GAAiBL,WAAW,CAACM,OAAZ,CAAoB,YAApB,CAAjB;;AACA,UAAIN,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAJ,EAAoC;AAClCL,QAAAA,MAAM,CAACM,QAAP,GAAkBP,WAAW,CAACM,OAAZ,CAAoB,SAApB,CAAlB;AACD;;AACD,YAAME,MAAM,GAAG,EACb,GAAGN,WADU;AAEbD,QAAAA,MAFa;AAGbQ,QAAAA,EAAE,EAAET,WAAW,CAACU,MAAZ,CAAmBD;AAHV,OAAf;AAKA,YAAME,OAAO,GAAG,MAAMb,WAAW,CAACU,MAAD,CAAjC;AACA,aAAO;AACLF,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,2BAAiB,IAAIM,IAAJ,CAASD,OAAO,CAACE,UAAjB,EAA6BC,WAA7B;AAFV,SADJ;AAKLC,QAAAA,UAAU,EAAE,GALP;AAMLZ,QAAAA,IAAI,EAAE;AAAEQ,UAAAA;AAAF;AAND,OAAP;AAQD,KArBD,CAqBE,OAAOK,CAAP,EAAU;AACV;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;;AACA,UAAIA,CAAC,CAACG,IAAF,KAAW,YAAf,EAA6B;AAC3B,eAAO;AACLb,UAAAA,OAAO,EAAE;AACP,4BAAgB;AADT,WADJ;AAILS,UAAAA,UAAU,EAAE,GAJP;AAKLZ,UAAAA,IAAI,EAAE;AACJiB,YAAAA,KAAK,EAAEJ,CAAC,CAACK;AADL;AALD,SAAP;AASD;;AACD,aAAO;AACLf,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SADJ;AAILS,QAAAA,UAAU,EAAE,GAJP;AAKLZ,QAAAA,IAAI,EAAE;AACJiB,UAAAA,KAAK,EAAEJ,CAAC,CAACK;AADL;AALD,OAAP;AASD;AACF,GA9CD;AA+CD",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default function makePatchComment ({ editComment }) {\r\n  return async function patchComment (httpRequest) {\r\n    try {\r\n      const { source = {}, ...commentInfo } = httpRequest.body\r\n      source.ip = httpRequest.ip\r\n      source.browser = httpRequest.headers['User-Agent']\r\n      if (httpRequest.headers['Referer']) {\r\n        source.referrer = httpRequest.headers['Referer']\r\n      }\r\n      const toEdit = {\r\n        ...commentInfo,\r\n        source,\r\n        id: httpRequest.params.id\r\n      }\r\n      const patched = await editComment(toEdit)\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Last-Modified': new Date(patched.modifiedOn).toUTCString()\r\n        },\r\n        statusCode: 200,\r\n        body: { patched }\r\n      }\r\n    } catch (e) {\r\n      // TODO: Error logging\r\n      console.log(e)\r\n      if (e.name === 'RangeError') {\r\n        return {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          statusCode: 404,\r\n          body: {\r\n            error: e.message\r\n          }\r\n        }\r\n      }\r\n      return {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        statusCode: 400,\r\n        body: {\r\n          error: e.message\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\not-found.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\not-found.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\not-found.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\not-found.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "not-found.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = notFound;\n\nasync function notFound() {\n  return {\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: {\n      error: 'Not found.'\n    },\n    statusCode: 404\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdC1mb3VuZC5qcyJdLCJuYW1lcyI6WyJub3RGb3VuZCIsImhlYWRlcnMiLCJib2R5IiwiZXJyb3IiLCJzdGF0dXNDb2RlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWUsZUFBZUEsUUFBZixHQUEyQjtBQUN4QyxTQUFPO0FBQ0xDLElBQUFBLE9BQU8sRUFBRTtBQUNQLHNCQUFnQjtBQURULEtBREo7QUFJTEMsSUFBQUEsSUFBSSxFQUFFO0FBQUVDLE1BQUFBLEtBQUssRUFBRTtBQUFULEtBSkQ7QUFLTEMsSUFBQUEsVUFBVSxFQUFFO0FBTFAsR0FBUDtBQU9EIiwic291cmNlUm9vdCI6IkQ6XFxTb2ZrYVVcXDYuTm9kZUpzXFw0LmFwbGljYWNpb25FbXByZXNhcmlhbE5vZGVFeHByZXNzTW9uZ29cXHNyY1xcY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBub3RGb3VuZCAoKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgfSxcclxuICAgIGJvZHk6IHsgZXJyb3I6ICdOb3QgZm91bmQuJyB9LFxyXG4gICAgc3RhdHVzQ29kZTogNDA0XHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "not-found.js"
      ],
      "names": [
        "notFound",
        "headers",
        "body",
        "error",
        "statusCode"
      ],
      "mappings": ";;;;;;;AAAe,eAAeA,QAAf,GAA2B;AACxC,SAAO;AACLC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KADJ;AAILC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAJD;AAKLC,IAAAA,UAAU,EAAE;AALP,GAAP;AAOD",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "export default async function notFound () {\r\n  return {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: { error: 'Not found.' },\r\n    statusCode: 404\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\express-callback\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\express-callback\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\express-callback",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\express-callback\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\express-callback\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\express-callback\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\express-callback",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nmodule.exports = function makeExpressCallback(controller) {\n  return (req, res) => {\n    const httpRequest = {\n      body: req.body,\n      query: req.query,\n      params: req.params,\n      ip: req.ip,\n      method: req.method,\n      path: req.path,\n      headers: {\n        'Content-Type': req.get('Content-Type'),\n        Referer: req.get('referer'),\n        'User-Agent': req.get('User-Agent')\n      }\n    };\n    controller(httpRequest).then(httpResponse => {\n      if (httpResponse.headers) {\n        res.set(httpResponse.headers);\n      }\n\n      res.type('json');\n      res.status(httpResponse.statusCode).send(httpResponse.body);\n    }).catch(e => res.status(500).send({\n      error: 'An unkown error occurred.'\n    }));\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJtYWtlRXhwcmVzc0NhbGxiYWNrIiwiY29udHJvbGxlciIsInJlcSIsInJlcyIsImh0dHBSZXF1ZXN0IiwiYm9keSIsInF1ZXJ5IiwicGFyYW1zIiwiaXAiLCJtZXRob2QiLCJwYXRoIiwiaGVhZGVycyIsImdldCIsIlJlZmVyZXIiLCJ0aGVuIiwiaHR0cFJlc3BvbnNlIiwic2V0IiwidHlwZSIsInN0YXR1cyIsInN0YXR1c0NvZGUiLCJzZW5kIiwiY2F0Y2giLCJlIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixTQUFTQyxtQkFBVCxDQUE4QkMsVUFBOUIsRUFBMEM7QUFDekQsU0FBTyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUNuQixVQUFNQyxXQUFXLEdBQUc7QUFDbEJDLE1BQUFBLElBQUksRUFBRUgsR0FBRyxDQUFDRyxJQURRO0FBRWxCQyxNQUFBQSxLQUFLLEVBQUVKLEdBQUcsQ0FBQ0ksS0FGTztBQUdsQkMsTUFBQUEsTUFBTSxFQUFFTCxHQUFHLENBQUNLLE1BSE07QUFJbEJDLE1BQUFBLEVBQUUsRUFBRU4sR0FBRyxDQUFDTSxFQUpVO0FBS2xCQyxNQUFBQSxNQUFNLEVBQUVQLEdBQUcsQ0FBQ08sTUFMTTtBQU1sQkMsTUFBQUEsSUFBSSxFQUFFUixHQUFHLENBQUNRLElBTlE7QUFPbEJDLE1BQUFBLE9BQU8sRUFBRTtBQUNQLHdCQUFnQlQsR0FBRyxDQUFDVSxHQUFKLENBQVEsY0FBUixDQURUO0FBRVBDLFFBQUFBLE9BQU8sRUFBRVgsR0FBRyxDQUFDVSxHQUFKLENBQVEsU0FBUixDQUZGO0FBR1Asc0JBQWNWLEdBQUcsQ0FBQ1UsR0FBSixDQUFRLFlBQVI7QUFIUDtBQVBTLEtBQXBCO0FBYUFYLElBQUFBLFVBQVUsQ0FBQ0csV0FBRCxDQUFWLENBQ0dVLElBREgsQ0FDUUMsWUFBWSxJQUFJO0FBQ3BCLFVBQUlBLFlBQVksQ0FBQ0osT0FBakIsRUFBMEI7QUFDeEJSLFFBQUFBLEdBQUcsQ0FBQ2EsR0FBSixDQUFRRCxZQUFZLENBQUNKLE9BQXJCO0FBQ0Q7O0FBQ0RSLE1BQUFBLEdBQUcsQ0FBQ2MsSUFBSixDQUFTLE1BQVQ7QUFDQWQsTUFBQUEsR0FBRyxDQUFDZSxNQUFKLENBQVdILFlBQVksQ0FBQ0ksVUFBeEIsRUFBb0NDLElBQXBDLENBQXlDTCxZQUFZLENBQUNWLElBQXREO0FBQ0QsS0FQSCxFQVFHZ0IsS0FSSCxDQVFTQyxDQUFDLElBQUluQixHQUFHLENBQUNlLE1BQUosQ0FBVyxHQUFYLEVBQWdCRSxJQUFoQixDQUFxQjtBQUFFRyxNQUFBQSxLQUFLLEVBQUU7QUFBVCxLQUFyQixDQVJkO0FBU0QsR0F2QkQ7QUF3QkQsQ0F6QkQiLCJzb3VyY2VSb290IjoiRDpcXFNvZmthVVxcNi5Ob2RlSnNcXDQuYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFxleHByZXNzLWNhbGxiYWNrIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYWtlRXhwcmVzc0NhbGxiYWNrIChjb250cm9sbGVyKSB7XHJcbiAgcmV0dXJuIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgaHR0cFJlcXVlc3QgPSB7XHJcbiAgICAgIGJvZHk6IHJlcS5ib2R5LFxyXG4gICAgICBxdWVyeTogcmVxLnF1ZXJ5LFxyXG4gICAgICBwYXJhbXM6IHJlcS5wYXJhbXMsXHJcbiAgICAgIGlwOiByZXEuaXAsXHJcbiAgICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcclxuICAgICAgcGF0aDogcmVxLnBhdGgsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogcmVxLmdldCgnQ29udGVudC1UeXBlJyksXHJcbiAgICAgICAgUmVmZXJlcjogcmVxLmdldCgncmVmZXJlcicpLFxyXG4gICAgICAgICdVc2VyLUFnZW50JzogcmVxLmdldCgnVXNlci1BZ2VudCcpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnRyb2xsZXIoaHR0cFJlcXVlc3QpXHJcbiAgICAgIC50aGVuKGh0dHBSZXNwb25zZSA9PiB7XHJcbiAgICAgICAgaWYgKGh0dHBSZXNwb25zZS5oZWFkZXJzKSB7XHJcbiAgICAgICAgICByZXMuc2V0KGh0dHBSZXNwb25zZS5oZWFkZXJzKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXMudHlwZSgnanNvbicpXHJcbiAgICAgICAgcmVzLnN0YXR1cyhodHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSkuc2VuZChodHRwUmVzcG9uc2UuYm9keSlcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGUgPT4gcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBlcnJvcjogJ0FuIHVua293biBlcnJvciBvY2N1cnJlZC4nIH0pKVxyXG4gIH1cclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "module",
        "exports",
        "makeExpressCallback",
        "controller",
        "req",
        "res",
        "httpRequest",
        "body",
        "query",
        "params",
        "ip",
        "method",
        "path",
        "headers",
        "get",
        "Referer",
        "then",
        "httpResponse",
        "set",
        "type",
        "status",
        "statusCode",
        "send",
        "catch",
        "e",
        "error"
      ],
      "mappings": ";;AAAAA,MAAM,CAACC,OAAP,GAAiB,SAASC,mBAAT,CAA8BC,UAA9B,EAA0C;AACzD,SAAO,CAACC,GAAD,EAAMC,GAAN,KAAc;AACnB,UAAMC,WAAW,GAAG;AAClBC,MAAAA,IAAI,EAAEH,GAAG,CAACG,IADQ;AAElBC,MAAAA,KAAK,EAAEJ,GAAG,CAACI,KAFO;AAGlBC,MAAAA,MAAM,EAAEL,GAAG,CAACK,MAHM;AAIlBC,MAAAA,EAAE,EAAEN,GAAG,CAACM,EAJU;AAKlBC,MAAAA,MAAM,EAAEP,GAAG,CAACO,MALM;AAMlBC,MAAAA,IAAI,EAAER,GAAG,CAACQ,IANQ;AAOlBC,MAAAA,OAAO,EAAE;AACP,wBAAgBT,GAAG,CAACU,GAAJ,CAAQ,cAAR,CADT;AAEPC,QAAAA,OAAO,EAAEX,GAAG,CAACU,GAAJ,CAAQ,SAAR,CAFF;AAGP,sBAAcV,GAAG,CAACU,GAAJ,CAAQ,YAAR;AAHP;AAPS,KAApB;AAaAX,IAAAA,UAAU,CAACG,WAAD,CAAV,CACGU,IADH,CACQC,YAAY,IAAI;AACpB,UAAIA,YAAY,CAACJ,OAAjB,EAA0B;AACxBR,QAAAA,GAAG,CAACa,GAAJ,CAAQD,YAAY,CAACJ,OAArB;AACD;;AACDR,MAAAA,GAAG,CAACc,IAAJ,CAAS,MAAT;AACAd,MAAAA,GAAG,CAACe,MAAJ,CAAWH,YAAY,CAACI,UAAxB,EAAoCC,IAApC,CAAyCL,YAAY,CAACV,IAAtD;AACD,KAPH,EAQGgB,KARH,CAQSC,CAAC,IAAInB,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB;AAAEG,MAAAA,KAAK,EAAE;AAAT,KAArB,CARd;AASD,GAvBD;AAwBD,CAzBD",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\express-callback",
      "sourcesContent": [
        "module.exports = function makeExpressCallback (controller) {\r\n  return (req, res) => {\r\n    const httpRequest = {\r\n      body: req.body,\r\n      query: req.query,\r\n      params: req.params,\r\n      ip: req.ip,\r\n      method: req.method,\r\n      path: req.path,\r\n      headers: {\r\n        'Content-Type': req.get('Content-Type'),\r\n        Referer: req.get('referer'),\r\n        'User-Agent': req.get('User-Agent')\r\n      }\r\n    }\r\n    controller(httpRequest)\r\n      .then(httpResponse => {\r\n        if (httpResponse.headers) {\r\n          res.set(httpResponse.headers)\r\n        }\r\n        res.type('json')\r\n        res.status(httpResponse.statusCode).send(httpResponse.body)\r\n      })\r\n      .catch(e => res.status(500).send({ error: 'An unkown error occurred.' }))\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\controllers\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"notFound\", {\n  enumerable: true,\n  get: function () {\n    return _notFound.default;\n  }\n});\nexports.patchComment = exports.postComment = exports.getComments = exports.deleteComment = exports.default = void 0;\n\nvar _useCases = require(\"../use-cases\");\n\nvar _deleteComment = _interopRequireDefault(require(\"./delete-comment\"));\n\nvar _getComments = _interopRequireDefault(require(\"./get-comments\"));\n\nvar _postComment = _interopRequireDefault(require(\"./post-comment\"));\n\nvar _patchComment = _interopRequireDefault(require(\"./patch-comment\"));\n\nvar _notFound = _interopRequireDefault(require(\"./not-found\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst deleteComment = (0, _deleteComment.default)({\n  removeComment: _useCases.removeComment\n});\nexports.deleteComment = deleteComment;\nconst getComments = (0, _getComments.default)({\n  listComments: _useCases.listComments\n});\nexports.getComments = getComments;\nconst postComment = (0, _postComment.default)({\n  addComment: _useCases.addComment\n});\nexports.postComment = postComment;\nconst patchComment = (0, _patchComment.default)({\n  editComment: _useCases.editComment\n});\nexports.patchComment = patchComment;\nconst commentController = Object.freeze({\n  deleteComment,\n  getComments,\n  notFound: _notFound.default,\n  postComment,\n  patchComment\n});\nvar _default = commentController;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRlbGV0ZUNvbW1lbnQiLCJyZW1vdmVDb21tZW50IiwiZ2V0Q29tbWVudHMiLCJsaXN0Q29tbWVudHMiLCJwb3N0Q29tbWVudCIsImFkZENvbW1lbnQiLCJwYXRjaENvbW1lbnQiLCJlZGl0Q29tbWVudCIsImNvbW1lbnRDb250cm9sbGVyIiwiT2JqZWN0IiwiZnJlZXplIiwibm90Rm91bmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFNQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLGFBQWEsR0FBRyw0QkFBa0I7QUFBRUMsRUFBQUEsYUFBYSxFQUFiQTtBQUFGLENBQWxCLENBQXRCOztBQUNBLE1BQU1DLFdBQVcsR0FBRywwQkFBZ0I7QUFDbENDLEVBQUFBLFlBQVksRUFBWkE7QUFEa0MsQ0FBaEIsQ0FBcEI7O0FBR0EsTUFBTUMsV0FBVyxHQUFHLDBCQUFnQjtBQUFFQyxFQUFBQSxVQUFVLEVBQVZBO0FBQUYsQ0FBaEIsQ0FBcEI7O0FBQ0EsTUFBTUMsWUFBWSxHQUFHLDJCQUFpQjtBQUFFQyxFQUFBQSxXQUFXLEVBQVhBO0FBQUYsQ0FBakIsQ0FBckI7O0FBRUEsTUFBTUMsaUJBQWlCLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjO0FBQ3RDVixFQUFBQSxhQURzQztBQUV0Q0UsRUFBQUEsV0FGc0M7QUFHdENTLEVBQUFBLFFBQVEsRUFBUkEsaUJBSHNDO0FBSXRDUCxFQUFBQSxXQUpzQztBQUt0Q0UsRUFBQUE7QUFMc0MsQ0FBZCxDQUExQjtlQVFlRSxpQiIsInNvdXJjZVJvb3QiOiJEOlxcU29ma2FVXFw2Lk5vZGVKc1xcNC5hcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXGNvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBhZGRDb21tZW50LFxyXG4gIGVkaXRDb21tZW50LFxyXG4gIGxpc3RDb21tZW50cyxcclxuICByZW1vdmVDb21tZW50XHJcbn0gZnJvbSAnLi4vdXNlLWNhc2VzJ1xyXG5pbXBvcnQgbWFrZURlbGV0ZUNvbW1lbnQgZnJvbSAnLi9kZWxldGUtY29tbWVudCdcclxuaW1wb3J0IG1ha2VHZXRDb21tZW50cyBmcm9tICcuL2dldC1jb21tZW50cydcclxuaW1wb3J0IG1ha2VQb3N0Q29tbWVudCBmcm9tICcuL3Bvc3QtY29tbWVudCdcclxuaW1wb3J0IG1ha2VQYXRjaENvbW1lbnQgZnJvbSAnLi9wYXRjaC1jb21tZW50J1xyXG5pbXBvcnQgbm90Rm91bmQgZnJvbSAnLi9ub3QtZm91bmQnXHJcblxyXG5jb25zdCBkZWxldGVDb21tZW50ID0gbWFrZURlbGV0ZUNvbW1lbnQoeyByZW1vdmVDb21tZW50IH0pXHJcbmNvbnN0IGdldENvbW1lbnRzID0gbWFrZUdldENvbW1lbnRzKHtcclxuICBsaXN0Q29tbWVudHNcclxufSlcclxuY29uc3QgcG9zdENvbW1lbnQgPSBtYWtlUG9zdENvbW1lbnQoeyBhZGRDb21tZW50IH0pXHJcbmNvbnN0IHBhdGNoQ29tbWVudCA9IG1ha2VQYXRjaENvbW1lbnQoeyBlZGl0Q29tbWVudCB9KVxyXG5cclxuY29uc3QgY29tbWVudENvbnRyb2xsZXIgPSBPYmplY3QuZnJlZXplKHtcclxuICBkZWxldGVDb21tZW50LFxyXG4gIGdldENvbW1lbnRzLFxyXG4gIG5vdEZvdW5kLFxyXG4gIHBvc3RDb21tZW50LFxyXG4gIHBhdGNoQ29tbWVudFxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29tbWVudENvbnRyb2xsZXJcclxuZXhwb3J0IHsgZGVsZXRlQ29tbWVudCwgZ2V0Q29tbWVudHMsIG5vdEZvdW5kLCBwb3N0Q29tbWVudCwgcGF0Y2hDb21tZW50IH1cclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "deleteComment",
        "removeComment",
        "getComments",
        "listComments",
        "postComment",
        "addComment",
        "patchComment",
        "editComment",
        "commentController",
        "Object",
        "freeze",
        "notFound"
      ],
      "mappings": ";;;;;;;;;;;;;AAAA;;AAMA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,aAAa,GAAG,4BAAkB;AAAEC,EAAAA,aAAa,EAAbA;AAAF,CAAlB,CAAtB;;AACA,MAAMC,WAAW,GAAG,0BAAgB;AAClCC,EAAAA,YAAY,EAAZA;AADkC,CAAhB,CAApB;;AAGA,MAAMC,WAAW,GAAG,0BAAgB;AAAEC,EAAAA,UAAU,EAAVA;AAAF,CAAhB,CAApB;;AACA,MAAMC,YAAY,GAAG,2BAAiB;AAAEC,EAAAA,WAAW,EAAXA;AAAF,CAAjB,CAArB;;AAEA,MAAMC,iBAAiB,GAAGC,MAAM,CAACC,MAAP,CAAc;AACtCV,EAAAA,aADsC;AAEtCE,EAAAA,WAFsC;AAGtCS,EAAAA,QAAQ,EAARA,iBAHsC;AAItCP,EAAAA,WAJsC;AAKtCE,EAAAA;AALsC,CAAd,CAA1B;eAQeE,iB",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\controllers",
      "sourcesContent": [
        "import {\r\n  addComment,\r\n  editComment,\r\n  listComments,\r\n  removeComment\r\n} from '../use-cases'\r\nimport makeDeleteComment from './delete-comment'\r\nimport makeGetComments from './get-comments'\r\nimport makePostComment from './post-comment'\r\nimport makePatchComment from './patch-comment'\r\nimport notFound from './not-found'\r\n\r\nconst deleteComment = makeDeleteComment({ removeComment })\r\nconst getComments = makeGetComments({\r\n  listComments\r\n})\r\nconst postComment = makePostComment({ addComment })\r\nconst patchComment = makePatchComment({ editComment })\r\n\r\nconst commentController = Object.freeze({\r\n  deleteComment,\r\n  getComments,\r\n  notFound,\r\n  postComment,\r\n  patchComment\r\n})\r\n\r\nexport default commentController\r\nexport { deleteComment, getComments, notFound, postComment, patchComment }\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625525243893
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeComment = exports.listComments = exports.editComment = exports.addComment = exports.default = void 0;\n\nvar _addComment = _interopRequireDefault(require(\"./add-comment\"));\n\nvar _editComment = _interopRequireDefault(require(\"./edit-comment\"));\n\nvar _removeComment = _interopRequireDefault(require(\"./remove-comment\"));\n\nvar _listComments = _interopRequireDefault(require(\"./list-comments\"));\n\nvar _handleModeration = _interopRequireDefault(require(\"./handle-moderation\"));\n\nvar _dataAccess = _interopRequireDefault(require(\"../data-access\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst handleModeration = (0, _handleModeration.default)({\n  initiateReview: async () => {} // TODO: Make real initiate review function.\n\n});\nconst addComment = (0, _addComment.default)({\n  commentsDb: _dataAccess.default,\n  handleModeration\n});\nexports.addComment = addComment;\nconst editComment = (0, _editComment.default)({\n  commentsDb: _dataAccess.default,\n  handleModeration\n});\nexports.editComment = editComment;\nconst listComments = (0, _listComments.default)({\n  commentsDb: _dataAccess.default\n});\nexports.listComments = listComments;\nconst removeComment = (0, _removeComment.default)({\n  commentsDb: _dataAccess.default\n});\nexports.removeComment = removeComment;\nconst commentService = Object.freeze({\n  addComment,\n  editComment,\n  handleModeration,\n  listComments,\n  removeComment\n});\nvar _default = commentService;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImhhbmRsZU1vZGVyYXRpb24iLCJpbml0aWF0ZVJldmlldyIsImFkZENvbW1lbnQiLCJjb21tZW50c0RiIiwiZWRpdENvbW1lbnQiLCJsaXN0Q29tbWVudHMiLCJyZW1vdmVDb21tZW50IiwiY29tbWVudFNlcnZpY2UiLCJPYmplY3QiLCJmcmVlemUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLGdCQUFnQixHQUFHLCtCQUFxQjtBQUM1Q0MsRUFBQUEsY0FBYyxFQUFFLFlBQVksQ0FBRSxDQURjLENBQ2I7O0FBRGEsQ0FBckIsQ0FBekI7QUFHQSxNQUFNQyxVQUFVLEdBQUcseUJBQWU7QUFBRUMsRUFBQUEsVUFBVSxFQUFWQSxtQkFBRjtBQUFjSCxFQUFBQTtBQUFkLENBQWYsQ0FBbkI7O0FBQ0EsTUFBTUksV0FBVyxHQUFHLDBCQUFnQjtBQUFFRCxFQUFBQSxVQUFVLEVBQVZBLG1CQUFGO0FBQWNILEVBQUFBO0FBQWQsQ0FBaEIsQ0FBcEI7O0FBQ0EsTUFBTUssWUFBWSxHQUFHLDJCQUFpQjtBQUFFRixFQUFBQSxVQUFVLEVBQVZBO0FBQUYsQ0FBakIsQ0FBckI7O0FBQ0EsTUFBTUcsYUFBYSxHQUFHLDRCQUFrQjtBQUFFSCxFQUFBQSxVQUFVLEVBQVZBO0FBQUYsQ0FBbEIsQ0FBdEI7O0FBRUEsTUFBTUksY0FBYyxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUNuQ1AsRUFBQUEsVUFEbUM7QUFFbkNFLEVBQUFBLFdBRm1DO0FBR25DSixFQUFBQSxnQkFIbUM7QUFJbkNLLEVBQUFBLFlBSm1DO0FBS25DQyxFQUFBQTtBQUxtQyxDQUFkLENBQXZCO2VBUWVDLGMiLCJzb3VyY2VSb290IjoiRDpcXFNvZmthVVxcNi5Ob2RlSnNcXDQuYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFx1c2UtY2FzZXMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFrZUFkZENvbW1lbnQgZnJvbSAnLi9hZGQtY29tbWVudCdcclxuaW1wb3J0IG1ha2VFZGl0Q29tbWVudCBmcm9tICcuL2VkaXQtY29tbWVudCdcclxuaW1wb3J0IG1ha2VSZW1vdmVDb21tZW50IGZyb20gJy4vcmVtb3ZlLWNvbW1lbnQnXHJcbmltcG9ydCBtYWtlTGlzdENvbW1lbnRzIGZyb20gJy4vbGlzdC1jb21tZW50cydcclxuaW1wb3J0IG1ha2VIYW5kbGVNb2RlcmF0aW9uIGZyb20gJy4vaGFuZGxlLW1vZGVyYXRpb24nXHJcbmltcG9ydCBjb21tZW50c0RiIGZyb20gJy4uL2RhdGEtYWNjZXNzJ1xyXG5cclxuY29uc3QgaGFuZGxlTW9kZXJhdGlvbiA9IG1ha2VIYW5kbGVNb2RlcmF0aW9uKHtcclxuICBpbml0aWF0ZVJldmlldzogYXN5bmMgKCkgPT4ge30gLy8gVE9ETzogTWFrZSByZWFsIGluaXRpYXRlIHJldmlldyBmdW5jdGlvbi5cclxufSlcclxuY29uc3QgYWRkQ29tbWVudCA9IG1ha2VBZGRDb21tZW50KHsgY29tbWVudHNEYiwgaGFuZGxlTW9kZXJhdGlvbiB9KVxyXG5jb25zdCBlZGl0Q29tbWVudCA9IG1ha2VFZGl0Q29tbWVudCh7IGNvbW1lbnRzRGIsIGhhbmRsZU1vZGVyYXRpb24gfSlcclxuY29uc3QgbGlzdENvbW1lbnRzID0gbWFrZUxpc3RDb21tZW50cyh7IGNvbW1lbnRzRGIgfSlcclxuY29uc3QgcmVtb3ZlQ29tbWVudCA9IG1ha2VSZW1vdmVDb21tZW50KHsgY29tbWVudHNEYiB9KVxyXG5cclxuY29uc3QgY29tbWVudFNlcnZpY2UgPSBPYmplY3QuZnJlZXplKHtcclxuICBhZGRDb21tZW50LFxyXG4gIGVkaXRDb21tZW50LFxyXG4gIGhhbmRsZU1vZGVyYXRpb24sXHJcbiAgbGlzdENvbW1lbnRzLFxyXG4gIHJlbW92ZUNvbW1lbnRcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbW1lbnRTZXJ2aWNlXHJcbmV4cG9ydCB7IGFkZENvbW1lbnQsIGVkaXRDb21tZW50LCBsaXN0Q29tbWVudHMsIHJlbW92ZUNvbW1lbnQgfVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "handleModeration",
        "initiateReview",
        "addComment",
        "commentsDb",
        "editComment",
        "listComments",
        "removeComment",
        "commentService",
        "Object",
        "freeze"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,gBAAgB,GAAG,+BAAqB;AAC5CC,EAAAA,cAAc,EAAE,YAAY,CAAE,CADc,CACb;;AADa,CAArB,CAAzB;AAGA,MAAMC,UAAU,GAAG,yBAAe;AAAEC,EAAAA,UAAU,EAAVA,mBAAF;AAAcH,EAAAA;AAAd,CAAf,CAAnB;;AACA,MAAMI,WAAW,GAAG,0BAAgB;AAAED,EAAAA,UAAU,EAAVA,mBAAF;AAAcH,EAAAA;AAAd,CAAhB,CAApB;;AACA,MAAMK,YAAY,GAAG,2BAAiB;AAAEF,EAAAA,UAAU,EAAVA;AAAF,CAAjB,CAArB;;AACA,MAAMG,aAAa,GAAG,4BAAkB;AAAEH,EAAAA,UAAU,EAAVA;AAAF,CAAlB,CAAtB;;AAEA,MAAMI,cAAc,GAAGC,MAAM,CAACC,MAAP,CAAc;AACnCP,EAAAA,UADmC;AAEnCE,EAAAA,WAFmC;AAGnCJ,EAAAA,gBAHmC;AAInCK,EAAAA,YAJmC;AAKnCC,EAAAA;AALmC,CAAd,CAAvB;eAQeC,c",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "import makeAddComment from './add-comment'\r\nimport makeEditComment from './edit-comment'\r\nimport makeRemoveComment from './remove-comment'\r\nimport makeListComments from './list-comments'\r\nimport makeHandleModeration from './handle-moderation'\r\nimport commentsDb from '../data-access'\r\n\r\nconst handleModeration = makeHandleModeration({\r\n  initiateReview: async () => {} // TODO: Make real initiate review function.\r\n})\r\nconst addComment = makeAddComment({ commentsDb, handleModeration })\r\nconst editComment = makeEditComment({ commentsDb, handleModeration })\r\nconst listComments = makeListComments({ commentsDb })\r\nconst removeComment = makeRemoveComment({ commentsDb })\r\n\r\nconst commentService = Object.freeze({\r\n  addComment,\r\n  editComment,\r\n  handleModeration,\r\n  listComments,\r\n  removeComment\r\n})\r\n\r\nexport default commentService\r\nexport { addComment, editComment, listComments, removeComment }\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\use-cases\\\\add-comment.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\add-comment.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\add-comment.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases\\add-comment.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
        "sourceFileName": "add-comment.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = makeAddComment;\n\nvar _comment = _interopRequireDefault(require(\"../comment\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction makeAddComment({\n  commentsDb,\n  handleModeration\n}) {\n  return async function addComment(commentInfo) {\n    const comment = (0, _comment.default)(commentInfo);\n    const exists = await commentsDb.findByHash({\n      hash: comment.getHash()\n    });\n\n    if (exists) {\n      return exists;\n    }\n\n    const moderated = await handleModeration({\n      comment\n    });\n    const commentSource = moderated.getSource();\n    return commentsDb.insert({\n      author: moderated.getAuthor(),\n      createdOn: moderated.getCreatedOn(),\n      hash: moderated.getHash(),\n      id: moderated.getId(),\n      modifiedOn: moderated.getModifiedOn(),\n      postId: moderated.getPostId(),\n      published: moderated.isPublished(),\n      replyToId: moderated.getReplyToId(),\n      source: {\n        ip: commentSource.getIp(),\n        browser: commentSource.getBrowser(),\n        referrer: commentSource.getReferrer()\n      },\n      text: moderated.getText()\n    });\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1jb21tZW50LmpzIl0sIm5hbWVzIjpbIm1ha2VBZGRDb21tZW50IiwiY29tbWVudHNEYiIsImhhbmRsZU1vZGVyYXRpb24iLCJhZGRDb21tZW50IiwiY29tbWVudEluZm8iLCJjb21tZW50IiwiZXhpc3RzIiwiZmluZEJ5SGFzaCIsImhhc2giLCJnZXRIYXNoIiwibW9kZXJhdGVkIiwiY29tbWVudFNvdXJjZSIsImdldFNvdXJjZSIsImluc2VydCIsImF1dGhvciIsImdldEF1dGhvciIsImNyZWF0ZWRPbiIsImdldENyZWF0ZWRPbiIsImlkIiwiZ2V0SWQiLCJtb2RpZmllZE9uIiwiZ2V0TW9kaWZpZWRPbiIsInBvc3RJZCIsImdldFBvc3RJZCIsInB1Ymxpc2hlZCIsImlzUHVibGlzaGVkIiwicmVwbHlUb0lkIiwiZ2V0UmVwbHlUb0lkIiwic291cmNlIiwiaXAiLCJnZXRJcCIsImJyb3dzZXIiLCJnZXRCcm93c2VyIiwicmVmZXJyZXIiLCJnZXRSZWZlcnJlciIsInRleHQiLCJnZXRUZXh0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFDZSxTQUFTQSxjQUFULENBQXlCO0FBQUVDLEVBQUFBLFVBQUY7QUFBY0MsRUFBQUE7QUFBZCxDQUF6QixFQUEyRDtBQUN4RSxTQUFPLGVBQWVDLFVBQWYsQ0FBMkJDLFdBQTNCLEVBQXdDO0FBQzdDLFVBQU1DLE9BQU8sR0FBRyxzQkFBWUQsV0FBWixDQUFoQjtBQUNBLFVBQU1FLE1BQU0sR0FBRyxNQUFNTCxVQUFVLENBQUNNLFVBQVgsQ0FBc0I7QUFBRUMsTUFBQUEsSUFBSSxFQUFFSCxPQUFPLENBQUNJLE9BQVI7QUFBUixLQUF0QixDQUFyQjs7QUFDQSxRQUFJSCxNQUFKLEVBQVk7QUFDVixhQUFPQSxNQUFQO0FBQ0Q7O0FBRUQsVUFBTUksU0FBUyxHQUFHLE1BQU1SLGdCQUFnQixDQUFDO0FBQUVHLE1BQUFBO0FBQUYsS0FBRCxDQUF4QztBQUNBLFVBQU1NLGFBQWEsR0FBR0QsU0FBUyxDQUFDRSxTQUFWLEVBQXRCO0FBQ0EsV0FBT1gsVUFBVSxDQUFDWSxNQUFYLENBQWtCO0FBQ3ZCQyxNQUFBQSxNQUFNLEVBQUVKLFNBQVMsQ0FBQ0ssU0FBVixFQURlO0FBRXZCQyxNQUFBQSxTQUFTLEVBQUVOLFNBQVMsQ0FBQ08sWUFBVixFQUZZO0FBR3ZCVCxNQUFBQSxJQUFJLEVBQUVFLFNBQVMsQ0FBQ0QsT0FBVixFQUhpQjtBQUl2QlMsTUFBQUEsRUFBRSxFQUFFUixTQUFTLENBQUNTLEtBQVYsRUFKbUI7QUFLdkJDLE1BQUFBLFVBQVUsRUFBRVYsU0FBUyxDQUFDVyxhQUFWLEVBTFc7QUFNdkJDLE1BQUFBLE1BQU0sRUFBRVosU0FBUyxDQUFDYSxTQUFWLEVBTmU7QUFPdkJDLE1BQUFBLFNBQVMsRUFBRWQsU0FBUyxDQUFDZSxXQUFWLEVBUFk7QUFRdkJDLE1BQUFBLFNBQVMsRUFBRWhCLFNBQVMsQ0FBQ2lCLFlBQVYsRUFSWTtBQVN2QkMsTUFBQUEsTUFBTSxFQUFFO0FBQ05DLFFBQUFBLEVBQUUsRUFBRWxCLGFBQWEsQ0FBQ21CLEtBQWQsRUFERTtBQUVOQyxRQUFBQSxPQUFPLEVBQUVwQixhQUFhLENBQUNxQixVQUFkLEVBRkg7QUFHTkMsUUFBQUEsUUFBUSxFQUFFdEIsYUFBYSxDQUFDdUIsV0FBZDtBQUhKLE9BVGU7QUFjdkJDLE1BQUFBLElBQUksRUFBRXpCLFNBQVMsQ0FBQzBCLE9BQVY7QUFkaUIsS0FBbEIsQ0FBUDtBQWdCRCxHQXpCRDtBQTBCRCIsInNvdXJjZVJvb3QiOiJEOlxcU29ma2FVXFw2Lk5vZGVKc1xcNC5hcGxpY2FjaW9uRW1wcmVzYXJpYWxOb2RlRXhwcmVzc01vbmdvXFxzcmNcXHVzZS1jYXNlcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtYWtlQ29tbWVudCBmcm9tICcuLi9jb21tZW50J1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlQWRkQ29tbWVudCAoeyBjb21tZW50c0RiLCBoYW5kbGVNb2RlcmF0aW9uIH0pIHtcclxuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gYWRkQ29tbWVudCAoY29tbWVudEluZm8pIHtcclxuICAgIGNvbnN0IGNvbW1lbnQgPSBtYWtlQ29tbWVudChjb21tZW50SW5mbylcclxuICAgIGNvbnN0IGV4aXN0cyA9IGF3YWl0IGNvbW1lbnRzRGIuZmluZEJ5SGFzaCh7IGhhc2g6IGNvbW1lbnQuZ2V0SGFzaCgpIH0pXHJcbiAgICBpZiAoZXhpc3RzKSB7XHJcbiAgICAgIHJldHVybiBleGlzdHNcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBtb2RlcmF0ZWQgPSBhd2FpdCBoYW5kbGVNb2RlcmF0aW9uKHsgY29tbWVudCB9KVxyXG4gICAgY29uc3QgY29tbWVudFNvdXJjZSA9IG1vZGVyYXRlZC5nZXRTb3VyY2UoKVxyXG4gICAgcmV0dXJuIGNvbW1lbnRzRGIuaW5zZXJ0KHtcclxuICAgICAgYXV0aG9yOiBtb2RlcmF0ZWQuZ2V0QXV0aG9yKCksXHJcbiAgICAgIGNyZWF0ZWRPbjogbW9kZXJhdGVkLmdldENyZWF0ZWRPbigpLFxyXG4gICAgICBoYXNoOiBtb2RlcmF0ZWQuZ2V0SGFzaCgpLFxyXG4gICAgICBpZDogbW9kZXJhdGVkLmdldElkKCksXHJcbiAgICAgIG1vZGlmaWVkT246IG1vZGVyYXRlZC5nZXRNb2RpZmllZE9uKCksXHJcbiAgICAgIHBvc3RJZDogbW9kZXJhdGVkLmdldFBvc3RJZCgpLFxyXG4gICAgICBwdWJsaXNoZWQ6IG1vZGVyYXRlZC5pc1B1Ymxpc2hlZCgpLFxyXG4gICAgICByZXBseVRvSWQ6IG1vZGVyYXRlZC5nZXRSZXBseVRvSWQoKSxcclxuICAgICAgc291cmNlOiB7XHJcbiAgICAgICAgaXA6IGNvbW1lbnRTb3VyY2UuZ2V0SXAoKSxcclxuICAgICAgICBicm93c2VyOiBjb21tZW50U291cmNlLmdldEJyb3dzZXIoKSxcclxuICAgICAgICByZWZlcnJlcjogY29tbWVudFNvdXJjZS5nZXRSZWZlcnJlcigpXHJcbiAgICAgIH0sXHJcbiAgICAgIHRleHQ6IG1vZGVyYXRlZC5nZXRUZXh0KClcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "add-comment.js"
      ],
      "names": [
        "makeAddComment",
        "commentsDb",
        "handleModeration",
        "addComment",
        "commentInfo",
        "comment",
        "exists",
        "findByHash",
        "hash",
        "getHash",
        "moderated",
        "commentSource",
        "getSource",
        "insert",
        "author",
        "getAuthor",
        "createdOn",
        "getCreatedOn",
        "id",
        "getId",
        "modifiedOn",
        "getModifiedOn",
        "postId",
        "getPostId",
        "published",
        "isPublished",
        "replyToId",
        "getReplyToId",
        "source",
        "ip",
        "getIp",
        "browser",
        "getBrowser",
        "referrer",
        "getReferrer",
        "text",
        "getText"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACe,SAASA,cAAT,CAAyB;AAAEC,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAAzB,EAA2D;AACxE,SAAO,eAAeC,UAAf,CAA2BC,WAA3B,EAAwC;AAC7C,UAAMC,OAAO,GAAG,sBAAYD,WAAZ,CAAhB;AACA,UAAME,MAAM,GAAG,MAAML,UAAU,CAACM,UAAX,CAAsB;AAAEC,MAAAA,IAAI,EAAEH,OAAO,CAACI,OAAR;AAAR,KAAtB,CAArB;;AACA,QAAIH,MAAJ,EAAY;AACV,aAAOA,MAAP;AACD;;AAED,UAAMI,SAAS,GAAG,MAAMR,gBAAgB,CAAC;AAAEG,MAAAA;AAAF,KAAD,CAAxC;AACA,UAAMM,aAAa,GAAGD,SAAS,CAACE,SAAV,EAAtB;AACA,WAAOX,UAAU,CAACY,MAAX,CAAkB;AACvBC,MAAAA,MAAM,EAAEJ,SAAS,CAACK,SAAV,EADe;AAEvBC,MAAAA,SAAS,EAAEN,SAAS,CAACO,YAAV,EAFY;AAGvBT,MAAAA,IAAI,EAAEE,SAAS,CAACD,OAAV,EAHiB;AAIvBS,MAAAA,EAAE,EAAER,SAAS,CAACS,KAAV,EAJmB;AAKvBC,MAAAA,UAAU,EAAEV,SAAS,CAACW,aAAV,EALW;AAMvBC,MAAAA,MAAM,EAAEZ,SAAS,CAACa,SAAV,EANe;AAOvBC,MAAAA,SAAS,EAAEd,SAAS,CAACe,WAAV,EAPY;AAQvBC,MAAAA,SAAS,EAAEhB,SAAS,CAACiB,YAAV,EARY;AASvBC,MAAAA,MAAM,EAAE;AACNC,QAAAA,EAAE,EAAElB,aAAa,CAACmB,KAAd,EADE;AAENC,QAAAA,OAAO,EAAEpB,aAAa,CAACqB,UAAd,EAFH;AAGNC,QAAAA,QAAQ,EAAEtB,aAAa,CAACuB,WAAd;AAHJ,OATe;AAcvBC,MAAAA,IAAI,EAAEzB,SAAS,CAAC0B,OAAV;AAdiB,KAAlB,CAAP;AAgBD,GAzBD;AA0BD",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\use-cases",
      "sourcesContent": [
        "import makeComment from '../comment'\r\nexport default function makeAddComment ({ commentsDb, handleModeration }) {\r\n  return async function addComment (commentInfo) {\r\n    const comment = makeComment(commentInfo)\r\n    const exists = await commentsDb.findByHash({ hash: comment.getHash() })\r\n    if (exists) {\r\n      return exists\r\n    }\r\n\r\n    const moderated = await handleModeration({ comment })\r\n    const commentSource = moderated.getSource()\r\n    return commentsDb.insert({\r\n      author: moderated.getAuthor(),\r\n      createdOn: moderated.getCreatedOn(),\r\n      hash: moderated.getHash(),\r\n      id: moderated.getId(),\r\n      modifiedOn: moderated.getModifiedOn(),\r\n      postId: moderated.getPostId(),\r\n      published: moderated.isPublished(),\r\n      replyToId: moderated.getReplyToId(),\r\n      source: {\r\n        ip: commentSource.getIp(),\r\n        browser: commentSource.getBrowser(),\r\n        referrer: commentSource.getReferrer()\r\n      },\r\n      text: moderated.getText()\r\n    })\r\n  }\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\comment\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\n\nvar _Id = _interopRequireDefault(require(\"../Id\"));\n\nvar _ipRegex = _interopRequireDefault(require(\"ip-regex\"));\n\nvar _sanitizeHtml = _interopRequireDefault(require(\"sanitize-html\"));\n\nvar _comment = _interopRequireDefault(require(\"./comment\"));\n\nvar _source = _interopRequireDefault(require(\"./source\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst makeSource = (0, _source.default)({\n  isValidIp\n});\nconst makeComment = (0, _comment.default)({\n  Id: _Id.default,\n  md5,\n  sanitize,\n  makeSource\n});\nvar _default = makeComment;\nexports.default = _default;\n\nfunction isValidIp(ip) {\n  return (0, _ipRegex.default)({\n    exact: true\n  }).test(ip);\n}\n\nfunction md5(text) {\n  return _crypto.default.createHash('md5').update(text, 'utf-8').digest('hex');\n}\n\nfunction sanitize(text) {\n  // TODO: allow more coding embeds\n  return (0, _sanitizeHtml.default)(text, {\n    allowedIframeHostnames: ['codesandbox.io', 'repl.it']\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIm1ha2VTb3VyY2UiLCJpc1ZhbGlkSXAiLCJtYWtlQ29tbWVudCIsIklkIiwibWQ1Iiwic2FuaXRpemUiLCJpcCIsImV4YWN0IiwidGVzdCIsInRleHQiLCJjcnlwdG8iLCJjcmVhdGVIYXNoIiwidXBkYXRlIiwiZGlnZXN0IiwiYWxsb3dlZElmcmFtZUhvc3RuYW1lcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLHFCQUFnQjtBQUFFQyxFQUFBQTtBQUFGLENBQWhCLENBQW5CO0FBQ0EsTUFBTUMsV0FBVyxHQUFHLHNCQUFpQjtBQUFFQyxFQUFBQSxFQUFFLEVBQUZBLFdBQUY7QUFBTUMsRUFBQUEsR0FBTjtBQUFXQyxFQUFBQSxRQUFYO0FBQXFCTCxFQUFBQTtBQUFyQixDQUFqQixDQUFwQjtlQUVlRSxXOzs7QUFFZixTQUFTRCxTQUFULENBQW9CSyxFQUFwQixFQUF3QjtBQUN0QixTQUFPLHNCQUFRO0FBQUVDLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQVIsRUFBeUJDLElBQXpCLENBQThCRixFQUE5QixDQUFQO0FBQ0Q7O0FBRUQsU0FBU0YsR0FBVCxDQUFjSyxJQUFkLEVBQW9CO0FBQ2xCLFNBQU9DLGdCQUNKQyxVQURJLENBQ08sS0FEUCxFQUVKQyxNQUZJLENBRUdILElBRkgsRUFFUyxPQUZULEVBR0pJLE1BSEksQ0FHRyxLQUhILENBQVA7QUFJRDs7QUFFRCxTQUFTUixRQUFULENBQW1CSSxJQUFuQixFQUF5QjtBQUN2QjtBQUNBLFNBQU8sMkJBQWFBLElBQWIsRUFBbUI7QUFDeEJLLElBQUFBLHNCQUFzQixFQUFFLENBQUMsZ0JBQUQsRUFBbUIsU0FBbkI7QUFEQSxHQUFuQixDQUFQO0FBR0QiLCJzb3VyY2VSb290IjoiRDpcXFNvZmthVVxcNi5Ob2RlSnNcXDQuYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFxjb21tZW50Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nXHJcbmltcG9ydCBJZCBmcm9tICcuLi9JZCdcclxuaW1wb3J0IGlwUmVnZXggZnJvbSAnaXAtcmVnZXgnXHJcbmltcG9ydCBzYW5pdGl6ZUh0bWwgZnJvbSAnc2FuaXRpemUtaHRtbCdcclxuaW1wb3J0IGJ1aWxkTWFrZUNvbW1lbnQgZnJvbSAnLi9jb21tZW50J1xyXG5pbXBvcnQgYnVpbGRNYWtlU291cmNlIGZyb20gJy4vc291cmNlJ1xyXG5cclxuY29uc3QgbWFrZVNvdXJjZSA9IGJ1aWxkTWFrZVNvdXJjZSh7IGlzVmFsaWRJcCB9KVxyXG5jb25zdCBtYWtlQ29tbWVudCA9IGJ1aWxkTWFrZUNvbW1lbnQoeyBJZCwgbWQ1LCBzYW5pdGl6ZSwgbWFrZVNvdXJjZSB9KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbWFrZUNvbW1lbnRcclxuXHJcbmZ1bmN0aW9uIGlzVmFsaWRJcCAoaXApIHtcclxuICByZXR1cm4gaXBSZWdleCh7IGV4YWN0OiB0cnVlIH0pLnRlc3QoaXApXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1kNSAodGV4dCkge1xyXG4gIHJldHVybiBjcnlwdG9cclxuICAgIC5jcmVhdGVIYXNoKCdtZDUnKVxyXG4gICAgLnVwZGF0ZSh0ZXh0LCAndXRmLTgnKVxyXG4gICAgLmRpZ2VzdCgnaGV4JylcclxufVxyXG5cclxuZnVuY3Rpb24gc2FuaXRpemUgKHRleHQpIHtcclxuICAvLyBUT0RPOiBhbGxvdyBtb3JlIGNvZGluZyBlbWJlZHNcclxuICByZXR1cm4gc2FuaXRpemVIdG1sKHRleHQsIHtcclxuICAgIGFsbG93ZWRJZnJhbWVIb3N0bmFtZXM6IFsnY29kZXNhbmRib3guaW8nLCAncmVwbC5pdCddXHJcbiAgfSlcclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "makeSource",
        "isValidIp",
        "makeComment",
        "Id",
        "md5",
        "sanitize",
        "ip",
        "exact",
        "test",
        "text",
        "crypto",
        "createHash",
        "update",
        "digest",
        "allowedIframeHostnames"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,qBAAgB;AAAEC,EAAAA;AAAF,CAAhB,CAAnB;AACA,MAAMC,WAAW,GAAG,sBAAiB;AAAEC,EAAAA,EAAE,EAAFA,WAAF;AAAMC,EAAAA,GAAN;AAAWC,EAAAA,QAAX;AAAqBL,EAAAA;AAArB,CAAjB,CAApB;eAEeE,W;;;AAEf,SAASD,SAAT,CAAoBK,EAApB,EAAwB;AACtB,SAAO,sBAAQ;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAR,EAAyBC,IAAzB,CAA8BF,EAA9B,CAAP;AACD;;AAED,SAASF,GAAT,CAAcK,IAAd,EAAoB;AAClB,SAAOC,gBACJC,UADI,CACO,KADP,EAEJC,MAFI,CAEGH,IAFH,EAES,OAFT,EAGJI,MAHI,CAGG,KAHH,CAAP;AAID;;AAED,SAASR,QAAT,CAAmBI,IAAnB,EAAyB;AACvB;AACA,SAAO,2BAAaA,IAAb,EAAmB;AACxBK,IAAAA,sBAAsB,EAAE,CAAC,gBAAD,EAAmB,SAAnB;AADA,GAAnB,CAAP;AAGD",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\comment",
      "sourcesContent": [
        "import crypto from 'crypto'\r\nimport Id from '../Id'\r\nimport ipRegex from 'ip-regex'\r\nimport sanitizeHtml from 'sanitize-html'\r\nimport buildMakeComment from './comment'\r\nimport buildMakeSource from './source'\r\n\r\nconst makeSource = buildMakeSource({ isValidIp })\r\nconst makeComment = buildMakeComment({ Id, md5, sanitize, makeSource })\r\n\r\nexport default makeComment\r\n\r\nfunction isValidIp (ip) {\r\n  return ipRegex({ exact: true }).test(ip)\r\n}\r\n\r\nfunction md5 (text) {\r\n  return crypto\r\n    .createHash('md5')\r\n    .update(text, 'utf-8')\r\n    .digest('hex')\r\n}\r\n\r\nfunction sanitize (text) {\r\n  // TODO: allow more coding embeds\r\n  return sanitizeHtml(text, {\r\n    allowedIframeHostnames: ['codesandbox.io', 'repl.it']\r\n  })\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  },
  "{\"sourceRoot\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\Id\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"filename\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\src\\\\Id\\\\index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\",\"plugins\":[{\"key\":\"D:\\\\SofkaU\\\\6.NodeJs\\\\4.aplicacionEmpresarialNodeExpressMongo\\\\node_modules\\\\babel-plugin-inline-dotenv\\\\src\\\\index.js\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.3.4": {
    "metadata": {},
    "options": {
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\Id",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\Id\\index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\node_modules\\babel-plugin-inline-dotenv\\src\\index.js",
          "visitor": {
            "MemberExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\Id\\index.js",
        "plugins": [
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\Id\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\Id",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _cuid = _interopRequireDefault(require(\"cuid\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst Id = Object.freeze({\n  makeId: _cuid.default,\n  isValidId: _cuid.default.isCuid\n});\nvar _default = Id;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIklkIiwiT2JqZWN0IiwiZnJlZXplIiwibWFrZUlkIiwiY3VpZCIsImlzVmFsaWRJZCIsImlzQ3VpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsRUFBRSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUN2QkMsRUFBQUEsTUFBTSxFQUFFQyxhQURlO0FBRXZCQyxFQUFBQSxTQUFTLEVBQUVELGNBQUtFO0FBRk8sQ0FBZCxDQUFYO2VBS2VOLEUiLCJzb3VyY2VSb290IjoiRDpcXFNvZmthVVxcNi5Ob2RlSnNcXDQuYXBsaWNhY2lvbkVtcHJlc2FyaWFsTm9kZUV4cHJlc3NNb25nb1xcc3JjXFxJZCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjdWlkIGZyb20gJ2N1aWQnXHJcblxyXG5jb25zdCBJZCA9IE9iamVjdC5mcmVlemUoe1xyXG4gIG1ha2VJZDogY3VpZCxcclxuICBpc1ZhbGlkSWQ6IGN1aWQuaXNDdWlkXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBJZFxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "Id",
        "Object",
        "freeze",
        "makeId",
        "cuid",
        "isValidId",
        "isCuid"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,EAAE,GAAGC,MAAM,CAACC,MAAP,CAAc;AACvBC,EAAAA,MAAM,EAAEC,aADe;AAEvBC,EAAAA,SAAS,EAAED,cAAKE;AAFO,CAAd,CAAX;eAKeN,E",
      "sourceRoot": "D:\\SofkaU\\6.NodeJs\\4.aplicacionEmpresarialNodeExpressMongo\\src\\Id",
      "sourcesContent": [
        "import cuid from 'cuid'\r\n\r\nconst Id = Object.freeze({\r\n  makeId: cuid,\r\n  isValidId: cuid.isCuid\r\n})\r\n\r\nexport default Id\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1625104658232
  }
}